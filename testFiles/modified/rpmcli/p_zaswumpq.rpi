:!UTF-8
{COMMENT}OLD: zaswump2.rpi{COMMENT-}
{COMMENT}OLD: skid_pw.rpi{COMMENT-}
{INCLUDE: wsp_pw.rpi}
{MACRO: 'ls_item'}
   {JUSTIFY}
   {  STR.split(gsub(Text,'..','.'));
      korekta:=
         {? type_of(num)=type_of(0) & num
         || 4
         |? type_of(num)=type_of('') || 1+(+num)
         |? 1+Text=%255 || 3
         || 0
         ?};
   ~~}
   {WHILE: +(Text:=STR.line(charleft()-indent-korekta-4))}
   {DO}
      {REP:
         _cl:=charleft();
         {? type_of(num)=type_of(0) & num
         || _odp:={? indent=0 || '{<1 \''+$num+'.\'}' || '{<'+$indent+' \''+$num+')\'}' ?}; indent+=4; num:=0; _odp
         |? type_of(num)=type_of('') || _odp:='{<'+$indent+' \''+num+'\'}'; indent+=1+(+num); num:=0; _odp
         |? 1+Text=%255 || Text:=1-Text; _odp:='{<'+$indent+' \'-\'}'; indent+=3; num:=0; _odp
         || ''
         ?}+
         {? +STR.spl_str || '{JUSTIFY}{<'+$(indent)+'>'+$_cl || '{CENTER}{<'+$(indent) ?}+' num:=0; Text }'
      }
   {OD}
{MACRO-}
{FOR: __CALL}{DO}
   {IF: __CALL2.find_tab(,'H_UM_REF',,'=',__CALL.H_UM_REF)}
      {IF: PAR_WYDR.HEAD}
         {FONT: 'HEAD'}{SPACE: 'B'}
         { lmt:=charleft(); indent:=1; ~~ }
         {>{lmt}'%1, dn. %2'[__CALL.MIEJSCE,__CALL.DATA]}
         {<1 STR.split(__CALL.F_NAZWA); STR.line(lmt)}
         {WHILE: STR.next()}{DO}{<1 STR.line(lmt)}{OD}
         { PAR_WYDR.HEAD:=0; ~~ }
         {SUBSTITUTE: 'HEAD'}
         { PAR_WYDR.HEAD:=1; ~~ }
         {FONT: 'HEAD'}{SPACE: 'B'}
         {<1}{__CALL.F_ULICA}
         {<1}{__CALL.F_POCZTA}
         {<1}REGON-PKD {__CALL.F_REGON}{{? __CALL.F_PKD<>'' || '-'+__CALL.F_PKD || ~~?}}
      {ELSE}
         {FONT: 'HEAD'}{SPACE: 'B'}
         {LINE: 6}
      {FI}
      {FONT: 'TITLE'}{SPACE: 'A'}
      {<1>{charleft()}'UMOWA O PRACĘ'}
      {LINE: 1}
      {FONT: 'W12'}{SPACE: 'A'}
      {SUBSTITUTE:
         indent:=1;
         Text:='zawarta w dniu '+__CALL.DATA_ZAW;
         'ls_item'
      }
      {SUBSTITUTE: indent:=1;
         Text:='między: '+__CALL.F_NAZWA; 'ls_item'}
      {SUBSTITUTE: indent:=1;
         Text:='z siedzibą: %1, %2'[__CALL.F_ULICA,__CALL.F_POCZTA]; 'ls_item'}
      {SUBSTITUTE: indent:=1;
         Text:='reprezentowaną przez %1'[__CALL.F_OSREP]; 'ls_item'}
      {SUBSTITUTE: indent:=1; Text:='a %1'[__CALL.OSOBA]; 'ls_item'}
      {SUBSTITUTE:
         indent:=1;
         Text:='na %1.'[__CALL.NACZAS];
         'ls_item'}

      {SUBSTITUTE: indent:=0; num:=__glNr:=1; Text:='Strony ustalają następujące warunki zatrudnienia:'; 'ls_item'}

      {SUBSTITUTE: indent:=4; num:=1; Text:='rodzaj pracy: %1'[__CALL.STANOW]; 'ls_item'}
      {SUBSTITUTE: indent:=4; num:=2; Text:='miejsce/miejsca wykonywania pracy: %1'[__CALL.WYDZIAL]; 'ls_item'}
      {SUBSTITUTE: indent:=4; num:=3; Text:='wymiar czasu pracy: %1'[__CALL.WYMIAR]; 'ls_item'}
      {SUBSTITUTE: indent:=4; num:=4; Text:='wynagrodzenie:'; 'ls_item'}
      { lnr:=4;~~ }
      {IF: __CALL.SW1<>''}{SUBSTITUTE:
         indent:=7; num:=0;
         Text:=%255+__CALL.SW1+{? __CALL.KW_SL1<>'' || ' (słownie: %1)'[__CALL.KW_SL1] || '' ?};
         'ls_item'
      }{FI}
      {IF: __CALL.SW2<>''}{SUBSTITUTE:
         indent:=7; num:=0;
         Text:=%255+__CALL.SW2+{? __CALL.KW_SL2<>'' || ' (słownie: %1)'[__CALL.KW_SL2] || '' ?};
         'ls_item'
      }{FI}
      {IF: __CALL.SW3<>''}{SUBSTITUTE:
         indent:=7; num:=0;
         Text:=%255+__CALL.SW3+{? __CALL.KW_SL3<>'' || ' (słownie: %1)'[__CALL.KW_SL3] || '' ?};
         'ls_item'
      }{FI}
      {IF: __CALL.SW5<>''}{SUBSTITUTE:
         indent:=7; num:=0;
         Text:=%255+__CALL.SW5+{? __CALL.KW_SL4<>'' || ' (słownie: %1)'[__CALL.KW_SL4] || '' ?};
         'ls_item'
      }{FI}
      {IF: __CALL.SW4<>''}{SUBSTITUTE: indent:=7; num:=0; Text:=%255+__CALL.SW4; 'ls_item'}{FI}
      {IF: +__CALL.PRACA_ZD}{
         {? var_pres('Temp')=type_of(SYSLOG) || obj_del(Temp) ?};
         Temp:=proc_exe('praca_zd@zasw',__CALL.PRACA_ZD,__CALL.PRACA_ZW);
         ~~ }
         {IF: +|__CALL.PRACA_DT}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr;
               Text:='świadczenie pracy w trybie pracy zdalnej zgodnie z art. 67(18) Kodeksu pracy od %1 r.%2'
                  [__CALL.PRACA_DT,{? +__CALL2.PRACA_DO || ' do '+__CALL2.PRACA_DO+' r.' || '' ?}];
               'ls_item'
            }
            {FOR: Temp}
            {DO}
               {IF: +|Temp.TEKST}
                  {SUBSTITUTE: indent:=7; num:=0; Text:=%255+Temp.TEKST; 'ls_item'}
               {FI}
            {OD}
         {FI}
         { {? var_pres('Temp')=type_of(SYSLOG) || obj_del(Temp) ?}; ~~ }
      {FI}

      { __glNr+=1;~~ }
      {SUBSTITUTE: indent:=0; num:=__glNr; Text:='Dzień rozpoczęcia pracy: '+__CALL.ROZPRAC+'.'; 'ls_item'}

      {IF: __CALL.OKR_NEW<>'0' | __CALL2.PRZ_USPR='T' | __CALL2.ZAM_OKR<>'' | __CALL.INNEWAR<>'' | __CALL.GODZNADL<>''}
         { __glNr+=1;~~ }
         {SUBSTITUTE: indent:=0; num:=__glNr; Text:='Inne warunki pracy: '; 'ls_item'}
         { lnr:=0;~~ }
         {IF: __CALL.OKR_NEW<>'0'}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr; Text:='Przyczyny uzasadniające zawarcie umowy: %1%2'
               [__CALL.UZAS1,__CALL.UZAS2]; 'ls_item'}
         {FI}
         {IF: __CALL.GODZNADL<>''}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr; Text:='Dopuszczalna liczba godzin pracy ponad określony w umowie wymiar '
               'czasu pracy, których przekroczenie uprawnia pracownika, oprócz normalnego wynagrodzenia, do dodatku do '
               'wynagrodzenia: %1'[__CALL.GODZNADL]; 'ls_item'}
         {FI}
         {IF: __CALL2.PRZ_USPR='T'}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr; Text:='Postanowienie o przedłużeniu umowy: '
               'Umowa ulega przedłużeniu o czas urlopu, a także o czas innej usprawiedliwionej nieobecności '
               'pracownika w pracy, jeżeli wystąpią takie nieobecności.'; 'ls_item'}
         {FI}
         {IF: __CALL2.ZAM_OKR<>''}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr; Text:='Strony postanawiają po umowie na okres próbny zawrzeć umowę '
               'na czas określony %1.'[__CALL2.ZAM_OKR]; 'ls_item'}
         {FI}
         {IF: __CALL.INNEWAR<>''}
            { lnr+=1;~~ }
            {SUBSTITUTE: indent:=4; num:=lnr; Text:=__CALL.INNEWAR; 'ls_item'}
         {FI}
      {ELSE}
         { __glNr+=1;~~ }
         {SUBSTITUTE: indent:=0; num:=__glNr; Text:='Inne warunki pracy: brak'; 'ls_item'}
      {FI}
      {IF: __CALL.PAT<>'N'}

         { __glNr+=1;~~ }
         {SUBSTITUTE:
            indent:=0;
            num:=__glNr;
            Text:=
               'Obowiązki ze stosunku pracy obejmują także działalność twórczą, której rezultaty spełniają przesłanki '
               'utworu, o którym mowa w Art. 1 ust. 1 Ustawy o prawie autorskim i prawach pokrewnych. W związku z tym '
               'wynagrodzenie za pracę ustalone w pkt 1. ust. 4) obejmuje:';
            'ls_item'}
         {SUBSTITUTE:
            indent:=4;
            num:='a) ';
            Text:=
               'Wynagrodzenie autorskie z tytułu nabycia przez Pracodawcę, w trybie Ustawy o prawie autorskim i '
               'prawach pokrewnych, majątkowych praw autorskich do utworów stworzonych przez Pracownika w wyniku '
               'wykonywania obowiązków służbowych;';
            'ls_item'}
         {SUBSTITUTE:
            indent:=4;
            num:='b) ';
            Text:=
               'Wynagrodzenie za pracę obejmujące wykonywanie innych obowiązków pracowniczych, niezwiązanych z '
               'tworzeniem utworów w rozumieniu Ustawy o prawie autorskim i prawach pokrewnych.';
            'ls_item'}
         {SUBSTITUTE:
            indent:=4;
            num:=~~;
            _txt:=
               {? __CALL.PAT='K'
               || 'stanowić będzie kwotę %1'[__CALL.PAW]
               |? __CALL.PAT='P'
               || 'stanowić będzie %1 płacy zasadniczej pomniejszonej za dni nieprzepracowane'[__CALL.PAW]
               || 'ustalane będzie każdorazowo za dany miesiąc na podstawie godzinowej ewidencji pracy twórczej'
               ?};
            Text:=
               'Wynagrodzenie autorskie %1.'[_txt];
            'ls_item'}
      {FI}
      {LINE: 3}
      {FONT: 'W10'}{SPACE: 'C'}
      { lmt:=charleft(); ~~ }
      {<1>{lmt/2}(35*'─')}{<{lmt/2}>{lmt}(60*'─')}
      {<1>{lmt/2}'(data i podpis pracownika)'}{<{lmt/2}>{lmt}'(podpis pracodawcy lub osoby reprezentującej'}
      {<{lmt/2}>{lmt}' pracodawcę albo osoby upoważnionej do '}
      {<{lmt/2}>{lmt}'składania oświadczeń w imieniu pracodawcy)'}
      {PAGE}
   {FI}
{OD}