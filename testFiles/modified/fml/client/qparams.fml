:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: qparams.fml
:: Utworzony: 12.08.2020
:: Autor: TP
:: Systemy:
::======================================================================================================================
:: Zawartość: Parametry wdrożeniowe NUCO
::======================================================================================================================

\init
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TP [20.14]
:: OPIS: Formuła obowiązkowa.
::       Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry wdrożeniowe aplikacyjne
::----------------------------------------------------------------------------------------------------------------------

:: TTE
_par:=exec('add','#params'
   ,999001
   ,'Numer atrybutu określającego czy dzielić przewodniki zlecenia'
   ,157
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');

_par:=exec('add','#params'
   ,999002
   ,'Numer atrybutu określającego maksymalną il. na przewod. zl.'
   ,159
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');

_par:=exec('add','#params'
   ,999003
   ,'Numer atrybutu określającego minimalną il. na przewod. zl.'
   ,158
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');

_par:=exec('add','#params'
   ,999004
   ,'Magazyny dla NPU'
   ,''
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');

_par:=exec('add','#params'
   ,999006
   ,'Lista jednostek miar do zaokrąglenia do całości na limitach'
   ,',szt,10 szt, 100 szt, 1000 szt,'
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');

_par:=exec('add','#params'
   ,999007
   ,'Czy przepis złożony dla półproduktów nielimitowanych'
   ,'T'
   ,'NUCO - Produkcja'
);
exec('bind','#params',_par,'TTE');


_par:=exec('add','#params',999005,'Lista kontrahentów - podgląd rozrachunków wg uprawnień','','Kontrahenci');
   exec('bind','#params',_par,'ZWS');

_par:=exec('add','#params'
   ,999008
   ,'Dokumenty PZ do powiązania od daty?'
   , date(2022,12,31)
   ,'Wdrożeniowe');
   exec('bind','#params',_par,'ZWS');



:: LSP
_par:=exec('add','#params'
   ,999101
   ,'Liczba dni do ustalenia wewnętrznego terminu realizacji'
   ,7
   ,'NUCO - Zamówienia sprzedaży'
);
exec('bind','#params',_par,'LSP');

:: LMG
_par:=exec('add','#params'
   ,999201
   ,'Zakres dni - umieszczenie zam.wew. na liście zadań'
   ,2
   ,'NUCO - Magazyn'
);
exec('bind','#params',_par,'LMG');

:: LZK
_par:=exec('add','#params'
   ,999301
   ,'Zakres dni - umieszczenie zam.dost. na liście zadań'
   ,7
   ,'NUCO - Zakupy'
);
exec('bind','#params',_par,'LZK');
_par:=exec('add','#params'
   ,999302
   ,'Czy uwzględniać Lead Time w planie dostaw?'
   ,'N'
   ,'NUCO - Zakupy'
);
exec('bind','#params',_par,'LZK');


~~


\init_usr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: xxx [18.22]
:: OPIS: Formuła obowiązkowa.
::       Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry wdrożeniowe aplikacyjne
::----------------------------------------------------------------------------------------------------------------------
::_par:=exec('add_user','#params'
:: ,9990
:: ,'Parametr wdrożeniowy użytkownika'
:: ,1
:: ,'');
:::: Dziedzina produktowa do której należy parametr
::exec('bind','#params',_par,'ZWS');

::_par:=exec('add_user','#params',9990,'Modyfikacja magazynu dla lokalizacji',0,'NUC - Logistyka');
::exec('bind','#params',_par,'LMG');

_par:=exec('add_user','#params',9991,'Czy jest dostępny podgląd rozrachunków dla listy kontrahentów par 999005?','N','');
exec('bind','#params',_par,'ZWS');

:: PeKa - symbol drukarki do wydrukow z urzadzenia mobilnego - drukarka dodana w CUPS-ach
_par:=exec('add_user','#params'
 ,9992
 ,'Symbol drukarki CUPS do wydruku etykiety z urządzenia mobilnego'
 ,''
 ,'NUCO - Magazyn');
exec('bind','#params',_par,'ZWS');
:: PeKa - symbol etykiety do wydrukow z urzadzenia mobilnego
_par:=exec('add_user','#params'
 ,9993
 ,'Symbol etykiety do wydruku z urządzenia mobilnego'
 ,''
 ,'NUCO - Magazyn');
exec('bind','#params',_par,'ZWS');
:: PeKa - symbol etykiety do wydrukow z urzadzenia mobilnego
_par:=exec('add_user','#params'
 ,9994
 ,'Wydruk po wykonaniu naważki po zeskanowaniu w magazynie centralnym'
 ,'N'
 ,'NUCO - Magazyn');
exec('bind','#params',_par,'ZWS');
:: PeKa - Mozliwosc grupowej modyfikacji dokladnosci indeksow materialowych
_par:=exec('add_user','#params'
 ,9995
 ,'Grupowa modyfikacja dokładności dla indesków'
 ,'N'
 ,'NUCO - Wspólne');
exec('bind','#params',_par,'ZWS');


::TP - dodatkowa możliwość podziału partii przy rejestracji
_par:=exec('add_user','#params'
,9980
,'Czy podział partii przy rejestracji (T-tak; N-nie; P-pytaj)'
,''
,'NUCO - Produkcja');
exec('bind','#params',_par,'ZWS');

::TP - możliwość rejestracji dla pozycji bez planu operacyjnego
_par:=exec('add_user','#params'
,9985
,'Czy rejestrować prod. dla operacji bez planu oper.?'
,'N'
,'NUCO - Produkcja');
exec('bind','#params',_par,'ZWS');

::TP - czy pytać o kartę technologiczną półproduktu podczas generowania zleceń niezależnych
_par:=exec('add_user','#params'
,9986
,'Czy pytać o kart.techn. podczas generowania zleceń?'
,'N'
,'NUCO - Produkcja');
exec('bind','#params',_par,'ZWS');

:: JacekTe - Uprawnienie do zmiany numeru KP/KW w dokumencie kasowym
_par:=exec('add_user','#params'
 ,9996
 ,'Uprawnienie do zmiany numerów KP/KW'
 ,'N'
 ,'NUCO - Wspólne');
exec('bind','#params',_par,'ZWS');

:: PeKa - czy automatyczny wydruk etykiety nawazki (dla wydzialu MMO)
_par:=exec('add_user','#params'
,9981
,'Automatyczny wydruk etykiety naważki po zeskanowaniu surowca'
,'N'
,'NUCO - Produkcja');
exec('bind','#params',_par,'ZWS');
~~

\p999004
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 999004
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"1",1));
~~


\p999005
::----------------------------------------------------------------------------------------------------------------------
::  UTW:
:: OPIS: Formuła na redagowanie parametru 999005
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('wyb_kh_list','qnucozws',_a.get(),"",1));
~~