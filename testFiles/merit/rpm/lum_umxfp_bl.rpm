:!UTF-8
{TITLE: Błędy generacji}
{PRINTER:exec('set_parw','param_wydr');exec('prt','param_wydr','v'),,,,,'Q','C',,,,,,1,PAR_WYDR.MBOT,PAR_WYDR.MLEFT,PAR_WYDR.MTOP,PAR_WYDR.MRIGHT,0,1}
{BEGIN:
   {? var_pres('PRN',@)<=100 || PRN:=obj_new(@.CLASS.PRINT,20) ?}; PRN.s_frame();
   {? var_pres('PRNS',@)<=100 || PRNS:=obj_new(@.CLASS.PRINT,20) ?}; PRNS.s_frame();

   _msk:=FPACZ.ODDZ+($(FPACZ.AR)+2);
   {? (FPACZLOG.name()+3)<>_msk || FPACZLOG.use('fplog'+_msk) ?};
   exec('fpacz_log_build','umowy_faktury',FPACZ.ref());

   w:=obj_new(20);
   s:=obj_new(20);

   i:=0;
   color:=prn1:=prn2:='';
   lm:=ll:=vp:=lmt:=rsep:=0
;~~}
{END:
   obj_del(PRN); obj_del(PRNS); obj_del(w); obj_del(s);
   &i;
   &color; &prn1; &prn2;
   &lm; &ll; &vp; &lmt; &rsep
;~~}
{
   PRN.add("w[1]",5,'LP',1);
   PRN.add("w[2]",110,'Opis')
;~~}
{COMMENT}
color, prn1, lm, ll, vp, lmt, rsep - zmienne pomocnicze do wydrukow graficzn.
{COMMENT-}
{  PAR_WYDR.TITLE:='Błędy generacji paczki faktur nr '+$FPACZ.NR;
   prn1:='PRN'; prn2:='PRNS'; ~~}
{INCLUDE: wsp_pw.rpi}
{COMMENT}------------------------------SIGNATURE--------------------{COMMENT-}
{SUBSTITUTE: 'FOOT'}
{COMMENT}------------------------------REPORT-HEADER----------------{COMMENT-}
{SUBSTITUTE: 'HEAD'}
{FONT: 'T8G'}{SPACE: 'C'}
{ lmt:=int((charleft()-PRN.width())/2); ~~}
{<{lmt+1}}{'Parametry wydruku:'}
{FONT: 'T8GB'}
{SUBSTITUTE: 'TABHEAD'}{FONT: 'T8G'}{ vp:=1; ~~}
{COMMENT}------------------------------HEADER-----------------------{COMMENT-}
{HEADER}
{SUBSTITUTE: 'HEAD'}
{FONT: 'T8GB'}{SPACE: 'C'}
{SUBSTITUTE: 'TABHEAD'}
{HEADER-}
{COMMENT}------------------------------FOOTER-----------------------{COMMENT-}
{FOOTER: 0}
{SUBSTITUTE: 'LINIAF'}
{LINE: 1}
{FOOTER-}
{COMMENT}------------------------------WYDRUK-----------------------{COMMENT-}
{FONT: 'T8G'}{SPACE: 'C'}
{ rsep:=PAR_WYDR.RSEP; w[1]:=0; text:='';~~}
{FOR: FPACZLOG}
{INDEX: 'LP'}
{PREFIX: FPACZ.ref()}
{DO}
   {
   w[1]:=FPACZLOG.LP;
   w[2]:=FPACZLOG.OPIS;
   ~~}
   {SUBSTITUTE: 'LINIA0'}
{OD}
{ rsep:=PAR_WYDR.RSEP;~~}
{PAGE}