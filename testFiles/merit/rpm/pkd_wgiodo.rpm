:!UTF-8
{TITLE:Informacja o zakresie przetwarzania danych osobowych}
{PRINTER: exec('prt','param_wydr','v',KST),,,,,'M','B',,,,,,1,
          PAR_WYDR.MLEFT,PAR_WYDR.MTOP,PAR_WYDR.MRIGHT,PAR_WYDR.MBOT,0,1}
{BEGIN:
   VAR_DEL.delete('k','yesno','lp','pom','text');
   OSOBA.cntx_psh();
   OSOBA.prefix();
   P.cntx_psh();
   GIODO.cntx_psh();
   OS_SZKOL.cntx_psh();
   lp:=0;
   k:=obj_new(8);
   k[5]:=tab_tmp(3,
            'DATA','DATE',,
            'OPIS','STRING[40]',,
            'KOD','STRING[1]',,
            'OPIS1','STRING[255]',,
            'OPIS2','STRING[255]',,
            'OPIS3','STRING[255]',
         );
   k[8]:=exec('uprawnieniawrap','pkd','udostępnionych danych'@,'ZWS_DOS_PPGI','ZWS_DOS_PRGI');
   {? +k[8]
   || FUN.emsg('Brak wymaganych uprawnień do przeglądania informacji o: %1'@[k[8]])
   || k[1]:=4;
      k[6]:=exec('kod','giodo');
      k[7]:='personel';
      yesno:="{? _a='T' || 'tak' || 'nie' ?}";
      pom:=0;
      text:='';
      params_set('P',exec('wybierz_parses','pracownik','PKD').P)
   ?}
}
{END:
   VAR_DEL.delete('k','yesno','lp','pom','text');
   OS_SZKOL.cntx_pop();
   GIODO.cntx_pop();
   P.cntx_pop();
   OSOBA.cntx_pop()
}
{COMMENT}OLD: wgiodo.rpm{COMMENT-}
{COMMENT}OLD: skid_gos.rpi{COMMENT-}
{COMMENT}OLD: skid_pw.rpi{COMMENT-}
{EXIT: +k[8]}
{EXIT: ~params_get().P.first()}
{INCLUDE: wsp_pw.rpi}
{INCLUDE: p_giodoosoba.rpi}
 {FOR: params_get().P}{DO}
   {IF: P.seek(params_get().P.SQL,,1)}
      {OSOBA.seek(P.OSOBA); ~~}
      {SUBSTITUTE: 'srodek'}
   {FI}
{OD}