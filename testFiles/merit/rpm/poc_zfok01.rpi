{COMMENT}
:: Oceny kompetencji
{COMMENT-}
{FONT: 'W8'}{SPACE: 'C'}{ w8:=charleft; ~~ }
{FONT: 'W10'}{SPACE: 'C'}{ w10:=charleft; ~~ }
{ zo_komp:=null; max:=w8; col:=12; ~~ }
{FOR: ZO_OCENA}{INDEX: 'NAZWA'}{PREFIX: ZO_TEST.ref}{DO}
{FIRST}
   {FONT: 'W8'}{SPACE: 'C'}
                                     {>{max-2*col} 'Wartość'   } {>{max-col} 'Uzyskana'} {>{max} 'Osiągnięty'}
   {<1 'Kompetencja / rodzaj oceny'} {>{max-2*col} 'oczekiwana'} {>{max-col} 'ocena'   } {>{max} 'poziom (%)'}
   {<1 '─'*max}
{FIRST-}
{IF: ~ZO_OCENA.ZO_OCENA}
   {FONT: 'W8B'}{SPACE: 'C'}{ max:=w10; ~~ }
   {<1 ZO_OCENA.ZZ_KOMP().NAZWA} {>{max-2*col}.2 ZO_OCENA.EX} {>{max-col}.2 ZO_OCENA.AE} {>{max}.2 ZO_OCENA.TW}
   {FOR: ZO_OCENA}{INDEX: 'NAZWA'}{PREFIX: ZO_TEST.ref,ZO_OCENA.ref}{DO}
      {FONT: 'W8'}{SPACE: 'C'}{ max:=w8; ~~ }
      {<5 ZO_OCENA.ZZ_KOMP().NAZWA+' '+ZO_OCENA.ZZ_TYP().NAZWA
         } {>{max-2*col}.2 ZO_OCENA.EX
         } {>{max-col}.2 ZO_OCENA.AE
         } {>{max}.2 ZO_OCENA.TW}
   {OD}
{FI}
{OD}
{FONT: 'W8'}{SPACE: 'C'}
{FOR: ZO_OCENA}{INDEX: 'NAZWA'}{PREFIX: ZO_TEST.ref}{DO}
{IF: ZO_OCENA.ZZ_KOMP<>null & ZO_OCENA.ZZ_TYP<>null}
   {FOR: ZO_KOMP}{INDEX: 'OCENA'}{PREFIX: ZO_TEST.ref,ZO_OCENA.ZZ_KOMP,ZO_OCENA.ZZ_TYP}{DO}
      {FOR: ZO_NOTA}{INDEX: 'TYP'}{PREFIX: ZO_KOMP.ref,'OO'}{DO}
         {FOR: ZO_NOTAO}{INDEX: 'UNIQUE'}{PREFIX: ZO_NOTA.ref}{DO}
         {IF: ZO_NOTAO.memo_txt(,1,'OPIS')<>''}
            {IF: zo_komp<>ZO_OCENA.ZZ_KOMP}
               { zo_komp:=ZO_OCENA.ZZ_KOMP; ~~ }
               {<1 '─'*max}
               {FONT: 'W8B'}{SPACE: 'C'}
               {<1 ZO_OCENA.ZZ_KOMP().NAZWA}
               {LINE}
            {FI}
            {FONT: 'W8'}{SPACE: 'C'}
            {REP: exec('memo2rep','phr_druk',ZO_NOTAO,'OPIS',ZO_NOTAO.ref,,130)}
         {FI}
         {OD}
      {OD}
   {OD}
{FI}
{OD}
{ &zo_komp; &w8; &w10; &max; &col; ~~ }