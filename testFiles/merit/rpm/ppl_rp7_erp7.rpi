:!UTF-8
{COMMENT}
(c) Macrologic S.A. Wszelkie prawa zastrzeżone
========================================================================================================================
Nazwa pliku: rp7_erp7.rpi []
Utworzony: 18.01.2019 [mk] Michal Kocot
========================================================================================================================
Zawartość: Cialo wydruku ERP-7
{COMMENT-}
{
   undefine();
   skl.prefix();
   skl.erase();
   _size_kp:=0;
   RP7_KP.cntx_psh();
   RP7_KP.index('ROK');
   RP7_KP.prefix(RP7_OS.ref());
   {? RP7_KP.first()
   || {!
      |? {? RP7_KP.Z='T' || _size_kp+=1 ?};
         RP7_KP.next()
      !}
   ?};
   RP7_KP.cntx_pop();
   {? _size_kp=0 || _size_kp:=20 ?};
   _fill:="
   skl.prefix(_a);
   {! _nr:=skl.size().._b-1 |! skl.blank(); skl.PREFIX:=_a; skl.EMPTY:=1; skl.ROK:=9999; skl.add() !}";
   _fill('kapital',_size_kp);
   _fill('przekroczenia',5*4);
   dprac.blank();
   {! _lp:=1..dprac.fld_num()
   |! _fld_acr:=dprac.fld_acr(_lp);
      {? var_pres(_fld_acr,dprac)=36 || dprac.memo_set('',_fld_acr) ?}
   !};
   dprac.OSOBA:=RP7_OS.NAZWISKO+' '+RP7_OS.PIERWSZE+', PESEL: '+RP7_OS.PESEL;
   dprac.DOKTOZ:='';
   {? RP7_OS.PESEL=''
   || dprac.DOKTOZ:=
         {? RP7_OS.DOWOD<>''
         || 'Dowód osobisty: '+gsub(~-RP7_OS.DOWOD,' ','')
         |? RP7_OS.PASZPORT<>''
         || 'Paszport: '+gsub(~-RP7_OS.PASZPORT,' ','')
         || ''
         ?};
      dprac.fld_fml('DOKTOZ','BEFORE_EDIT',"1")
   || dprac.fld_fml('DOKTOZ','BEFORE_EDIT',"0")
   ?};
   dprac.memo_set(RP7_OS.memo_txt(,1,'UWAGI'),'DIU');
   dprac.memo_set(RP7_OS.DOK_RP7,'ID');
   ~~
}
{
   'Niepelny wymiar przed 15.11.1991';
   'Urlop bezplatny, wychowawczy z H';
   H.index('_HISTKOD');
   H.prefix(RP7_OS.P,'Z',);
   {? RP7_OS.P
   || __KAL.set_cal(RP7_OS.P().KAL)
   ?};
   {? H.first() & H.OD<=__dbadania
   || _od:=_do:=#0;
      _wy:=1;
      _ok:=0;
      _exit:=0;
      {!
      |? {? H.OD<=__dbadania & H.WY<1
         || _ok:=1;
            {? (_do+1)=H.OD & _wy=H.WY
            || _do:=H.DO
            |? _od<>_do
            || dprac.NWCP+='od dnia '+_od$4+' do dnia '+_do$4+', w wymiarze '+{? H.WY=1 || '1' || $H.WYL+'/'+$H.WYM ?};
               dprac.NWCP+=' etatu, '
            || _od:=H.OD;
               _do:=H.DO;
               _wy:=H.WY
            ?}
         |? H.OD>__dbadania
         || _exit:=1
         ?};
         ~_exit & H.next()
      !};
      _txt:='od dnia '+_od$4+' do dnia '+_do$4+', w wymiarze '+{? H.WY=1 || '1' || $H.WYL+'/'+$H.WYM ?};
      _txt+=' etatu';
      {? _od<>_do & ~(dprac.NWCP*_txt)
      || dprac.NWCP+=_txt
      ?}
   ?};
   ~~
}
{
   'Dzieci';
   {? RP7_OS.P<>null()
   || skl.prefix();

      RD_OKR.index('RD_OKR_P');
      RD_OKR.prefix(RP7_OS.P);
      RD_DZ.index('RD_DZ_OK');
      {? RD_OKR.first()
      || {!
         |? {? RD_OKR.RD_PPRAW().LP='Wy' | RD_PPRAW.ARTYKUL='186'
            || RD_DZ.prefix(RD_OKR.ref());
               _d0:=date(0,0,0);
               _dzieci:='';
               {? RD_DZ.first()
               || {!
                  |? _prfx:='dzieci';
                     _im:=RD_DZ.RD().IM+{? (RP7_OS.NAZWISKO-1)<>(RD_DZ.RD().NA-1) || ' '+RD_DZ.RD().NA || '' ?};
                     {? ~skl.find_key(_prfx,0,RD_DZ.RD().DA,_d0,_im,)
                     || skl.blank(1);
                        skl.PREFIX:=_prfx;
                        skl.OD:=RD_DZ.RD().DA;
                        skl.INFO:=_im;
                        skl.add()
                     ?};
                     _dzieci+=skl.INFO+', ';
                     RD_DZ.next()
                  !}
               ?};
               _prfx:='114';
               {? ~skl.find_key(_prfx,0,RD_OKR.OD,RD_OKR.DO)
               || skl.blank(1);
                  skl.PREFIX:=_prfx;
                  skl.OD:=RD_OKR.OD;
                  skl.DO:=RD_OKR.DO;
                  skl.INFO:=_dzieci-2;
                  skl.add()
               |? skl.INFO=''
               || skl.INFO:=_dzieci-2;
                  skl.put()
               ?}
            ?};
            RD_OKR.next()
         !}
      ?}
   ?};
   ~~
}
{
   'Urlop bezplatny, wychowawczy z N';
   'Art 92 KP';
   'Zasiłki';
   skl.prefix('114',);
   _no114:=skl.size();
   skl.prefix();
   RP7_NB.cntx_psh();
   RP7_NB.index('OD');
   RP7_NB.prefix(RP7_OS.ref());
   {? RP7_NB.first()
   || {!
      |? skl.blank(1);
         {? __RUB.sys_attr(RP7_NB.R().RN,112,RP7_NB.DO)
         || skl.PREFIX:='112'
         |? ~_no114 & __RUB.sys_attr(RP7_NB.R().RN,114,RP7_NB.DO)
         || skl.PREFIX:='114'
         |? __RUB.sys_attr(RP7_NB.R().RN,121,RP7_NB.DO)
         || skl.PREFIX:='121'
         |? RP7_NB.DO>=__dbadania &
            (__RUB.sys_attr(RP7_NB.R().RN,1221,RP7_NB.DO) |
             __RUB.sys_attr(RP7_NB.R().RN,1227,RP7_NB.DO) |
             __RUB.sys_attr(RP7_NB.R().RN,1225,RP7_NB.DO))
         || skl.PREFIX:='zasilki'
         |? __RUB.sys_attr(RP7_NB.R().RN,1222,RP7_NB.DO)
         || skl.PREFIX:='rehabilitacja'
         || skl.PREFIX:=''
         ?};
         {? +skl.PREFIX
         || skl.OD:=RP7_NB.OD;
            skl.DO:=RP7_NB.DO;
            skl.add()
         ?};
         RP7_NB.next()
      !}
   ?};
   RP7_NB.cntx_pop();
   ~~
}
{
   'Dzieci';
   _txt:='';
   skl.prefix('114',);
   {? skl.first()
   || {!
      |? _txt+='od dnia '+skl.OD$4+' do dnia '+skl.DO$4+{? +skl.INFO || ' ['+skl.INFO+']' || '' ?}+'\n';
         skl.next()
      !}
   ?};
   _txt-=1;
   dprac.memo_set(_txt,'ZALW');

   _txt:='';
   skl.prefix('dzieci',);
   {? skl.first()
   || {!
      |? _txt+=skl.INFO+' ur. '+skl.OD$4+'\n';
         skl.next()
      !}
   ?};
   _txt-=1;
   dprac.memo_set(_txt,'ZALD');
   ~~
}
{
   'Kapital';
   'Przekroczenia';
   P_INFO.index('OD');
   P_INFO.prefix(exec('ref_firma','ustawienia'),RP7_OS.P().OSOBA);
   {? P_INFO.first()
   || skl.prefix('przekroczenia',);
      {!
      |? {? P_INFO.BLOKADA<>date(0,0,0) & ~skl.find_key(P_INFO.BLOKADA~1) & skl.find_key(9999)
         || skl.EMPTY:=0;
            skl.ROK:=P_INFO.BLOKADA~1;
            skl.INFO:=P_INFO.BLOKADA$8-5;
            skl.LIMIT:=exec('ust_nk','lista_licz',date(skl.ROK,12,0),'SK');
            skl.put()
         ?};
         P_INFO.next()
      !}
   ?};

   RP7_KP.cntx_psh();
   RP7_KP.index('ROK');
   RP7_KP.prefix(RP7_OS.ref());
   RP7_KW.cntx_psh();
   RP7_KW.index('ZAPIS');
   {? RP7_KP.first()
   || skl.prefix('kapital',);
      LS.cntx_psh();
      RH.cntx_psh();
      O.cntx_psh();
      RH.clear();
      _rub_per:=__RUB.sys_sql(5611);
      _rub_tab:=__RUB.sys_rub(5611);
      _firma:=exec('firma','ustawienia');
      {!
      |? {? RP7_KP.Z='T'
         || {? skl.find_key(9999)
            || skl.EMPTY:=_P_ER:=0;
               skl.ROK:=RP7_KP.ROK().ROK;
               {? skl.ROK>=1999
               || {? +_rub_per
                  || _P_ER:=sql('
                        select sum(LS.KW) P_ER
                        from   @LS join R using(R.REFERENCE,LS.RB)
                        where  LS.REFERENCE like \'l:_b%\' and LS.P = :_a and R.RN in (:_c)',
                        RP7_OS.P,$skl.ROK+2,_rub_per).P_ER;
                     _suma:="
                           _wyn:=0;
                           _tab:=_b;
                           {? _tab.first()
                           || {!
                              |? LS.prefix(_a,_tab.RN);
                                 {? LS.first() || {! |? _wyn+=LS.KW; LS.next() !} ?};
                                 _tab.next()
                              !}
                           ?};
                           _wyn
                        ";
                     {? var_pres('_RH_ROK')>100 || &_RH_ROK ?};
                     _RH_ROK:=sql('
                        select RH.REFERENCE REF
                        from   RH join ZC using(RH.ZLE,ZC.REFERENCE)
                        where  RH.FIRMA = :_c and EXTRACT(YEAR FROM RH.DRA) = :_b and
                               ZC.OSOBA = :_a',
                        RP7_OS.P().OSOBA,skl.ROK,_firma);

                     {? _RH_ROK.first()
                     || {!
                        |? {? RH.seek(_RH_ROK.REF) & 2+RH.ZC_INFO().TTUB().KOD='01' &
                              (P.DZA<=RH.DWY) & (P.DZ=date(0,0,0) | RH.DWY<=P.DZ) &
                              exec('czy_prac','osoba',P.OSOBA,RH.DWY)
                           || _znlisty:=~RH.O().LT;
                              LS.use(-_znlisty);
                              LS.index('ZLEC');
                              _P_ER+=_suma(RH.ref(),_rub_tab)
                           ?};
                           _RH_ROK.next()
                        !}
                     ?}
                  ?}
               ?};
               _p_chw:=RP7_KP.WST+RP7_KP.WZM;
               _przekroczenie:=0;
               {? _p_chw-_P_ER>0
               || _przekroczenie:=_p_chw-_P_ER
               ?};
               skl.ZAS:=RP7_KP.ZAS;
               skl.SW:=RP7_KP.SW;
               skl.OB:=RP7_KP.OB;
               {? skl.ROK<1999
               || skl.STZM:=RP7_KP.WST+RP7_KP.WZM;
                  skl.PRZ:=RP7_KP.PRZ
               || skl.STZM:=_P_ER;
                  skl.PRZ:=RP7_KP.PRZ+_przekroczenie
               ?};
               skl.INN:=RP7_KP.INN;
               skl.INFO:='';
               'jesli okaze sie, ze nalezy wykazac';
               RP7_KW.prefix(RP7_KP.ref(),'3',);
               {? RP7_KW.first()
               || {!
                  |? _in:={? RP7_KW.R || RP7_KW.R().RT || RP7_KW.W ?};
                     skl.INFO+={? +_in || _in+', ' || '' ?};
                     RP7_KW.next()
                  !};
                  skl.INFO-=2
               ?};
               skl.put()
            ?}
         ?};
         RP7_KP.next()
      !};
      O.cntx_pop();
      LS.cntx_pop();
      RH.cntx_pop()
   ?};
   RP7_KW.cntx_pop();
   RP7_KP.cntx_pop();
   ~~
}
{IF: dprac.edit()}
{ENTIRE}
{page(1);~~}
{SUBSTITUTE: 'h_start'}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{COMMENT}                                          STRONA 1                                                   {COMMENT-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{FONT: 'T8G'}{SPACE: 'C'}
{LINE: 1}
{<2'┌────────────────────────────────────────────┐'}
{<2'│                                            │'}
{<2'│                                            │'
}{FONT: 'TITLE'}{SPACE: 'A'}{CENTER}{<47>{cil.TITLE+30}'ZAŚWIADCZENIE'}{FONT: 'T8G'}{SPACE: 'C'}
{<2'│                                            │'}
{<2'│                                            │'
}{FONT: 'TITLE'}{SPACE: 'A'}{CENTER}{<47>{cil.TITLE+30}'O ZATRUDNIENIU I WYNAGRODZENIU'}{FONT: 'T8G'}{SPACE: 'C'}
{<2'│                                            │'}
{<2'│                                            │'}
{<2'└────────────────────────────────────────────┘'}
{<2' Pieczątka płatnika składek, jeśli ją posiadasz'}
{<2' lub podmiotu upoważnionego/ uprawnionego'}
{FONT: 'TITLE'}{SPACE: 'B'}
{LINE: 1}
{FONT: 'T8B'}{SPACE: 'C'}
{<2 'Instrukcja wypełniania'}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:=
      'Szczególnie starannie wypełnij sekcję dotyczącą kwot wynagrodzenia/ uposażenia oraz kwot świadczeń wypłaconych '
      'w okresie niezdolności do pracy i innych należności – uwzględnianych przy ustalaniu podstawy wymiaru emerytury, '
      'renty oraz kapitału początkowego.';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:=
      'Pamiętaj, że dane przekazane w tym formularzu mogą mieć wpływ na wysokość świadczenia przysługującego '
      'pracownikowi, dla którego wystawiasz to zaświadczenie. Dane te pozwolą również ustalić podstawę wymiaru '
      'świadczenia, w oparciu o obowiązujące regulacje prawne, zgodnie z którymi przy ustalaniu łącznej kwoty '
      'przychodu za poszczególne lata kalendarzowe, dany przychód doliczany jest do roku, za który był należny.';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:='1. Wypełnij WIELKIMI LITERAMI';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:='2. Wypełnij kolorem czarnym lub niebieskim (nie ołówkiem)';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:='3. Zanim wypełnisz zaświadczenie, zapoznaj się z dołączoną do niego Informacją';
   'text_out'
}
   {LINE: 1}
   {ENTIRE-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{ENTIRE}
{FONT: 'T8B'}{SPACE: 'C'}
{<2 'Dane płatnika składek'}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8G'}{SPACE: 'C'}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=form(gsub(~(-KST.NIP),'-'),10);
   par[6]:='NIP';
   par[7]:='';
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? ~+|KST.NIP || form(gsub(~(-KST.REG),'-'),10) || ' '*10 ?};
   par[6]:='Numer REGON';
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8B;
   par[3]:='Jeśli nie podałeś NIP, podaj REGON';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? ~+(|KST.NIP+|KST.REG) || form(gsub(~(-KST.PESEL),'-'),11) || ' '*11 ?};
   par[6]:='PESEL';
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8;
   par[3]:='Jeśli nie masz nadanego NIP i REGON, podaj PESEL';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:='';
   par[6]:='Rodzaj, seria i numer dokumentu potwierdzającego tożsamość';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8;
   par[3]:='Jeśli nie masz nadanego NIP, REGON i PESEL, podaj serię i numer dokumentu potwierdzającego tożsamość';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=~-KST.SKROT;
   par[6]:='Nazwa albo imię i nazwisko';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=~-KST.ULICA;
   par[6]:='Ulica';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=form(~-KST.DOM,14);
   par[6]:='Numer domu';
   par[7]:=' ';
   par[8]:=1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=94;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=~-KST.LOKAL;
   par[6]:='Numer lokalu';
   par[7]:=' ';
   par[8]:=1;
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{DIRECT-}
{par[8]:=~~}
{DIRECT}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=
      {? KST.KRAJ().SYM<>'PL'
      || form('',14)
      || form(~(-KST.KOD),14)
      ?};
   par[6]:='Kod pocztowy';
   par[7]:=' ';
   par[8]:=1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=94;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=~-KST.MIASTO;
   par[6]:='Miejscowość';
   par[7]:=' ';
   par[8]:=1;
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{par[8]:=~~}
{DIRECT-}
{ENTIRE}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=
      {? KST.KRAJ().SYM='PL'
      || ''
      || ~-KST.KRAJ().NAZ
      ?};
   par[6]:='Nazwa państwa';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8;
   par[3]:='Podaj, jeśli Twój adres jest inny niż polski';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=dprac.NKP;
   par[6]:='Numer Konta Płatnika (NKP) przed 1999 r.';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8;
   par[3]:=
      'Podaj, jeśli do 31 grudnia 1998 r. zgłaszałeś pracowników do ubezpieczenia społecznego w deklaracjach '
      'rozliczeniowych imiennych';
   'text_out'
}
{ENTIRE-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{ENTIRE}
{FONT: 'T8B'}{SPACE: 'C'}
{<2 'Dane osoby ubezpieczonej - pracownika'}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8G'}{SPACE: 'C'}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=form(~-RP7_OS.PESEL,11);
   par[6]:='PESEL';
   par[7]:='';
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=dprac.DOKTOZ;
   par[6]:='Rodzaj, seria i numer dokumentu potwierdzającego tożsamość';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:=cil.T8;
   par[3]:='Jeśli nie ma nadanego PESEL, podaj serię i numer dokumentu potwierdzającego tożsamość';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=~-(RP7_OS.PIERWSZE+' '+RP7_OS.NAZWISKO);
   par[6]:='Imię i nazwisko';
   par[7]:=' ';
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   par[1]:=50;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=gsub(RP7_OS.UR_DATA$3,'/','');
   par[6]:='Data urodzenia';
   par[7]:='';
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=53;
   par[3]:='dd';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=58;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=61;
   par[3]:='mm';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=66;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=73;
   par[3]:='rrrr';
   'text_out'
}
{DIRECT-}
{IF: lineleft()}{PAGE}{FI}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{COMMENT}                                          STRONA 2                                                   {COMMENT-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{ENTIRE}
{LINE}
{FONT: 'T8B'}{SPACE: 'C'}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{<2 'Informacje o pracowniku'}
{<2 ('─'*(cil.T8B-1))}
{ENTIRE-}
{DIRECT}
{FONT: 'T8'}
{SUBSTITUTE:
   _txt:='od dnia '+RP7_OS.DZA$4+' r. '+{? RP7_OS.DZ=#0 || '' || 'do dnia '+RP7_OS.DZ$4+' r. ' ?};
   par[1]:=30;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=_txt;
   par[6]:='';
   par[7]:=' ';
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   'kratki'
}
{line(2);~~}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:='1. '+{? RP7_OS.DZ=#0 || 'Jest' || 'Był' ?}+' zatrudniony';
   'text_out'
}
{DIRECT-}
{ENTIRE}
{SUBSTITUTE:
   par[1]:=30;
   par[2]:=cil.T8;
   par[3]:='Podaj datę, od kiedy jest zatrudniony lub okres zatrudnienia od–do';
   'text_out'
}
{LINE}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8;
   par[3]:='2. Niepełny wymiar czasu pracy przed 15 listopada 1991 r.';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=dprac.NWCP;
   par[6]:='';
   par[7]:=' ';
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   par[11]:=1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:=
      'Wypełnij, jeśli pracownik przed 15 listopada 1991 r. był zatrudniony w niepełnym wymiarze czasu pracy. '
      'Podaj okres od–do, w którym pracownik przed 15 listopada 1991 r. był zatrudniony w niepełnym wymiarze '
      'czasu pracy oraz wymiar czasu pracy';
   'text_out'
}
{SUBSTITUTE:
   skl.prefix('112',);
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? skl.first() || 'T' || 'N' ?};
   par[6]:='3. Pracownikowi udzielono urlopu bezpłatnego';
   par[7]:=100;
   'tak_nie'
}
{SUBSTITUTE:
   par[1]:=4;
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   _txt:='';
   _szcz:='wykaz w załączniku';
   {? skl.first()
   || {!
      |? _txt+='od dnia '+skl.OD$4+' do dnia '+skl.DO$4+',;';
         skl.next()
      !}
   ?};
   _txt-=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +_txt>(par[10]*par[9]) || dprac.memo_set(_txt,'ZALB'); _szcz || _txt ?};
   par[6]:='';
   par[7]:=' ';
   par[11]:=1;
   'kratki'
}
{par[9]:=~~}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:='Jeśli TAK, podaj okres od–do';
   'text_out'
}
{LINE: 1}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +dprac.memo_txt(,,'ZALW') || 'T' || 'N' ?};
   {? par[4]='N'
   || skl.prefix('dzieci',);
      {? skl.first() || {! |? skl.del() !} ?}
   ?};
   par[6]:='4. Pracownikowi udzielono urlopu wychowawczego/ urlopu bezpłatnego na wychowywanie dzieci';
   par[7]:=100;
   'tak_nie'
}
{SUBSTITUTE:
   _txt:=dprac.memo_txt(,,'ZALW');
   par[1]:=4;
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +_txt || 'wykaz w załączniku' || '' ?};
   par[6]:='';
   par[7]:=' ';
   par[11]:=1;
   'kratki'
}
{par[9]:=~~}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:='Jeśli TAK, podaj okres od–do';
   'text_out'
}
{SUBSTITUTE:
   _txt:=dprac.memo_txt(,,'ZALW');
   par[1]:=4;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +_txt || 'wykaz w załączniku' || '' ?};
   par[6]:='';
   par[7]:=' ';
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   par[11]:=1;
   'kratki'
}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:='Podaj imię i datę urodzenia dziecka/ dzieci';
   'text_out'
}
{LINE}
{FONT: 'T8B'}{SPACE: 'C'}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{<2 'Informacje o wypłaconych świadczeniach'}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8'}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   skl.prefix('121',);
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? skl.first() || 'T' || 'N' ?};
   par[6]:='';
   par[7]:=100;
   'tak_nie'
}
{line(1);~~}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=90;
   par[3]:=
      '1. Pracownikowi wypłacono wynagrodzenie za czas niezdolności do pracy na podstawie art. 92 Kodeksu pracy '
      'lub innych odrębnych przepisów';
   'text_out'
}
{DIRECT-}
{ENTIRE}
{SUBSTITUTE:
   par[1]:=4;
   par[9]:=3;
   par[10]:=cil.T8-par[1]-1;
   _txt:='';
   _szcz:='wykaz w załączniku';
   {? skl.first()
   || {!
      |? _txt+='od dnia '+skl.OD$4+' do dnia '+skl.DO$4+',;';
         skl.next()
      !}
   ?};
   _txt-=2;
   par[2]:='T8';
   par[3]:='T8';
   'Do sprawdzenia czy będzie załącznik to sprawdzamy 117 znaków, które drukujemy w linii a nie pełna ilość znaków';
   'która możliwa jest do wydrukowania czyli 131 dla tego fontu w zmiennej par[10]';
   par[4]:={? +_txt>(117*par[9]) || dprac.memo_set(_txt,'ZALN'); _szcz || _txt ?};
   par[6]:='';
   par[7]:=' ';
   par[11]:=1;
   'kratki'
}
{par[9]:=~~}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:='Jeśli TAK, podaj okres od–do';
   'text_out'
}
{LINE}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   skl.prefix('zasilki',);
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? skl.first() || 'T' || 'N' ?};
   par[6]:='';
   par[7]:=100;
   'tak_nie'
}
{line(1);~~}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=90;
   par[3]:='2. Pracownikowi po 14 listopada 1991 r. wypłacono zasiłek chorobowy/opiekuńczy/ macierzyński';
   'text_out'
}
{DIRECT-}
{ENTIRE}
{SUBSTITUTE:
   par[1]:=4;
   par[9]:=15;
   par[10]:=cil.T8-par[1]-1;
   _txt:='';
   _szcz:='wykaz w załączniku';
   {? skl.first()
   || {!
      |? _txt+='od dnia '+skl.OD$4+' do dnia '+skl.DO$4+',;';
         skl.next()
      !}
   ?};
   _txt-=2;
   par[2]:='T8';
   par[3]:='T8';
   'Do sprawdzenia czy będzie załącznik to sprawdzamy 117 znaków, które drukujemy w linii a nie pełna ilość znaków';
   'która możliwa jest do wydrukowania czyli 131 dla tego fontu w zmiennej par[10]';
   par[4]:={? +_txt>(117*par[9]) || dprac.memo_set(_txt,'ZALC'); _szcz || _txt ?};
   par[6]:='';
   par[7]:=' ';
   par[11]:=1;
   'kratki'
}
{par[9]:=~~}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:='Jeśli TAK, podaj okresy od–do';
   'text_out'
}
{LINE}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   skl.prefix('rehabilitacja',);
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? skl.first() || 'T' || 'N' ?};
   par[6]:='';
   par[7]:=100;
   'tak_nie'
}
{line(1);~~}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=90;
   par[3]:='3. Pracownikowi wypłacono świadczenie rehabilitacyjne';
   'text_out'
}
{DIRECT-}
{ENTIRE}
{SUBSTITUTE:
   par[1]:=4;
   par[9]:=1;
   par[10]:=cil.T8-par[1]-1;
   _txt:='';
   _szcz:='wykaz w załączniku';
   {? skl.first()
   || {!
      |? _txt+='od dnia '+skl.OD$4+' do dnia '+skl.DO$4+',;';
         skl.next()
      !}
   ?};
   _txt-=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +_txt>(par[10]*par[9]) || dprac.memo_set(_txt,'ZALR'); _szcz || _txt ?};
   par[6]:='';
   par[7]:=' ';
   par[11]:=1;
   'kratki'
}
{par[9]:=~~}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:=cil.T8;
   par[3]:=
'Jeśli TAK, podaj okresy od–do';
   'text_out'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Jeśli w części dotyczącej ww. okresów brakuje miejsca na wpisanie wszystkich okresów – brakujące okresy wykaż '
      'odrębnie w załączniku do zaświadczenia. Załącznik ten stanowi wówczas integralną część zaświadczenia i powinien '
      'być opatrzony pieczątką płatnika składek, jeśli ją posiadasz/ upoważnionego podmiotu oraz podpisem i pieczątką '
      'tej samej osoby, która wystawiła zaświadczenie.';
   'text_out'
}
{LINE}
{ENTIRE-}
{IF: lineleft()}{PAGE}{FI}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{COMMENT}                                          STRONA 3                                                   {COMMENT-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{FONT: 'T8'}{SPACE: 'C'}
{DIRECT}
{LINE}
{FONT: 'T8'}
{SUBSTITUTE:
   _txt:=~-(RP7_OS.PIERWSZE+' '+RP7_OS.NAZWISKO);
   par[1]:=20;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=_txt;
   par[6]:='';
   par[7]:=' ';
   par[9]:=1;
   par[10]:=60;
   'kratki'
}
{line(2);~~}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=18;
   par[3]:='Imię i nazwisko pracownika';
   'text_out'
}
{line(1);~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=gsub(RP7_OS.UR_DATA$3,'/','');
   par[6]:='Data urodzenia';
   par[7]:='';
   par[10]:=8;
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32+3;
   par[3]:='dd';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32+8;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32+11;
   par[3]:='mm';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32+16;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=cil.T8-1-32+23;
   par[3]:='rrrr';
   'text_out'
}
{LINE}
{DIRECT-}
{ENTIRE}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Informacje o kwotach wynagrodzenia/ uposażenia, kwotach świadczeń wypłaconych w okresie niezdolności do pracy '
      'oraz kwotach innych należności – za dany rok kalendarzowy – uwzględnianych przy ustalaniu podstawy wymiaru '
      'emerytury, renty oraz kapitału początkowego';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'WAŻNE! Przy wypełnianiu poniższej tabeli, kwoty stałych i zmiennych składników wynagrodzenia/ uposażenia (stałe '
      'wynagrodzenie zasadnicze, premie, nagrody, wartość świadczeń w naturze, dodatki do płac i inne) oraz kwoty '
      'świadczeń za okres niezdolności do pracy – jeżeli wypłacone zostały w innym roku niż rok kalendarzowy, za który '
      'są należne – dolicz do roku, za który przysługują. Pamiętaj również o wyłączeniu tych kwot z roku, w którym '
      'zostały wypłacone.';
   'text_out'
}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Jeśli nie jest możliwe ustalenie okresu, za jaki przysługuje dana wypłata – dolicz ją do roku, w którym została '
      'wypłacona.';
   'text_out'
}
{ENTIRE-}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:='kapital';
   par[2]:=__PMH;
   par[3]:=__PMD;
   'skl'
}
{IF: lineleft()}{PAGE}{FI}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{COMMENT}                                          STRONA 4                                                   {COMMENT-}
{COMMENT}-----------------------------------------------------------------------------------------------------{COMMENT-}
{ENTIRE}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{FONT: 'T8B'}{SPACE: 'C'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:='Informacja o przekroczeniu rocznej podstawy wymiaru składek na ubezpieczania emerytalne i rentowe';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Wypełnij wyłącznie w przypadku przekroczenia przez pracownika rocznej podstawy wymiaru składek na ubezpieczenia '
      'emerytalne i rentowe';
   'text_out'
}
{SUBSTITUTE:
   par[1]:='przekroczenia';
   par[2]:=~~;
   par[3]:=__RPD;
   'skl_1'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SPACE: 'C'}
{SUBSTITUTE:
   par[1]:=4;
   par[3]:=
      'Podaj rok i miesiąc, w którym nastąpiło przekroczenie przez pracownika rocznej podstawy wymiaru składek na '
      'ubezpieczenia emerytalne i rentowe';
   'text_out'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:='Dodatkowe informacje/ uwagi';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=dprac.memo_txt(,,'DIU');
   par[6]:='';
   par[7]:=' ';
   par[9]:=5;
   par[10]:=cil.T8-par[1]-1;
   par[11]:=1;
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=4;
   par[3]:=
      'Podaj składnik wynagrodzenia, co do którego masz wątpliwości, czy jest on uwzględniany w podstawie wymiaru '
      'świadczeń i którego nie wykazałeś w tabeli na str. 3. Podaj rodzaj tego składnika, kwotę, tytuł wypłaty oraz '
      'okres, w którym został wypłacony. Możesz również zgłosić inne uwagi dotyczące danych, które podałeś w '
      'zaświadczeniu.';
   'text_out'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:='Informacje dotyczące pełnomocnika upoważnionego przez płatnika składek do wystawienia zaświadczenia';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:='';
   par[6]:='';
   par[7]:=' ';
   par[9]:=8;
   par[10]:=cil.T8-par[1]-1;
   par[11]:=1;
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=4;
   par[3]:=
      'Jako podmiot upoważniony do wystawienia niniejszego zaświadczenia podaj: nazwę i adres firmy, REGON i NIP, '
      'zakres udzielonego pełnomocnictwa i termin jego obowiązywania';
   'text_out'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:='Informacja o dokumentach';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{SUBSTITUTE:
   par[1]:=4;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=dprac.memo_txt(,,'ID');
   par[6]:='';
   par[7]:=' ';
   par[9]:=3;
   par[10]:=cil.T8-par[1]-1;
   par[11]:=1;
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=4;
   par[3]:='Podaj na podstawie jakich dokumentów wystawiłeś zaświadczenie';
   'text_out'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:='Załączniki';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Przedkładam: Załącznik uzupełniający informację o okresach wypłacania świadczeń (uzupełnienie sekcji: '
      'Informacje o wypłaconych świadczeniach)';
   'text_out'
}
{SUBSTITUTE:
   _txt:=dprac.memo_txt(,,'ZALB')+dprac.memo_txt(,,'ZALW')+dprac.memo_txt(,,'ZALN')+dprac.memo_txt(,,'ZALC');
   _txt+=dprac.memo_txt(,,'ZALR');
   par[1]:=2;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:={? +_txt || 'T' || 'N' ?};
   par[6]:='';
   par[7]:=2;
   'tak_nie'
}
{LINE}
{FONT: 'T8B'}
{SUBSTITUTE:
   par[1]:=2;
   par[2]:=cil.T8B;
   par[3]:='Odpowiedzialność za wystawienie zaświadczenia';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Wystawienie zaświadczenia niezgodnego z prawdą pociąga za sobą odpowiedzialność przewidzianą w odpowiednich '
      'przepisach prawa.';
   'text_out'
}
{LINE: 10}
{ENTIRE-}
{DIRECT}
{SUBSTITUTE:
   par[1]:=10;
   par[2]:='T8';
   par[3]:='T8';
   par[4]:=form('',8);
   par[6]:='Data';
   par[7]:='';
   'kratki'
}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=13;
   par[3]:='dd';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=18;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=21;
   par[3]:='mm';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=26;
   par[3]:='/';
   'text_out'
}
{line(4);~~}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=33;
   par[3]:='rrrr';
   'text_out'
}
{FONT: 'T8B'}{SPACE: 'C'}
{line(1);~~}
{<70 ('─'*(cil.T8B-70))}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{SUBSTITUTE:
   par[1]:=70;
   par[3]:=
      'Podpis płatnika składek lub osoby upoważnionej/ uprawnionej do wystawienia zaświadczenia – nr telefonu oraz '
      'pieczątka zawierająca imię, nazwisko i stanowisko';
   'text_out'
}
{<2 ('─'*(cil.T8B-1))}
{par[1]:=1; par[2]:=cil.T8B; ~~}
{FONT: 'T8'}
{SUBSTITUTE:
   par[1]:=2;
   par[3]:=
      'Informacje, o których mowa w art. 13 ust. 1 i 2 Rozporządzenia Parlamentu Europejskiego i Rady (UE) 2016/679 '
      'z dnia 27 kwietnia 2016 r. w sprawie ochrony osób fizycznych w związku z przetwarzaniem danych osobowych '
      'i w sprawie swobodnego przepływu takich danych oraz uchylenia dyrektywy 95/46/WE (RODO), są dostępne w '
      'centrali lub terenowych jednostkach organizacyjnych ZUS oraz na stronie internetowej ZUS pod adresem: '
      'http://bip.zus.pl/rodo/rodo-klauzule-informacyjne';
   'text_out'
}
{DIRECT-}
{IF: test}
{ test:=0; ~~ }
{PAGE}
{FI}
{INCLUDE: ppl_rp7_zrp7.rpi}
{FI}