:!UTF-8
{TITLE: Typy zestawień zbiorczych}
{PRINTER: exec('prt','param_wydr','v',KST),,,,,'M','B',,,,,,1,
          PAR_WYDR.MLEFT,PAR_WYDR.MTOP,PAR_WYDR.MRIGHT,PAR_WYDR.MBOT,0,1}
{BEGIN:
   PAR_WYDR.TITLE:='Typy zestawień zbiorczych';
   {? var_pres('par')>100 || obj_del(par) ?};
   par:=obj_new(2);

   par[1]:=obj_new(@.CLASS.PRINT,2);
   par[1].add("ZB_TYP.NUMER",5,'Kod',1,,,,,',,\'9.\'');
   par[1].add("ZB_TYP.NAZWA",65,'Nazwa');
   par[1].s_frame();

   par[2]:=obj_new(@.CLASS.PRINT,5);
   par[2].add("ZB_KLUCZ.NUMER",5,'Kod',1,,,,,',,\'9.\'');
   par[2].add("ZB_KLUCZ.NAZWA",20,'Nazwa pola');
   par[2].add("ZB_KLUCZ.AKRONIM",8,'Akronim');
   par[2].add("ZB_KLUCZ.NAZWA_ZL",20,'Nazwa złączenia');
   par[2].add("ZB_KLUCZ.AKRON_ZL",8,'Akronim');
   par[2].s_frame();

   lmt:=rsep:=0;
   vp:=1
}
{END:
   &vp; &lmt; &rsep;
   obj_del(par); &par
}
{INCLUDE: wsp_pw.rpi}
{COMMENT}

   K O N F I G U R A C J A   -   N A G Ł Ó W E K,   S T O P K A

{COMMENT-}
{HEADER}
{SUBSTITUTE: 'HEAD'}
{FONT: 'T8B'}
{SPACE: 'B'}
{LINE}
{REP: par[1].fhbar(lmt)}
{REP: par[1].ini_head(); par[1].h_fline(lmt)}
{REP: '{<{lmt+1}}'+par[1].fjbar(par[2])}
{REP: par[2].ini_head(); par[2].h_fline(lmt)}
{HEADER-}
{FOOTER: 0}
{FONT: 'T8'}
{SPACE: 'B'}
{REP: par[2].flbar(lmt)}
{FOOTER-}
{COMMENT}

   Z A W A R T O Ś Ć   W Y D R U K U

{COMMENT-}
{FONT: 'T8'}
{SPACE: 'B'}
{  lmt:=int((charleft-par[1].width())/2);
   par[1].setcolor(color)
}
{FOR: ZB_TYP}{DO}
   {ENTIRE}
   {FOR: ZB_KLUCZ}{INDEX: 'NUMER'}{PREFIX: ZB_TYP.ref}{DO}
   {FIRST}
      {REP: '{<{lmt+1}}'+par[2].fjbar(par[1])}
      {REP: par[1].ini_line(); par[1].fline(lmt)}
      {REP: '{<{lmt+1}}'+par[1].fjbar(par[2])}
   {FIRST-}
      {REP: par[2].ini_line(); par[2].fline(lmt)}
   {OD}
   {ENTIRE-}
{OD}