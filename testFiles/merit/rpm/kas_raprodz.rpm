:!UTF-8
{TITLE: C. Raport rodzajowy - tryb znakowy}
{PRINTER: KINFO.SZ_PRN,,,,,'Q','C'}
{BEGIN: 'powołanie obiektu klasy SD_CLASS - tego samego, który jest wykorzystywany przy ksiegowaniu';
        anul:=0;
        exec('initWARL','dok_fks_aut_dok',USRCONST.ROK,'KASA','S');
        exec('init','dok_fks_aut_dok','Informacje o błędach dekretacji raportów kasowych');
        EKSG.REF_ODD:=USRCONST.STANKAS().STANKAS().ODD;
        EKSG.STANKAS:=USRCONST.STANKAS;
        exec('set_fld','dok_fks_aut_dok','O','S'); exec('set_fld','dok_fks_aut_dok','N','S');
        pierwszy:=1; rp_konto:='';
        DEK_NAG.index('DEK_NAG'); DEK_POZ.index('DEK_POZ')}
{END: &anul; exec('done','dok_fks_aut_dok'); VAR_DEL.delete('pierwszy','rp_konto'); undefine}
{MACRO: 'KONTO'}
{' teraz metodę wirtualna wykonujaca ksiegowanie dla jednego dokumentu';
' modyfikujemy tak by wylicza│a księgowanie tylko po wybranej stronie';
' a wyliczone konto zapisa│a w zmiennej .Konto';
rp_konto:='';
{? DEFINE.drkonta='T'
|| rp_konto:=exec('konto_z_dek','dok_fks_aut_dok')
|| rp_konto:=''
?};
~~}
{MACRO-}
{IF: STANKAS.WALUTA=exec('wal_nar','kasa_wspolne')}
   { WYDRUKI.win_edit('RAPKAS2'); ~~}
   {IF: WYDRUKI.edit()}
         { {? WYDRUKI.PAR3='N' || WYDRUKI.PAR4:='N' ?}; ~~}
         {INCLUDE: kas_rapkas4.rpi}
         {EXIT}
   {FI}
{ELSE}
   { FUN.info('Raport dostępny tylko dla waluty narodowej.'@);~~}
{FI}
{EXIT}
