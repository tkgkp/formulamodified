:!UTF-8
{COMMENT}   MACRO - LONGLINE                                            {COMMENT-}
{COMMENT}   Makro uzywane do drukowania długich nazw z przełamaniem     {COMMENT-}
{MACRO: 'LONGLINE'}
{poz1:=poz2:=0;length:=77;aa:=1;~~}
{COMMENT}{IF: +LC<=length & +RC<=length}
{IF: LC<>''}{<{lmt+3}}{LC}{FI}{IF: RC<>''}{<{lmt+84}}{RC}{FI}
{ELSE}
{IF: +LC>length}{WHILE: aa<=length}{DO}{IF: aa+LC+1=' '}{poz1:=aa;~~}{FI}{aa+=1;~~}{OD}{ELSE}{poz1:=length;~~}{FI}{aa:=1;~~}
{IF: +RC>length}{WHILE: aa<=length}{DO}{IF: aa+RC+1=' '}{poz2:=aa;~~}{FI}{aa+=1;~~}{OD}{ELSE}{poz2:=length;~~}{FI}
{IF: LC<>''}{<{lmt+3}}{poz1+LC}{FI}{IF: RC<>''}{>{lmt+84}}{poz2+RC}{FI}
{IF: LC<>''}{<{lmt+3}}{poz1-LC}{FI}{IF: RC<>''}{<{lmt+84}}{poz2-RC}{FI}
{FI}{COMMENT-}
{IF: +LC<=length & +RC<=length}
{IF: LC<>''}{<{lmt+3}}{LC}{FI}{IF: RC<>''}{<{lmt+84}}{RC}{FI}
{ELSE}
{IF: +LC>length}{WHILE: aa<=length}{DO}{IF: aa+LC+1=' '}{poz1:=aa;~~}{FI}{aa+=1;~~}{OD}{ELSE}{poz1:=length;~~}{FI}{aa:=1;~~}
{IF: +RC>length}{WHILE: aa<=length}{DO}{IF: aa+RC+1=' '}{poz2:=aa;~~}{FI}{aa+=1;~~}{OD}{ELSE}{poz2:=length;~~}{FI}
{IF: LC<>'' | RC<>''}{<{lmt+3}}{poz1+LC}{>{lmt+83}'   '}{poz2+RC}{>{lmt+157}' '}{FI}
{IF: LC<>'' | RC<>''}{<{lmt+3}}{poz1-LC}{<{lmt+83}' '}{poz2-RC}{FI}
{FI}
{ VAR_DEL.delete('aa','poz1','poz2','length','LC','RC'); ~~}
{MACRO-}