{COMMENT}
:: Oceny kompetencji
{COMMENT-}
{FONT: 'W10'}{SPACE: 'B'}{ W10:=charleft; ~~ }
{ zo_komp:=null; max:=W10; col:=12; ~~ }
{
__makeLine:="
   STR.split(exec('string2rep','phr_druk',_a,,,1));
   _druk:='{<8 '+znak+'}';
   {! _n:=1
   |? STR.next()
   |! _part:=STR.line(_b);
      _druk+=_part;
      _druk+='{LINE}{<9}'
   !};
   _druk;
   exec('string2rep','phr_druk',_a,,,1)
";
~~

}
{ENTIRE-}
{FONT: 'W10'}{SPACE: 'B'}{ max:=W10; ~~ }
{__czy_opis:=0; ~~}
{FOR: ZO_KOMP}{INDEX: 'NAZWA'}{PREFIX: ZO_FORM.ref()}{DO}
   {FOR: ZO_NOTA}{INDEX: 'TYP'}{PREFIX: ZO_KOMP.ref(),'OO'}{DO}
   {__czy_opis:=1; ~~}
   {OD}
   {ENTIRE}
   {FONT: 'W10B'}{SPACE: 'B'}{ max:=W10; ~~ }
   {<5 ZO_KOMP.ZZ_KOMP().NAZWA}{LINE}
   {<1 '─'*charleft}
   {FONT: 'W10'}{SPACE: 'B'}{ max:=W10; ~~ }
   {FOR: ZO_NOTA}{INDEX: 'TYP'}{PREFIX: ZO_KOMP.ref()}{DO}
         {__czy_lista2:=1; ~~}
         {IF: ZO_NOTA.ZZ_MET().KOD='KW'}
            {FOR: ZZ_KOMPK}
            {INDEX: 'WARTOSC'}
            {PREFIX:
               ref_name(ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK),
               ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,
               ZO_KOMP.ZZ_KOMP
            }{DO}
            {FIRST}
            {__czy_lista2:=0; ~~}
            {REP: exec('zz_kompk','phr_druk',ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FIRST-}
            {OD}
            {IF: __czy_lista2}
            {REP: exec('zz_kompk','phr_druk',ZO_NOTA.ZO_KOMP().ZZ_KOMP().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FI}
            {IF: __czy_opis}
            {REP: __OO(7,'Ocena opisowa:')}{LINE}
            {FI}
         {ELIF: ZO_NOTA.ZZ_MET().KOD='SP'}
            {FOR: ZZ_KOMPS}
            {INDEX: 'WARTOSC'}
            {PREFIX:
               ref_name(ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK),
               ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,
               ZO_KOMP.ZZ_KOMP
            }{DO}
            {FIRST}
            {__czy_lista2:=0; ~~}
            {REP: exec('zz_komps','phr_druk',ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FIRST-}
            {OD}
            {IF: __czy_lista2}
            {REP: exec('zz_komps','phr_druk',ZO_NOTA.ZO_KOMP().ZZ_KOMP().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FI}
            {IF: __czy_opis}
            {REP: __OO(7,'Ocena opisowa:')}{LINE}
            {FI}
         {ELIF: ZO_NOTA.ZZ_MET().KOD='WB'}
            {FOR: ZZ_KOMPZ}
            {INDEX: 'UNIQUE'}
            {PREFIX:
               ref_name(ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK),
               ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,
               ZO_KOMP.ZZ_KOMP
            }{DO}
            {FIRST}
            {__czy_lista2:=0; ~~}
            {REP: exec('zz_kompz','phr_druk',ZO_NOTA.ZO_KOMP().ZO_FORM().ZO_TEST().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FIRST-}
            {OD}
            {IF: __czy_lista2}
            {REP: exec('zz_kompz','phr_druk',ZO_NOTA.ZO_KOMP().ZZ_KOMP().ZZ_DOK,ZO_KOMP.ZZ_KOMP)}
            {IF: ~__czy_opis}
               {LINE}
            {FI}
            {FI}
            {IF: __czy_opis}
            {REP: __OO(7,'Ocena opisowa:')}{LINE}
            {FI}
         {FI}
   {OD}
 {ENTIRE-}
{OD}
{ENTIRE}
{FONT: 'W12'}{SPACE: 'B'}
{ &zo_komp; &W10; &col; &__makeLine; ~~ }