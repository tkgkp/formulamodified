:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: #b_chain.fml
:: Utworzony: 18.12.2014 [17.00]
:: Autor: AWI
::======================================================================================================================
:: Zawartość: Funkcje do obsługi tabeli B_CHAIN
::======================================================================================================================


\add
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TMR [17.00]
:: OPIS: Funkcja dodająca wpis do tabeli B_CHAIN
::   WE: _a   - [STRING]     - akronim tabeli
::       [_b] - [STRING]     - nazwa powiązania
::   WY:        [REFERENCE]  - wskazanie na dodany rekord (lub już istniejący)
::----------------------------------------------------------------------------------------------------------------------
_tabName:={? var_pres('_a')=type_of('') || _a || return(null) ?};
_nazwaPo:={? var_pres('_b')=type_of('') || _b || '' ?};
_res:=null();
B_CHAIN.cntx_psh();
B_CHAIN.index('TABELA');
B_CHAIN.prefix(_tabName);
{? B_CHAIN.first()
|| _res:=B_CHAIN.ref()
|| B_CHAIN.blank(1);
   B_CHAIN.TABLE:=_tabName;
   B_CHAIN.NAME:=_nazwaPo;
   {? B_CHAIN.add()
   || _res:=B_CHAIN.ref()
   ?}
?};
B_CHAIN.cntx_pop();
_res

:Sign Version 2.0 jowisz:1028 2019/06/07 15:58:45 a05a1adc662f0d68166ee77ff3d269fc0e7168c004f246fdbf5d8f57b1fe542b0928ef4c7ee3b2aa694fd9c7c4736d0260515db5f5776bda10c6f91e1ee7936fa4b7630851d504cd1c158c64564c1207e32f7a206a9bc8d32695f02b27b1bfc1a107a576e3dd5aeb5b3ea4aba40df53b8656139ca22604b2eefcf94f4db1dd8e
