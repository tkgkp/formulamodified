:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: #b_gatele.fml
:: Utworzony: 29.12.2014 [17.00]
:: Autor: AWI
::======================================================================================================================
:: Zawartość: Obsługa tabeli B_GATELE
::======================================================================================================================


\delete
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Usuwa zapisy z tabeli B_GATELE procesu _a
::   WE: _a - B_PROC.ref()
::----------------------------------------------------------------------------------------------------------------------
_b_proc:=_a;

B_GATELE.cntx_psh();
B_GATELE.index('UNIK');
B_GATELE.prefix(_b_proc);
_loop:=B_GATELE.first();
{!
|? _loop
|!
   _loop:=B_GATELE.del()
!};
B_GATELE.cntx_pop()


\check
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: W definicji procesu _a sprawdza czy bramka _b ma element _c na liście elementów, na które czeka
::   WE: _a - B_PROC.ref() - definicja procesu
::       _b - B_PREL.ref() - bramka zbierająca OR w procesie
::       _c - B_PREL.ref() - element procesu na który czeka bramka
::   WY: 0-brak elementu na liście, 1-jest element na liście
::----------------------------------------------------------------------------------------------------------------------
B_GATELE.cntx_psh();
B_GATELE.index('UNIK');
B_GATELE.prefix(_a,_b,_c);
_wyn:=B_GATELE.first() & B_GATELE.SYNC_PTH<>'D';
B_GATELE.cntx_pop();
_wyn

:Sign Version 2.0 jowisz:1028 2019/06/07 15:58:45 93866815d957343a34cc58e55e94f5500d18647e083c6726842b0fcc81cb83edbd92911d1802bf148f5e657b64d281baacbffefd74313ba4b8fa50ff545618dcede6c4dd95eee274abc2660d1d46b29b134e5b18608363f58ca7c446d05288a9acfda192b38df649eb97fae526b874c6d8e170e6a03f0cb91fd37197cf4f4dfe
