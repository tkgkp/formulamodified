:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: $nipy_ue.fml
:: Utworzony: 16.11.2018
:: Autor: GZ
:: Systemy:
::======================================================================================================================
:: Zawartość: Skrypty automatyzujące obsługę nipów ue
::======================================================================================================================


\dolacz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [19.02]
:: OPIS: Dolacza nowy nip_ue
::   WE: _a - obiekt testujący
::       _b - STRING - nip UE np. PL 9318164409
::   WY:
::----------------------------------------------------------------------------------------------------------------------
:: @GIVEN
_test_driver:=_a;
_kod:=_b;
:: @WHEN

_test_driver.menu('Dołącz');
_test_driver.assert('', 'wnd:@SLO.kraje_wer', 'title', '~KRAJE UE', 'type', 's');
_test_driver.menu('Szukaj dokładnie');
_test_driver.assert('', 'wnd:@SLO.RED', 'title', 'Słownik', 'type', 'e');
_test_driver.send(2+_kod, '', 'fld:@SLO.KOD');
_test_driver.send('', '{F2}', '');
_test_driver.menu('Wybierz');
_test_driver.assert('', 'wnd:@tmp.tym_nip_red', 'title', 'Symbol NIP w UE', 'type', 'e');
_test_driver.send(3-_kod, '', 'fld:@tmp.NIP');
_test_driver.click('btn:@OK')


\szukaj
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [19.02]
:: OPIS:
::   WE: _a - obiekt testujący
::       _b - nip_ue do wyszukania np. PL 9318164409
::       [_c] - czy zglaszac blad asercji domyślnie tak
::----------------------------------------------------------------------------------------------------------------------
:: @GIVEN
_test_driver:=_a;
_kod:=_b;
_zglos_blad_asercji:={? _>2 & type_of(_c)=type_of(1)|| _c || 1 ?};
:: @WHEN
_test_driver.menu('Szukaj dokładnie');
_test_driver.assert('', 'wnd:@tmp.tym_nip_red', 'title', 'Symbol NIP w UE', 'type', 'e');
_test_driver.send(2+_b, '', 'fld:@tmp.KRAJ');
_test_driver.click('fld:@tmp.NIP');
_test_driver.send(3-_b, '{F2}', 'fld:@tmp.NIP');
_test_driver.menu('wybierz');
_znalazl:=~_test_driver.exist('dbtn:OK');
:: @THEN
{? _zglos_blad_asercji
|| _test_driver.assert_true('Nie znaleziono obszaru sprzedazy',_znalazl)
?};
_znalazl


\policz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [19.02]
:: OPIS:
::   WE: _a - obiekt testujący
::----------------------------------------------------------------------------------------------------------------------
:: @GIVEN
_test_driver:=_a;
:: @WHEN
_test_driver.execute("TYM_NIP.size()")

:Sign Version 2.0 jowisz:1048 2021/04/09 15:22:55 2c7b4fea80bc11e2854c76c5f5d2dc5cf1be713c70c56d80b5268e9da2c0a8bb972b380949b044e3f4126e3c5e2edc90747e6d1a47f9adc81cbdab9b704ab7ddc76a1b8cc59765a967846cff7f7a1c3725ac7d9885cac09419e12a7b18184a17a9c6d44fe30ac408ffe3f7469088209f8e89996ef7d4ad4aa5860e0b5bfb62b1
