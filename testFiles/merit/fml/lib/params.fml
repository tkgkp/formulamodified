:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: params.fml
:: Utworzony: 16.03.2015
:: Autor: WH
::======================================================================================================================
:: Zawartość: Formuły zasilające i obsługujące redakcję parametrów w mechanizmie uniwersalnych parametrów aplikacji
::======================================================================================================================


\init
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry nie związane z
::       użytkownikami
::   WE: [_a] - INTEGER - 0/[1] - czy inicjować również parametry użytkowników
::       [_b] - INTEGER - 0/[1] - czy inicjować również parametry wdrożeniowe
::       [_c] - B_DOMAIN.ref() - dziedzina do której ograniczyć niektóre funkcje związane z parametrami (optymalizacja)
::  TAG: <PUBLICZNA><PARAMS_APL><ZASILANIE>
::  OLD: \standfrm/firma.fml
::----------------------------------------------------------------------------------------------------------------------
_init_users:=1;
{? var_pres('_a')=type_of(0)
|| _init_users:=_a
?};
_init_wdr:=1;
{? var_pres('_b')=type_of(0)
|| _init_wdr:=_b
?};
_b_domain:=null();
{? var_pres('_c')=type_of(B_DOMAIN.ref())
|| _b_domain:=_c
?};

FO_DOM.cntx_psh();
FO_DEF.cntx_psh();
FO_DEF.prefix();

_msg:='Parametry nie zostały odświeżone, bo zostały zablokowane'@;

_lock_tab:=0;
_lock_blk:=0;
_can_continue:=1;

{? do_state()=1
|| {? FO_DOM.lock(1)
   || _lock_tab:=1
   || _can_continue:=0
   ?}
|? do_state()=0
|| {? exec('blk_lock','#table','FO_LOCK','fo_lock',1,,_msg)>0
   || _lock_blk:=1
   || _can_continue:=0
   ?}
?};

{? _can_continue>0
||
:: Usuwam wszystkie dotychczasowe powiązania parametrów z obszarami, ponieważ powstaną nowe
   exec('unbind_all','#params','A','N');

:: Dziedzina ZWS
   _par:=exec('add','#params'
    ,100001
    ,'Plik zawierający definicję parametrów wdrożeniowych'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100100
    ,'Czy szukać tylko wg kodów materiałowych kontrahenta (dotyczy opcji "szukaj wg kodu")?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100134
    ,'Czy do wykorzystanego limitu kredytowego zliczać tylko należności (N - wszystkie rozrachunki)?'
    ,'T'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100221
    ,'Czy drukować NIP UE stron transakcji tylko na dokumentach UE?'
    ,'T'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100222
    ,'Czy drukować adres korespondencyjny?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100223
    ,'Czy drukować podpisy na fakturze?'
    ,'B'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100224
    ,'Formuła zwracająca font'
    ,""
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100225
    ,'Dopisek do tytułu faktury lub korekty'
    ,"{? FAKS.SZ='S' & FAKS.T().UE='T' || ' WDT' || '' ?}"
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100226
    ,'Czy drukować kraj nabywcy, licencjobiorcy i odbiorcy?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100227
    ,'Kolejność danych adresowych: [T] - Kod pocztowy, Miasto, Ulica; [N] - Ulica, Kod pocztowy, Miasto'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100228
    ,'Czy drukować adres banku?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100229
    ,'Czy drukować sprzedawcę po lewej stronie?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100230
    ,'Czy drukować podpisy na fakturze korygującej?'
    ,'O'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100231
    ,'Czy drukować bezwarunkowo NIP UE licencjobiorcy?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

    _par:=exec('add','#params'
    ,100232
    ,'Czy dla wydruku faktury i korekty w walucie handlowej drukować kurs i podsumowania w walucie opodatkowania?'
    ,'T'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

    _par:=exec('add','#params'
    ,100233
    ,'Czy zapisywać szablony Word do załącznika?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

    _par:=exec('add','#params'
    ,100234
    ,'Czy generować szablony Word w formacie pdf?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

    _par:=exec('add','#params'
    ,100235
    ,'Czy drukować ceny zgodnie z dokładnością z materiału?'
    ,'N'
    ,'Wydruki');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
   ,100236
   ,'Czy stosować spację jako pusty znak?'
   ,'N'
   ,'Wydruki');
  exec('bind','#params',_par,'ZWS');

:: Dziedzina LUM
   _par:=exec('add','#params'
    ,100101
    ,'Edytować ceny w umowie?'
    ,'T'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100102
    ,'Wyświetlać alfabetycznie pozycje umów?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100111
    ,'Wyświetlać harmonogramy niezgodne z parametrami umowy?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100112
    ,'Rozdzielać nagłówki/pozycje faktury w paczce dla poszczególnych posesji kontrahenta?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100114
    ,'Fakturować dodatek?'
    ,'T'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100115
    ,'Fakturować zgłoszenia jednorazowe w paczce dla umów?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100116
    ,'Rozdzielać pozycje faktury w paczce na podstawie rodzaju zgłoszenia?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100117
    ,'Uwzględniać rabaty z cenników podczas wystawiania dokumentów w paczce faktur?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100118
    ,'Domyślny sposób rozliczenia rabatu w paczce faktur'
    ,'P'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');


   _par:=exec('add','#params'
    ,100120
    ,'Domyślny rodzaj usługi dla umów/zgłoszeń'
    ,''
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100121
    ,'Domyślna usługa podstawowa dla zgłoszenia jednorazowego z umowy miejskiej'
    ,''
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100122
    ,'Domyślna ilość usługi podstawowej dla zgłoszenia jednorazowego z umowy miejskiej'
    ,1
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100130
    ,'Domyślny sposób fakturowania umowy cyklicznej'
    ,'M'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100131
    ,'Domyślny sposób fakturowania zgłoszenia jednorazowego'
    ,'M'
    ,'Zgłoszenia jednorazowe');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100132
    ,'Domyślny cennik dla zgłoszenia jednorazowego'
    ,''
    ,'Zgłoszenia jednorazowe');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100140
    ,'Domyślny rodzaj odpadu'
    ,''
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100150
    ,'Status dla nowej umowy cyklicznej'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100151
    ,'Status dla aktywnej umowy cyklicznej'
    ,'A'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100152
    ,'Status dla aneksowanej umowy cyklicznej'
    ,'E'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100160
    ,'Zgłoszenie jednorazowe z obsługą podstawienia'
    ,'T'
    ,'Zgłoszenia jednorazowe');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100161
    ,'Dyspozycje transportowe dla zgłoszeń jednorazowych i przewozów'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100162
    ,'Równoczesne planowanie transportu dla podstawienia i zabrania w tym samym dniu'
    ,'N'
    ,'Zgłoszenia jednorazowe');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100170
    ,'Druga jednostka miary dla usługi podstawowej harmonogramu'
    ,'m3'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100171
    ,'Jednostka miary dla kart przekazania odpadów'
    ,'Mg'
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100172
    ,'Domyślny typ karty przekazania odpadów'
    ,'KPO'
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100181
    ,'Słownik żądań'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100182
    ,'Słownik zgłaszających żądania'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100183
    ,'Słownik powodów odstąpienia od fakturowania'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100186
    ,'Domyślna wartość żądania typu Podstawienie'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100187
    ,'Domyślna wartość żądania typu Wymiana'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100188
    ,'Domyślna wartość żądania typu Zabranie'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100189
    ,'Domyślny powód odstąpienia od fakturowania dla zgłoszenia z umowy miejskiej'
    ,''
    ,'Słowniki');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100191
    ,'Domyślny kontrahent przekazujący odpad'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100192
    ,'Domyślne miejsce działalności kontrahenta przekazującego odpad'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100193
    ,'Domyślny kontrahent przejmujący odpad'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100194
    ,'Domyślne miejsce działalności kontrahenta przejmującego odpad'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100195
    ,'Domyślny kontrahent transportujący odpad'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100196
    ,'Domyślna gmina dla kart przekazania odpadów komunalnych'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100175
    ,'Jeśli występują błędy podczas generacji danych do paczki faktur to blokować utworzenie dokumentów sprzedaży?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100176
    ,'Zezwalać na zmiany wsteczne w umowach kontrahenta?'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

    _par:=exec('add','#params'
    ,100177
    ,'Obsługa projektów w umowach cyklicznych'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

    _par:=exec('add','#params'
    ,100178
    ,'Podpowiadanie handlowca dla umowy cyklicznej wg użytkownika'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100250
    ,'Formuła zwracająca opis załącznika generowanego automatycznie'
    ,""
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,100251
    ,'Formuła zwracająca szczegóły załącznika generowanego automatycznie'
    ,""
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,100320
    ,'Czy pobierać stawkę VAT z dokumentów źródłowych ([N]ie/[T]ak/[B]ezwarunkowo)?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100323
    ,'Formuła odwrotnego obciążenia'
    ,"_a.SZ='S'"
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100324
    ,'Czy kontrolować wymagany split payment?'
    ,'T'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100326
    ,'Czy wymagać "Rachunek VAT" na walutowym dokumencie z wymaganym split payment?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100330
    ,'Współpraca z BDO'
    ,'N'
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100331
    ,'Adres usługi BDO'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100333
    ,'ClientId do usługi BDO'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100334
    ,'ClientSecret do usługi BDO'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100335
    ,'Logowanie transmisji z BDO do pliku'
    ,'N'
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100336
    ,'Logowanie transmisji z BDO do rejestru zdarzeń'
    ,2
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100337
    ,'Statusy kart, które nie będą importowane z BDO'
    ,''
    ,'Odpady');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
    ,100350
    ,'Ilość dni cofnięcia wobec daty dokumentu w wyznaczaniu tabeli kursów'
    ,1
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100351
    ,'Ilość dni cofnięcia wobec daty dokumentu w wyznaczaniu tabeli kursów dla pozycji'
    ,1
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100352
    ,'Ilość dni cofnięcia w wyznaczaniu tabeli kursów - jednakowa czy dla użytkownika'
    ,'U'
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100360
    ,'Kiedy dokument Businesslink jest gotowy do wysyłki?'
    ,'Po utworzeniu PDF'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100361
    ,'Liczba godzin opóźnienia przed wysłaniem dokumentu Businesslink'
    ,0
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100362
    ,'Domyślny oddział'
    ,''
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100363
    ,'Użytkownik "serwisowy"'
    ,''
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100364
    ,'Czy kompresować załączniki podczas wysyłania?'
    ,'N'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100365
    ,'Domyślna data wystawiania dokumentów KSeF dla kontrahenta'
    ,date(0,0,0)
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100366
    ,'Domyślna obsługa dla dok. Businesslink przy auto. rejestracji (gdy nie ustawiono dla kontrahenta)'
    ,'DOB'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100367
    ,'Domyślna obsługa dla zamówień Businesslink przy auto. rejestracji (gdy nie ustawiono dla kontrahenta)'
    ,'ORD'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100368
    ,'Domyślna data odbierania dokumentów KSeF od kontrahenta'
    ,date(0,0,0)
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100370
    ,'Nazwa sygnału uruchamiającego rejestrację faktury w obiegu'
    ,'FIN_FWO'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

  _par:=exec('add','#params'
    ,100371
    ,'Nazwa sygnału uruchamiającego rejestrację wniosku w obiegu'
    ,'FIN_FAW'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

  _par:=exec('add','#params'
    ,100372
    ,'Nazwa sygnału uruchamiającego rejestrację dokumentu księgowego'
    ,'FIN_DOK'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100375
    ,'Czy wysyłać dokumenty KSeF do kontroli Businesscheck?'
    ,'T'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100376
    ,'Wykorzystanie systemu jako MeritHUB'
    ,'N'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100377
    ,'Czy logować szczegółowo transmisję z usługą Businesslink do pliku?'
    ,'N'
    ,'Businesslink');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
   ,100600
   ,'Domyślna realizacja zamówień dostaw na podstawie przyjęcia z urządzeń mobilnych?'
   ,'N'
   ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100800
    ,'Typ kontaktu - załącznik dokument'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100801
    ,'Typ kontaktu - dokument Businesslink'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'ZBL');

   _par:=exec('add','#params'
    ,100900
    ,'Ścieżka do generatora diagramów'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100950
    ,'Dozwolona objętość załączników [GB]'
    ,1
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100955
    ,'Diagnostyka synchro podczas wysyłania danych przez API'
    ,'N'
    ,'Usługi integracyjne');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,104102
    ,'Uruchomienie systemu pomimo niewykonania zadań potransferowych?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100300
    ,'Czy rezerwować stany magazynowe przy odczycie komunikatów EDI?'
    ,'N'
    ,'EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100301
    ,'Czy wymagana forma płatności w korektach sprzedaży dla komunikatów EDI?'
    ,'N'
    ,'EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100302
    ,'Funkcja konwersji ciągów znaków w EDI (maz2w95,maz2iso,maz2nop,maz852)'
    ,'maz2nop'
    ,'EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100303
    ,'Uzupełniane dane w odczytanym zamówieniu EDI'
    ,'PL|RAB'
    ,'EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,100304
    ,'Czy usuwać strukturę definicji komunikatu podczas importu w trybie nadpisywania?'
    ,'N'
    ,'EDI');
   exec('bind','#params',_par,'ZWS');

:: Dziedzina ZPR
   _par:=exec('add','#params'
    ,100901
    ,'Użytkownik "serwisowy"'
    ,'service'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100902
    ,'Termin realizacji dla czynności i procesów domyślnie tworzony od'
    ,'Uruchomienia'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100903
    ,'Maksymalna liczba instancji elementów dla generowania szczegółowego diagramu przebiegu'
    ,200
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100911
    ,'Kod domyślnej kolejki obsługującej zdarzenia'
    ,'event'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100912
    ,'Kod domyślnej kolejki obsługującej czynności usługowe'
    ,'task'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100913
    ,'Kod domyślnej kolejki obsługującej czynność wysyłania poczty'
    ,'mail'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100920
    ,'Logowanie interwałów kolejek'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100921
    ,'Logowanie uruchomienia zdarzeń warunkowych startowych'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100922
    ,'Logowanie błędów formuł zdarzeń warunkowych startowych'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100923
    ,'Logowanie uruchomienia zdarzeń warunkowych pośrednich'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100924
    ,'Logowanie uruchomienia czynności usługowych'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100925
    ,'Logowanie uruchomienia zdarzeń czasowych startowych i pośrednich'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100930
    ,'Liczba restartów kolejki, po których jest ona wyłączana'
    ,0
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100931
    ,'Zapisywanie historii przetwarzania kolejek'
    ,'N'
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100932
    ,'Usuwanie historii przetwarzania kolejek (dni wstecz zapamiętanej historii)'
    ,2
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100933
    ,'Rejestrowanie historii dla elementów trwających dłużej niż [s]'
    ,1
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100934
    ,'Liczba wycofanych transakcji w kolejce, po których jest ona wyłączana'
    ,0
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100935
    ,'Ilość powtórzeń jaką wykonać w oczekiwaniu na odblokowanie rekordu'
    ,100
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100936
    ,'Czas [ms] jaki czekać pomiędzy powtórzeniami na odblokowanie rekordu'
    ,200
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,100937
    ,'Czas [h] po jakim uruchamiać zdarzenia czasowe mimo aktywnej innej instancji procesu'
    ,24
    ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add','#params'
    ,700001
    ,'Czy szczegółowo logować sesje wysyłania powiadomień e-mail (SMTP)?'
    ,'T'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700002
    ,'Adres domyślnego autora powiadomień e-mail'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700003
    ,'Zapisywanie raportów z przetwarzania powiadomień e-mail'
    ,'M'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700004
    ,'Ilość prób wysłania powiadomień e-mail'
    ,10
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

::   exec('add','#params',null,700005,'A','Ilość dni zapamiętanej historii zdarzeń i zadań','7','A');
::   exec('add','#params',null,700006,'A','Ilość dni zapamiętanych usuniętych powiadomień e-mail','7','A');

   _par:=exec('add','#params'
    ,700007
    ,'Zapisywanie raportów z wysyłania powiadomień e-mail'
    ,'M'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700008
    ,'Lista adresów zaufanych serwerów'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700009
    ,'Adres strony www licencjobiorcy'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700010
    ,'Nazwa licencjobiorcy'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700012
    ,'Czy doklejać skróconą nazwę firmy do tytułu maila?'
    ,'N'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700013
    ,'Stopka wiadomości'
    ,''
    ,'Poczta',1);
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700014
    ,'Domyślny wzorzec wiadomości'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700015
    ,'Styl wiadomości (wykorzystywany tylko we wzorcu template_old.htm)'
    ,''
    ,'Poczta',1);
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700016
    ,'Czy załączać logo licencjobiorcy (nagłówek wiadomości)?'
    ,'T'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700017
    ,'Czy załączać logo licencjobiorcy (stopka wiadomości)?'
    ,'T'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700019
    ,'Dodatkowe znaki akceptowane w adresach e-mail'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

    _par:=exec('add','#params'
    ,700020
    ,'Token SMSAPI'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700021
    ,'Nadawca SMSAPI'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700022
    ,'Czas w minutach, który musi upłynąć po utworzeniu zadania przed wysłaniem powiadomienia'
    ,3
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700023
    ,'Czy wysyłać powiadomienia o zadaniach wolnych?'
    ,'N'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700024
    ,'Czy dodawać link html do powiadomienia SMS?'
    ,'N'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,700025
    ,'Czy SMSy obsługują polskie znaki?'
    ,'N'
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

:: Uwaga: rezerwacja numerów 700033, 700034, 700035, 700038, 700039 na przyszłe potrzeby OAuth
   _par:=exec('add','#params'
    ,700030
    ,'Identyfikator dzierżawcy dla aplikacji OAuth Microsoft'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add','#params'
    ,700031
    ,'Identyfikator klienta dla aplikacji OAuth Microsoft'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add','#params'
    ,700032
    ,'Tajny klucz klienta dla aplikacji OAuth Microsoft'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add','#params'
    ,700036
    ,'Identyfikator klienta dla aplikacji OAuth Google'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add','#params'
    ,700037
    ,'Tajny klucz klienta dla aplikacji OAuth Google'
    ,''
    ,'Poczta');
   exec('bind','#params',_par,'ZWS');

:: Dziedzina KKH
   _par:=exec('add','#params'
    ,700900
    ,'Czy domyślnie zaznaczona opcja \'Polecony\' dla nowych pozycji książki nadawczej?'
    ,'T'
    ,'Kontakty');
   exec('bind','#params',_par,'KKH');

:: Dziedzina LZK
   _par:=exec('add','#params'
    ,100700
    ,'Czy bufor planu dostaw jest aktywny?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100701
    ,'Plan dostaw - domyślny dostawca'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100702
    ,'Edycja cen dla zamówień dostaw realizowanych w magazynach ilościowych'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100703
    ,'Plan dostaw - statusy dostaw - stan niedostępny'
    ,''
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100704
    ,'Plan dostaw - pomijać zamówienia wewnętrzne do realizacji limitów zleceń, których typ podano w parametrze 500011'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100705
    ,'Plan dostaw - sposób aktualizacji daty, która jest dniem wolnym'
    ,'Wyznacz datę przed dniem wolnym'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,100709
    ,'Ilość zrealizowana na zamówieniu dostaw wg ilości na dokumentach'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200101
    ,'Czy można redagować konto w nagłówku faktury?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200138
    ,'Czy data sprzedaży w pozycji faktury?'
    ,'P'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');


   _par:=exec('add','#params'
    ,200200
    ,'Czy można redagować konto w pozycjach faktury?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,200205
   ,'Typy dokumentów dla których pole ''Wymagany split payment'' w nagłówku dokumentu jest domyślnie zaznaczone'
   ,''
   ,'Zakupy',1);
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200209
    ,'Czy wymagany powód korekty w nagłówku dokumentu?'
    ,'T'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,200210
   ,'Czy wymagany powód korekty w pozycji?'
   ,'N'
   ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200300
    ,'Czy przeliczać niewalutowe dokumenty magazynowe na walutowych dokumentach zakupu?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200301
    ,'Czy zmieniać cenę na powiązanych dokumentach magazynowych po zmianie na zakupie?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200310
    ,'Czy dostępne równoczesne wiązanie dokumentów magazynowych z dokumentem zakupu i wewnętrznym?'
    ,'T'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200327
    ,'Czy sprawdzać aktywność podatnika VAT?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,200400
    ,'Czy przenosić na dokument zakupu powiązane usługi z realizacji zamówienia?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,300307
    ,'Czy automatycznie zmieniać typ i numer dokumentu zakupu dla dokumentów 100% rozliczonych zaliczką?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,300308
    ,'Dokumenty zakupu. Zaliczki rozliczać z uwzględnieniem stawek VAT?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,400301
    ,'Sposób przeliczenia jednostek dodatkowych dla zamówień dostaw'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,400401
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów zakupu'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,800821
    ,'(Ceny z kartoteki dostawcy) Czy podpowiadać cenę z pola [Cena I] kartoteki dostawcy?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,800823
    ,'(Ceny wg cenników) Czy podpowiadać cenę dostawy z cennika o najwyższym priorytecie?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LZK');

:: Dziedzina LSP

   _par:=exec('add','#params'
    ,300101
    ,'Czy można redagować konto w nagłówku faktury?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300113
   ,'Czy grupować pozycje dokumentu sprzedaży z uwzględnieniem cech dostaw indeksu materiałowego?'
   ,'N'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300114
   ,'Grupowa realizacja zamówień z różnymi kursami walut?'
   ,'N'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300103
   ,'Czy grupować pozycje dokumentu sprzedaży podczas wystawiania na podstawie dokumentów magazynowych?'
   ,'P'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300136
    ,'Czy kontrolować datę dostawy?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300137
    ,'Czy data dostawy i sprzedaży na paragonie może być wcześniejsza od daty wystawienia?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300138
    ,'Czy data sprzedaży w pozycji faktury?'
    ,'P'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300140
   ,'Czy podpowiadać sposób płatności kontrahenta dla dokumentów sprzedaży realizowanych na podstawie zamówień?'
   ,'T'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300150
   ,'Czy podpowiadać cennik brutto na zamówieniach sprzedaży?'
   ,'N'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300151
    ,'Czy podpowiadać cennik brutto na ofertach sprzedaży?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300160
    ,'Czy na paragonie do faktury końcowej drukować tylko wartość pozostałą do zapłaty?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300161
    ,'Ilość znaków w opisie pozycji na wydruku paragonu (np. ELZAB: 28, POSNET: 40)'
    ,28
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300162
    ,'Wydruk kontroli bazy danych na drukarkach posnet(Pełny: 1, Tylko niezgodne - POSNET:2,POSNET THERMAL:4)'
    ,1
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300163
    ,'Znak 0Ah w nagłówku i stopce paragonu (POSNET)'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300164
    ,'Drukować NIP na paragonie'
    ,''
    ,'Sprzedaż'
    ,1);
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300165
    ,'Formuła dodająca dodatkowe linie do wydrukowania na paragonie w stopce po transakcji'
    ,""
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300166
    ,'Drukować formy płatności na paragonie'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300200
    ,'Czy można redagować konto w pozycjach faktury?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300201
   ,'PKWiU sprzed 1 stycznia 2011 roku tylko z historii?'
   ,'N'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300202
    ,'Przesunięcie terminu płatności zgodnie z kalendarzem?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300203
    ,'Uwzględnić soboty w przesunięciu terminu płatności zgodnie z kalendarzem?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300204
    ,'Maksymalna liczba kopiowanych dokumentów sprzedaży'
    ,10
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300205
    ,'Typy dokumentów dla których pole ''Wymagany split payment'' w nagłówku dokumentu jest domyślnie zaznaczone'
    ,''
    ,'Sprzedaż',1);
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300206
    ,'Czy pobierać CN z pola PKWiU materiału?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300207
    ,'Czy drukować CN/PKWiU na fakturze i korekcie?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300208
    ,'Czy drukować etykietę CN/PKWiU na fakturze i korekcie?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300209
    ,'Czy wymagany powód korekty w nagłówku dokumentu?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300210
    ,'Czy wymagany powód korekty w pozycji?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300211
    ,'Pola uruchamiające korektę nagłówkową'
    ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300212
    ,'Sposób liczenia kwoty VAT na korekcie zbiorczej'
    ,'WG STAWEK VAT DOKUMENTY WALUTOWE'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300215
    ,'Czy kontrolować dokładność ilości i ceny dla korekt historycznych?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300216
    ,'Czy blokować zakończenie rejestracji dokumentu sprzedaży jeśli niepoprawny termin płatności?'
    ,'P'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300217
    ,'Czy blokować zakończenie rejestracji korekty sprzedaży z kwotą do zwrotu jeśli niepoprawny termin płatności?'
    ,'P'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300218
    ,'Czy drukować dokument z rezerwacją bez wydania z magazynu?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300219
    ,'Czy drukować dokument wystawiany jako e-dokument?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300230
    ,'Czy zabroniona korekta NIP kontrahenta i odbiorcy?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
    ,300231
    ,'Czy słownik odbiorców ograniczony do pozycji powiązanych z kartoteką kontrahenta?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
    ,300233
    ,'Czy wyłączyć dodawanie przedrostka z symbolem firmy do kodów pozycji słowników użytkownika w słownikach opartych'+
      ' na tabelach lokalnych?'
    ,'N'
    ,'Słowniki');
   exec('bind','#params',_par,'FKS');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
    ,300235
    ,'Przypisanie okresu VAT do dokumentu oraz pozycji VAT w momencie, gdy znika z zawieszonych rozliczeń VAT przy '+
     'częściowym rozliczaniu'
    ,'N'
    ,'Rozliczenia VAT');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
    ,300240
    ,'Możliwość wysłania e-mailem PDF dokumentu sprzedaży, gdy kontrahent nie ma zgody na e-fakturę'
    ,'P'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300241
    ,'Utwórz zapis w kasie'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300250
    ,'Formuła na treść QRCode'
    ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300255
    ,'Logowanie komunikacji z drukarką fiskalną'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300300
    ,'Zaliczka do zamówienia. Podaj procent niezafakturowanej wartości brutto zamówienia'
    ,0
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300301
    ,'Czy komunikować o terminie płatności poprzedzającym datę wystawienia?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300302
    ,'Domyślna liczba płatności przy rozpisaniu'
    ,3
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300303
    ,'Domyślna liczba dni między płatnościami przy rozpisaniu'
    ,10
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300305
    ,'Czy automatycznie zmieniać typ i numer dokumentu sprzedaży dla dokumentów 100% rozliczonych zaliczką?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300306
    ,'Dokumenty sprzedaży. Zaliczki rozliczać z uwzględnieniem stawek VAT?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300327
    ,'Czy sprawdzać aktywność podatnika VAT?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300400
    ,'Czy przeliczać niewalutowe dokumenty magazynowe na walutowych dokumentach sprzedaży?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300501
    ,'Typ generowanego dokumentu zwrotu po korekcie. Parametr filtra np.: "TYPYDOK".Z=\'T\' and "TYPYDOK".P=\'N\''
    ,'"TYPYDOK".T=\'ZZ\''
    ,'_Archiwum');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300502
    ,'Czy dostępne usunięcie powiązań z dokumentami magazynowymi?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300600
   ,'Domyślna stawka VAT dla faktury zaliczkowej wystawianej na podstawie wpłaty gotówkowej'
   ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300601
   ,'Domyślna jednostka miary dla faktury zaliczkowej wystawianej na podstawie wpłaty gotówkowej'
   ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300602
   ,'Domyślny typ dokumentu typu faktura zaliczkowa dla wpłaty gotówkowej'
   ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300603
   ,'Domyślna procedura OSS, IOSS'
   ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300604
    ,'Czy można zmienić typ deklaracji Intrastat dokumentu unijnego na "Nie dotyczy"?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300605
    ,'Okres deklaracji Intrastat wywóz wg daty wystawienia, sprzedaży albo dostawy'
    ,'W'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300611
   ,'Liczba dni wstecz przy podpowiedzi kursu dla operacji kasowej przychodowej'
   ,0
    ,'Kasa');
   exec('bind','#params',_par,'KAS');

   _par:=exec('add','#params'
   ,300612
   ,'Liczba dni wstecz przy podpowiedzi kursu dla operacji kasowej rozchodowej'
   ,0
    ,'Kasa');
   exec('bind','#params',_par,'KAS');

   _par:=exec('add','#params'
    ,300700
    ,'Sprzedaż według kartoteki stanów magazynowych?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300800
    ,'Włączony rejestr historii zmian rezerwacji'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300801
    ,'Włączony rejestr sprzedaży utraconej'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300802
    ,'Webserwis - przekazany zewnętrzny symbol faktury nadpisuje standardowy'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300803
    ,'Włączona kontrola daty przy wystawianiu faktury do paragonu'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300804
    ,'Możliwość wystawiania faktury do paragonu bez NIP'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300805
    ,'Możliwość zmiany cen w fakturze do paragonu'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300806
    ,'Czy sprawdzać ceny w zamówieniu sprzedaży przed realizacją?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

    _par:=exec('add','#params'
    ,300807
    ,'Czy podpowiadać cenę na podstawie aktualnej daty?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

    _par:=exec('add','#params'
    ,300808
    ,'Czy kopiować podziały controllingowe przy kopiowaniu faktury?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300810
    ,'Brak rezerwacji warunkowych dla zamówień sprzedaży'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300811
    ,'Czy dodatkowo pytać o tworzenie rezerwacji dla powiązanych zleceń?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,300812
    ,'Dostępna niezależna realizacja zamówień sprzedaży z rezerwacjami pod zlecenie'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,400002
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów rozchodowych bez sprzedaży'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400003
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów rozchodowych do sprzedaży'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400101
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów sprzedaży'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,400201
    ,'Sposób przeliczenia jednostek dodatkowych dla zamówień sprzedaży'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800801
    ,'(Ceny z kartoteki materiałowej) Czy podpowiadać cenę z pola [Cena I] słownika materiałów?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800802
    ,'Czy włączona kalkulacja?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800803
    ,'(Ceny wg cenników) Czy podpowiadać cenę sprzedaży z cennika o najwyższym priorytecie?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800804
    ,'Priorytet cennika Standardowego'
    ,1
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800805
    ,'Priorytet cennika Grupy kontrahenta'
    ,2
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800806
    ,'Priorytet cennika Kontrahenta'
    ,3
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800807
    ,'Liczba lat przy analizie cen w kalkulacji (0-Aktywny rok)'
    ,0
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800808
    ,'Formuła na kod cennika / gratisu'
    ,''
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800809
    ,'Priorytet cennika Odbiorcy'
    ,4
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800810
    ,'Sposób obliczania rabatu C-obliczany wg ceny, W-obliczany wg wartości:'
    ,'C'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800811
    ,'Sposób obliczania rabatu wartościowego 1, 2 lub 3'
    ,3
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800812
    ,'Sposób liczenia rabatu:'
    ,'P'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800813
    ,'Rabat od ceny po rabacie w korekcie'
    ,''
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800814
    ,'Czy przeliczać pozycje walutowe wg wartości?'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,800830
    ,'Uprawnienia do cenników dotyczą dokumentów'
    ,'T'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
    ,800850
    ,'Sposób kontroli zmiany cen: N-Standardowy, T-Szczegółowy, B-Brak kontroli'
    ,'N'
    ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,800907
   ,'Sposób obliczenia cen zakupu marży/narzutu dla zamówień sprzedaży'
   ,'N'
   ,'Cenniki');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300170
   ,'Czy kontrolować kurs podczas wystawiania faktur na podstawie dokumentów magazynowych?'
   ,'T'
   ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,300171
   ,'Czy wyznaczać kurs na fakturze wg daty dostawy?'
   ,'N'
   ,'Firma');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
    ,400000
    ,'Zakres stosowania przeliczników'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400999
    ,'Ewidencja w jednostkach zakupu'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,300120
   ,'Czy w przypadku braku wypełnienia numeru GTU w kartotece materiałowej/usługowej podpowiadać z grupy materiałowej/usługowej?'
   ,'N'
   ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

:: Dziedzina LMG
   _par:=exec('add','#params'
    ,100200
    ,'Czy Intrastat przywóz wg dokumentów magazynowych?'
    ,'T'
    ,'Firma');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,100201
   ,'Czy przepisywać wartość fakturową i statystyczną z dokumentu magazynowego na zakupowy?'
   ,'T'
   ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,100202
   ,'Czy sprawdzać dane do Intrastat podczas rejestracji dokumentu?'
   ,'T'
   ,'Firma');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'LZK');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,100203
   ,'Okres od którego umieszczana jest informacja o kraju pochodzenia towaru w zgłoszeniach Intrastat w wywozie'
   ,'202201'
   ,'Firma');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,100204
   ,'Czy korekty magazynowe są uwzględniane w Intrastat przywóz wg dokumentów magazynowych?'
   ,'N'
   ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,100205
   ,'Typy dokumentów, na których można zmienić Kraj pochodzenia'
   ,''
   ,'Firma',1);
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,100206
   ,'Zmieniać Kraj pochodzenia dla powiązanego dokumentu sprzedaży?'
   ,'N'
   ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,100210
    ,'Czy uzupełniać tabelę pozycji dostaw magazynowych (grupy kapitałowe)?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,100215
    ,'Struktura lokalizacji w magazynie z oznaczeniami literowymi?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,100216
    ,'Struktura lokalizacji w magazynie - najpierw oznaczenia literowe?'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400001
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów przychodowych'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400001
    ,'Sposób przeliczenia jednostek dodatkowych dla dokumentów przychodowych'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400501
    ,'Sposób przeliczenia jednostek dodatkowych dla rezerwacji'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,400601
    ,'Sposób przeliczenia jednostek dodatkowych dla zamówień wewnętrznych'
    ,'N'
    ,'Przeliczniki jednostek');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,540101
    ,'Kwalifikacja dostaw - włączony mechanizm badań?'
    ,'T'
    ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
    ,540102
    ,'Kwalifikacja dostaw - tworzenie nowego kodu identyfikującego dostawę przy podziale?'
    ,'N'
    ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,540001
   ,'Kwalifikacja dostaw - zestaw ikon (plik.png)'
   ,'xwin16.png'
   ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,540010
   ,'Kwalifikacja dostaw - ikona - Wszystkie RODZAJE'
   ,'xwin16.png:98'
   ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,540011
   ,'Kwalifikacja dostaw - ikona - RODZAJ: Nieokreślony (niedostępny)'
   ,'xwin16.png:9'
   ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,540012
   ,'Kwalifikacja dostaw - ikona - RODZAJ: Zgodny (dostępny)'
   ,'xwin16.png:38'
   ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,540013
   ,'Kwalifikacja dostaw - ikona - RODZAJ: Niezgodny (niedostępny)'
   ,'xwin16.png:81'
   ,'Kwalifikacja dostaw');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params'
   ,600000
   ,'Czy można usunąć dokument, który utworzył inny dok. (np. MM, z którego utworzono MP)?'
   ,'T'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600010
    ,'Czy redagować grupę i podgrupę indeksu, gdy indeks jest wykorzystywany?'
    ,'N'
    ,'Materiały/Usługi');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
   ,600020
    ,'Kontrola wartości liczbowych dla atrybutów bez formatowania.'
    ,'N'
    ,'Materiały/Usługi');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params'
   ,600050
    ,'Czy wyszczególniać nieaktywne dostawy na arkuszu inwentaryzacji ciągłej?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600051
    ,'Sposób wyceny nadmiaru na arkuszu inwentaryzacji?'
    ,''
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600052
    ,'Liczba okresów (pełne lata) do analizy wyceny nadmiaru na arkuszu inwentaryzacji (0-wszystkie)'
    ,2
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600060
    ,'Historia dostawy - początkowa ilość poziomów zagłębienia danych (0-pobranie pełnej historii)'
    ,0
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600061
    ,'Historia dostawy - czy wyświetlać informacje powiązane z produkcją'
    ,'T'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,100080
    ,'Akceptacja umowy cyklicznej przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
   ,100180
    ,'Akceptacja paczki faktur przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add','#params'
    ,100280
    ,'Akceptacja Karty przekazania odpadów przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LUO');

   _par:=exec('add','#params'
   ,200080
    ,'Akceptacja dokumentu zakupu przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,200180
    ,'Akceptacja zamówienia dostaw przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params'
   ,300080
    ,'Akceptacja dokumentu sprzedaży przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300180
    ,'Akceptacja zamówienia sprzedaży przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300280
    ,'Akceptacja oferty sprzedaży przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300380
    ,'Akceptacja powiązanego dokumentu magazynowego przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,300480
    ,'Księgowanie próbne powiązanego dokumentu księgowego przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300580
    ,'Akceptacja powiązanej noty odsetkowej przy zakończeniu tworzenia (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300680
    ,'Akceptacja powiązanego wezwania do zapłaty przy zakończeniu tworzenia (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300780
    ,'Akceptacja powiązanych potwierdzeń sald przy zakończeniu tworzenia (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300901
    ,'Liczba kontrahentów, których dane są w jednej masce tabel podpowiedzi'
    ,200
    ,'Podpowiedzi');
   exec('bind','#params',_par,'FKS');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300911
    ,'Automatyczne zaznaczanie sugerowanych użytkowników do akceptacji'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300912
    ,'Podpowiedzi dla dokumentów księgowych z KSeF'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300913
    ,'Podpowiedzi dla automatycznej rejestracji dokumentów księgowych z KSeF'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300914
    ,'Podpowiedzi dla akcji grupowych'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300915
    ,'Podpowiedzi przy dekretacji faktur w obiegu'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300916
    ,'Podpowiedzi dla pozycji VAT dokumentu księgowego'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300917
    ,'Podpowiedzi schematów podziałów controllingowych dla faktur w obiegu'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300918
    ,'Podpowiedzi dla korekt dokumentów księgowych'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300919
    ,'Podpowiedzi dla korekt faktur w obiegu'
    ,'N'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300921
    ,'Opcje zbierania podpowiedzi dla podziałów controllingowych (schemat)'
    ,'Brak'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,300922
    ,'Opcje zbierania podpowiedzi dla rejestru księgowego, rejestru VAT, rodzaju dokumentu'
    ,'Brak'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,300923
    ,'Opcje zbierania podpowiedzi dla grupy podatkowej i kont w pozycjach VAT'
    ,'Brak'
    ,'Podpowiedzi');
   exec('bind','#params',_par,'OBG');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,700101
    ,'Powiadomienia o nowych fakturach w obiegu zarejestrowanych automatycznie z KSeF'
    ,'N'
    ,'Powiadomienia');
   exec('bind','#params',_par,'OBG');

   _par:=exec('add','#params'
   ,700111
    ,'Powiadomienia o nowych dokumentach księgowych zarejestrowanych automatycznie z KSeF'
    ,'N'
    ,'Powiadomienia');
   exec('bind','#params',_par,'FKS');

   _par:=exec('add','#params'
   ,600080
    ,'Akceptacja dokumentu magazynowego przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600180
    ,'Akceptacja zamówienia wewnętrznego przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600280
    ,'Akceptacja powiązanego dokumentu magazynowego przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600380
    ,'Akceptacja reorganizacji w magazynie przy zakończeniu rejestracji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600480
    ,'Akceptacja dokumentów różnic inwentaryzacyjnych przy zakończeniu rejestracji inwentaryzacji (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600580
    ,'Akceptacja dokumentów magazynowych przy zakończeniu rejestracji przeceny (bez procesu)'
    ,'T'
    ,'Akceptacja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params',600102
    ,'Czy podpowiadać ilość dostępną podczas redagowania dokumentu rozchodowego?'
    ,'T'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params',600103
   ,'Czy spis lokalizacji z uzupełnianiem terminów ważności?'
   ,'P'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600701
   ,'Domyślna operacja dla obszaru operacji mobilnych'
   ,'P'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600702
   ,'Kompletacja wysyłki bez kontroli stanów magazynowych'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600703
   ,'Modyfikacja zamówienia sprzedaży w trakcie Kompletacji wysyłki'
   ,'T'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600704
   ,'Modyfikacja zamówienia wewnętrznego w trakcie Kompletacji wysyłki'
   ,'T'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600705
   ,'Automatyczne podpowiadanie palet - Kompletacja wysyłki dla zamówienia sprzedaży'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600706
   ,'Automatyczne podpowiadanie palet - Kompletacja wysyłki dla zamówienia wewnętrznego'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600707
   ,'Automatyczne podpowiadanie palet dla realizacja zamówienia sprzedaży'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600708
   ,'Automatyczne podpowiadanie palet dla realizacji zamówienia wewnętrznego'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600709
   ,'Porządkowanie pozycji operacji wysłanych z systemu wg kodów lokalizacji'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600710
   ,'Rozpakowanie bez wskazania palety dla kompletacji zamówienia sprzedaży'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600711
   ,'Rozpakowanie bez wskazania palety dla kompletacji zamówienia wewnętrznego'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600901
   ,'Pełny ekran'
   ,'T'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600902
   ,'Domyślny kod kontrahenta'
   ,''
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600903
   ,'Wybór zamówień dostaw'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600904
   ,'Wyświetlanie uwag'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600908
   ,'Możliwość wydawania powyżej ilości zamawianej'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600909
   ,'Generacja pozycji operacji przyjęcia dostawy na podstawie zamówienia dostaw'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600910
   ,'Podpowiadanie lokalizacji na operacjach przyjęcia, wydania, inwentaryzacji'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600911
   ,'Wybór zleceń'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600912
   ,'Obsługa kodów GS1'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600913
   ,'Podpowiadanie lokalizacji dla wydań paletowych'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600914
   ,'Obsługa drugiej jednostki ewidencyjnej'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600915
   ,'Odczyt kodu identyfikującego dostawę wg kodu GS1'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600916
   ,'Domyślnie operacje paletowe'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600917
   ,'Podpowiadanie lokalizacji dla inwentaryzacji paletowej'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600919
   ,'Czy kontrolować zmianę proponowanej lokalizacji docelowej dla reorganizacji'
   ,'N'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600922
   ,'Podpowiadanie lokalizacji dla operacji paletowych'
   ,'WNINRNKN'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add','#params',600923
   ,'Podpowiadanie lokalizacji dla operacji bez obsługi palet'
   ,'WNINRNKN'
   ,'Urządzenia mobilne');
   exec('bind','#params',_par,'LMO');
   _par:=exec('add','#params',600104
   ,'Wprowadzenie cen zerowych do magazynu typu ceny ewidencyjne?'
   ,'T'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params',600200
   ,'Czy kontrola ilości wg wymiarów dla rozchodu?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params',600300
   ,'Czy wycena kompletu wg składowych?'
   ,'T'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,600400
    ,'Czy przesunięcia magazynowe między oddziałami?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,600401
    ,'Czy przesunięcia magazynowe między magazynem wartościowym i ilościowym?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600500
   ,'Czy automatyczne oznaczanie palet przy akceptacji dokumentów?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600600
   ,'Maksymalna liczba kopiowanych dokumentów funkcją Kopiuj pozycje'
   ,10
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600601
   ,'Czy przy kopiowaniu uwzględniać wymiary?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600602
   ,'Czy informacje dodatkowe (o ile to możliwe) kopiować z oryginalnego dokumentu (N - wyznaczane zgodnie z definicją)?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600800
   ,'Aktualizacja realizacji zamówienia sprzedaży na podstawie wydania z magazynu?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600801
   ,'Aktualizacja realizacji zamówienia wewnętrznego na podstawie wydania z magazynu?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
   ,600803
   ,'Aktualizacja realizacji zamówienia dostaw na podstawie przyjęcia do magazynu?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,600810
    ,'Brak rezerwacji warunkowych dla zamówień wewnętrznych'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,600811
    ,'Czy dodatkowo pytać o tworzenie rezerwacji dla powiązanych zleceń?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params'
    ,600812
    ,'Dostępna niezależna realizacja zamówień wewnętrznych z rezerwacjami pod zlecenie'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

    _par:=exec('add','#params'
    ,600813
    ,'Czy generować automatyczną reorganizację po zmianie kwalifikacji?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

    _par:=exec('add','#params'
    ,600814
    ,'Czy zmieniać znaczniki reorganizacji po zmianie kwalifikacji?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

:: Dziedzina TTE
   _par:=exec('add','#params',500001,'Czy pobierać zamienniki z grupy technologicznej?','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500002
      ,'Lista magazynów uwzględnianych podczas wyliczania stanu dostępnych surowców','','Magazyny',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500003
      ,'Lista dokumentów uwzględnianych podczas wyliczania ceny z dokumentów przychodowych w kalkulacjach','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500004,'Domyślny magazyn surowców','','Magazyny');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500005,'Domyślny magazyn półproduktów','','Magazyny');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500006,'Domyślne magazyny wydziałowe','','Magazyny',1);
   exec('bind','#params',_par,'TTE',1);

   _par:=exec('add','#params',500007,'Czy rezerwować surowce podczas akceptacji limitów?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500008,'Czy rezerwować surowce podczas uruchamiania zlecenia?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500010,'Czy akceptować limity podczas generowania?','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500011,'Typ zamówienia wewnętrznego do realizacji limitów zleceń','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500013,'Czy dodając półfabrykat do surowców karty technologicznej korzystać z domyślnej karty półfabrykatu?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500014,'Sposób ustalania magazynu dla limitów zlecenia','D','Magazyny');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500015,'Czy wymagać sprawdzenia limitów przed akceptacją?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500016,'Czy automatycznie sprawdzać limity podczas zakańczania ich redakcji?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500017,'Domyślny magazyn odpadów/koproduktów','','Magazyny');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500100,'Domyślna podstawa powołania zlecenia:','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500101,'Domyślny opis zlecenia produkcyjnego:','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500102,'Domyślny opis zlecenia warsztatowego:','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500103,'Ilość dni na realizację zlecenia:',0,'Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500104,'Domyślna ilość na przewodniku:','Z','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500110,'Inicjować ilość wykonywaną na zleceniu wartością optymalnej serii?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500113,'Czy podczas dołączania pozycji zamówienia do zlecenia zużywać wolną ilość?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500120,'Czy podczas dołączania pozycji do grupy operacji automatycznie wyznaczać ilość?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500121,'Lista kontrolowanych elementów podczas zamykania grupy operacji','NNNNN','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500205,'Dostępność półproduktów przed pobraniem',0,'Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500213,'Lista typów zamówień sprzedaży uwzględnianych podczas dodawania do planu operacyjnego i zleceń','','Produkcja',1);
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500215,'Lista typów zamówień wewnętrznych uwzględnianych podczas dodawania do planu operacyjnego i zleceń','','Produkcja',1);
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500220,'Filtr ograniczający listę pozycji zamówień do wytworzenia','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500221,'Czy uwzględniać ilości z korekt źródłowych limitów na liście zamówień wewnętrznych do wytworzenia?','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500222,'Lista elementów przenoszona z nagłówka zamówienia podczas generowania zlecenia na podstawie pozycji zamówienia','TT','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500223,'Czy przenosić magazyn z pozycji zamówienia na zlecenie?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500224,'Generowanie zleceń z zamówień sprzedaży - sposób grupowania pozycji','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500225,'Generowanie zleceń z planu dostaw - sposób grupowania pozycji','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500226,'Generowanie zleceń z planu sprzedaży - sposób grupowania pozycji','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500302,'Numer rubryki kalkulacji zawierającej TKW produktu',200,'Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500402,'Czy automatycznie przypisywać dokument raportujący produkcję do ostatniej operacji technologii/przewodnika?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500403,'Domyślna przyczyna modyfikacji zatwierdzonego elementu technologii','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500405,'Szybka akceptacja karty technologicznej','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500406,'Obsługa składu procentowego dla surowców technologicznych','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500407,'Domyślny typ karty technologicznej','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500600,'Rozliczenie akordu brygadowego godzinowe','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500602,'Rejestracja robocizny — formularz szczegółowy','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500603,'Rejestracja robocizny — rubryka kwalifikacji godzin',53,'Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500604,'Zaokrąglenie czasu (godziny techniczne)',5,'Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500605,'Rejestracja robocizny — sposób wyliczania wartości robocizny','P','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500611,'Dostępność dla przewodników zleceń','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500612,'Dostępność dla planu operacyjnego','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500613,'Dostępność dla planu strategicznego','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500621,'Synchronizacja wykonań (Z)lecenia►Plan operacyjny, (P)lan operacyjny►Zlecenia','Z','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500631,'Kontrola ilości dla przewodników zleceń','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500632,'Kontrola ilości dla planu operacyjnego','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500633,'Kontrola ilości dla planu strategicznego','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500634,'Kontrola ilości dla operacji bez poprzedników (dla przewodników zleceń)','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500635,'Kontrola wypełnienia rodzaju braku','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500641,'Długość kodu kreskowego identyfikatora pracownika',13,'E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500642,'Liczba dni ograniczająca widok przyszłych pozycji do rejestracji',30,'E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500643,'Możliwość wpisania zerowej ilości dla robocizny','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500644,'Rejestrowanie faktycznego czasu pracy','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500645,'Sposób ustalania zmiany, na której zarejestrowano wykonanie','K','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500646,'Kontrola rozpoczęcia kilku operacji przez pracownika/brygadę','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500647,'Dynamiczne tworzenie brygad podczas przydzielania','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500648,'Kontrola ilości na kartach pracy przy rozpoczęciu operacji','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500650,'Początek |1|2|3| zmiany (godzina)','|06:00:00|14:00:00|22:00:00|','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500660,'Uproszczona edycja limitów surowcowych na zleceniach','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500670,'Uproszczona obsługa problemów na produkcji','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500701,'Dokumenty magazynowe — raportowanie produkcji: dostępne typy ( made(''+'') )','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500702,'Dokumenty magazynowe — raportowanie produkcji: typ domyślny','','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500703,'Dokumenty magazynowe — zwrot na produkcję: dostępne typy ( made(''-'') )','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500704,'Dokumenty magazynowe — zwrot na produkcję: typ domyślny','','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500705,'Dokumenty magazynowe — rejestracja odpadów/koproduktów: dostępne typy','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500706,'Dokumenty magazynowe — rejestracja odpadów/koproduktów: typ domyślny' ,'','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500707,'Dokumenty magazynowe — rozchód na zlecenie: dostępne typy','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500708,'Dokumenty magazynowe — rozchód surowców nielimitowanych zlecenia: typ domyślny','','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500709,'Dokumenty magazynowe — zwroty z produkcji: dostępne typy','','Dokumenty magazynowe',1);
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500710,'Dokumenty magazynowe — zwroty z produkcji: typ domyślny'  ,'','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500711,'Sposób wyceny produktów na dokumentach raportujących','K','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500712,'Czy w czasie raportowania produkcji wyświetlać ostrzeżenie o przekroczonej ilości','T','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500713,'Kolejność pobierania dostaw podczas rozliczania zwrotów z produkcji','R','Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500740,'Czy filtrować kartotekę materiałową według rodzaju?','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500741,'Sposób filtrowania kartoteki materiałowej podczas kompletacji','N','Produkcja');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add','#params',500742,'Dostępność usług w produkcji','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500750,'Grupa materiałowa dla narzędzi','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500751,'Grupa materiałowa dla przyrządów','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500752,'Grupa materiałowa dla urządzeń','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500760,'Rozliczenie surowców w partii produktu',exec('mode_manual','magdok_partie'),'Dokumenty magazynowe');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500770,'Czy dzielić partię produktu podczas rejestracji dokumentów raportujących produkcję?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add','#params',500771,'Czy dzielić partię produktu podczas rejestracji wykonania produkcji?','N','Produkcja');
   exec('bind','#params',_par,'TTE');

:: Dziedzina TPP
   _par:=exec('add','#params',500330,'Automatyczne zaplanowanie zdarzenia powoduje niedostępność w kalendarzu zasobu','T','Plan operacyjny');
   exec('bind','#params',_par,'TPP');
   _par:=exec('add','#params',500331,'Domyślny czas trwania zdarzeń planowanych ręcznie [minuty]',480,'Plan operacyjny');
   exec('bind','#params',_par,'TPP');
   _par:=exec('add','#params',500332,'Czy zdarzenia będą domyślnie umożliwiać wielokrotne planowanie?','N','Plan operacyjny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500350,'Horyzont planowania [dni]',180,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500351,'Rozdzielczość planu [minuty]',1440,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500352,'% przeskoku dla pierwszego pojemnika',50,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500353,'Ilość kolumn widoku szczegółowego',40,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500355,'Możliwość zdalnego przeliczania planu (przy pracy na wielu wersjach planu)','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500356,'Sposób planowania opóźnień',exec('delays_plan','px_param'),'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500357,'Planowanie kolejnych etapów w razie przepełnień',exec('overfill_cont','px_param'),'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500363,'Optymalna długość pojemników (widok \'Obiekty\')','D','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500364,'Czy dodawać ostrzeżenia o niespełnionych punktach czasowych?','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500360,'Domyślny zasób kooperacyjny','','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500361,'Przelicznik dni na godziny dla kooperacji',8,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500365,'Praca na jednej wersji planu?','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500366,'Sposób przypisywania zestawu startowego do obiektu',exec('kind_pxtex','px_set'),'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500367,'Czy dla technologii zawierających półfabrykaty generować przepisy zintegrowane?','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500368,'Czy dla zleceń złożonych generować przepisy zintegrowane?','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500369,'Automatyczna aktualizacja przepisu po modyfikacji operacji zlecenia/technologii?','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500370,'Następstwo operacji',exec('oper_nast_standard','px_param'),'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500380,'Norma czasowa operacji technologicznej i TPZ wypełnia wymiar zasobu o jednostce','h','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500381,'Czas maszynowy operacji technologicznej wypełnia wymiar zasobu o jednostce','r-g','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500382,'Czas kooperacji wypełnia wymiar zasobu kooperacyjnego o jednostce','h','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500383,'Jednostka miary oznaczająca minuty','min','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500390,'Planowanie grup operacji','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');
   _par:=exec('add','#params',500391,'Czy usuwać grupę z planu podczas zamykania?','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500392,'Czy zezwalać na generowanie opóźnień?','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500393,'Sposób grupowania obiektów','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add','#params',500394,'Automatyczne usuwanie grup obiektów','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

:: Dziedzina WYP

   _par:=exec('add','#params',700502,'Numeracja poleceń wydania','','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700503,'Numeracja list zaopotrzebowania','','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700510,'Kontrola ilości aktywna?','N','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700511,'Uwzględnić stany u pracowników podczas generacji poleceń?','N','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700520,'Domyślna ilość dni na realizację zamówienia',7,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add','#params',700522,'Domyślna liczba dni na realizację zapotrzebowania',30,'Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700523,'Dokumenty magazynowe - domyślny dokument wydania wewnętrznego','','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700526,'Dokumenty magazynowe - domyślny dokument zwrotu wewnętrznego','','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add','#params',700530,'Domyślny magazyn wyposażenia','','Wyposażenie');
   exec('bind','#params',_par,'WYP');

:: Dziedzina TRE
   _par:=exec('add','#params',700701,'Dostępna struktura hierarchiczna zasobów remontowych','N','Remonty');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params',700702,'Domyślny oddział dla zgłoszeń remontowych pochodzących spoza systemu','','Remonty');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params',700710,'Możliwość zarejestrowania ujemnej lub zerowej wartości przebiegu','N','Remonty');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params',700711,'Możliwość zarejestrowania mniejszego przebiegu całkowitego','N','Remonty');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params',700712,'Typ dokumentu magazynowego dla materiałów do realizacji','','Remonty');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params',700713,'Automatyczne generowanie dokumentów magazynowych przy realizacji zgłoszenia remontowego'@,'N','Remonty');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params'
   ,700600
   ,'Domyślny przedmiot reklamacji?'
   ,'N'
   ,'Reklamacje');
   exec('bind','#params',_par,'TRE');

   _par:=exec('add','#params'
   ,700601
   ,'Typ tworzonych zasobów remontowych podczas generowania zgłoszeń na podstawie reklamacji'
   ,'M'
   ,'Reklamacje');
   exec('bind','#params',_par,'TRE');

:: Dziedzina LTR
   _par:=exec('add','#params',700800,'Uzupełniać do 8 godzin na karcie drogowej?','T','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700801,'Uruchomić rejestrację dodatków po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700802,'Uruchomić rejestrację paliwa po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700803,'Uruchomić rejestrację pracowników po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700804,'Uruchomić rejestrację tras po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700805,'Uruchomić rejestrację kosztów po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700806,'Uwzględniać współczynnik zimowy na nowych kartach drogowych?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700807,'Uruchomić rejestrację transportowanych odpadów po dodaniu karty drogowej?','N','Transport');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700808,'Token BaseLinker','','Firma');
   exec('bind','#params',_par,'LTR');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params',700809,'Klucz DPD PICKUP','','Firma');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700810,'Status zamówienia BaseLinker','','Firma');
   exec('bind','#params',_par,'LTR');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params'
   ,700811
   ,'Pokazywać dyspozycje magazynowe (trasy) w planowaniu transportów'
   ,'N'
   ,'Transport');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params'
   ,700812
   ,'Czy transport własny jako domyślna wartość?'
   ,'T'
   ,'Transport');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params',700813,'Klucz HERE','','Firma');
   exec('bind','#params',_par,'LTR');

   _par:=exec('add','#params'
   ,700814
   ,'Manualna blokada tras dla transportu niedostępna'
   ,'T'
   ,'Transport');
   exec('bind','#params',_par,'LTR');

:: AbStore b2b
   _par:=exec('add','#params', 800101, 'ID konta', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800102, 'ID połączenia', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800103, 'Użytkownik do API', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800104, 'Hasło do API', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800105, 'Adres do API', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800106, 'Kody cenników', '', 'AbStore-b2b',1);
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800107, 'Nazwa w synchro', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800108, 'Kod oddziału', 'c', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800109, 'Kody magazynów', '', 'AbStore-b2b',1);
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800112, 'Typ zamówienia sprzedaży', '', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

:   _par:=exec('add','#params', 800113, 'Odwrócone oferty', 'N', 'AbStore-b2b');
:   exec('bind','#params',_par,'ZWS');
:   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800115, 'Maks. ilość towaru na zamówieniu', 0, 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800116, 'Domyślna ilość dni do spłaty', 7, 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800117, 'Jedna oferta dedykowana', 'T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800118, 'Sumowanie rabatów', 'T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800119, 'Wersja zaimportowanych webserwisów','DEFAULT', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800120, 'Limit dni przeterminowania',0, 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800121, 'Strategia blokowania',
   'Blokuj dla wszystkich należności powyżej limitu lub przeterminowanych', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800122, 'Domyślna usługa transportu','', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800123, 'Odbiór osobisty','', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800124, 'Czy uwzględniać podgrupy materiałowe?','T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800125, 'Tabele kursowe - oddział banku','', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800126, 'Modyfikowanie zamówień','N', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800127, 'Indeks dla ofert indywidualnych','', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800128, 'Przesyłanie e-faktury','N', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800129, 'Automatyczna zmiana statusu zamówienia','T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800130, 'Strategia ofert','', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800131, 'Możliwość edycji strategii ofert z poziomu kontrahenta','T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800132, 'Możliwość edycji strategii blokowania i dni przeterminowania z poziomu kontrahenta','T', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800133, 'Aktualizacja cenników indywidualnych przy modyfikacji materiału','N', 'AbStore-b2b');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

:: AbStore b2c

   _par:=exec('add','#params', 800201, 'ID konta', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800202, 'ID połączenia', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800203, 'Użytkownik do API', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800204, 'Hasło do API', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800205, 'Adres do API', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800206, 'Kody cenników', '', 'AbStore-b2c',1);
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800207, 'Nazwa w synchro', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800208, 'Kod oddziału', 'c', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800209, 'Kody magazynów', '', 'AbStore-b2c',1);
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800212, 'Typ zamówienia sprzedaży', '', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800215, 'Maks. ilość towaru na zamówieniu', 0, 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800219, 'Wersja zaimportowanych webserwisów','DEFAULT', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800222, 'Domyślna usługa transportu','', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800223, 'Odbiór osobisty','', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800224, 'Czy uwzględniać podgrupy materiałowe?','T', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800225, 'Tabele kursowe - oddział banku','', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800226, 'Modyfikowanie zamówień','N', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800229, 'Automatyczna zmiana statusu zamówienia','T', 'AbStore-b2c');
   exec('bind','#params',_par,'ZWS');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add','#params', 800301, 'Identyfikator wewnętrzny jako symbol projektu','N', 'Projekty');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params', 800302, 'Kontrola uprawnień do projektów','N', 'Projekty');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add','#params', 800303, 'Domyślnie włączone uprawnienia na nowym projekcie','N', 'Projekty');
   exec('bind','#params',_par,'ZWS');

:: Analizy BI
   {?__Firma='001'||
::Wspólne
    _par:=exec('add','#params',900001,'Czy mają być zaimplementowane uprawnienia?','N','00 Wspólne');
      exec('bind','#params',_par,'BIQ');
    _par:=exec('add','#params',900002,'Nazwa domeny QLIK użytkowników MERIT.','MERIT','00 Wspólne');
      exec('bind','#params',_par,'BIQ');

::Personel
     _par:=exec('add','#params',900101,'Minimalny rok dla danych generowanych w Qlik.','1950','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900102,'Maksymalna liczba lat w przyszłość dla danych generowanych w Qlik.','10','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900103,'Liczba miesięcy za które utrzymywać stany dzienne.','12','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900104,'Czy współpraca z Genius?','N','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900105,'Z ilu miesięcy wstecz dane do predykcji?','36','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900106,'Ile miesięcy przewidywać?','6','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900150,'Numery atrybutów które mogą być wyłączone ze średniego zatrudnienia.','1121,114,1221,12271,12273,12251','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900151,'Numery atrybutów z godzinami przepracowanymi.','811','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900152,'Numery atrybutów z godzinami dodatkowo przepracowanymi.','8121','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900153,'Numery atrybutów z nieobecnościami chorobowymi.','12251,124,126,1321,1322','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900154,'Numery atrybutów z nieobecnościami urlopowymi.','111','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900155,'Numer atrybutów chorobowej płatnej przez pracodawcę (do 33 dni).','12111,12112','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900156,'Numer atrybutów z premią.','4921','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900157,'Numery atrybutów, których suma daje całościowy koszt.','681,513,523,542,575,724,742','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900158,'Numery atrybutów płacy zasadniczej.','451,452','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900159,'Numery atrybutów z dodatkami do umowy.','454','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900160,'Numery atrybutów z dodatkami wynikającymi z czasu pracy za godziny nadliczbowe, za dni wolne itp.','4012111,4012121,401213,401214','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900161,'Numery atrybutów z wynagrodzeniem chorobowym.','41','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900162,'Numery atrybutów z wynagrodzeniem za urlop.','42,431','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900163,'Numer atrybutów Brutto.','681','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900164,'Numer atrybutów z Kosztami ZUS.','513,523,542,575','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900165,'Numer atrybutów PPK - firma.','724,742','01 Personel');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900166,'Numer atrybutów PPK - pracownik.','725,741','01 Personel');
      exec('bind','#params',_par,'BIQ');

::Logistyka
     _par:=exec('add','#params',900201,'Rok początkowy miesięcznych stanów magazynowych.','2017','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900202,'Rok początkowy dziennych stanów magazynowych.','2021','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900203,'Czy współpraca z Genius?','N','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900204,'Z ilu miesięcy wstecz dane do predykcji?','36','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900205,'Ile miesięcy przewidywać?','6','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900206,'Czy plany pobierane z systemu ERP?','N','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900207,'Jeżeli wskaźnik rotacji poniżej tej wartości to materiał jest typu X.','6','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900208,'Jeżeli wskaźnik rotacji powyżej tej wartości to materiał jest typu Z.','8','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900209,'Kody firm dla których wysłać dane związane z ABC_XYZ. Np. *,F001,F002.','','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900210,'Wymiar opisujący kontrahenta na wykresach. (A-Kod kontrahenta, B-Nazwa kontrahenta)','A','02 Logistyka');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900211,'Wymiar opisujący towar na wykresach. (C-Kod towaru, D-Nazwa towaru)','C','02 Logistyka');
      exec('bind','#params',_par,'BIQ');

::Finanse
     _par:=exec('add','#params',900301,'Definicja kont kasowych.','10*','03 Finanse');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900302,'Definicja kont związanych z rachunkami bankowymi.','13*','03 Finanse');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900303,'Co jest przychodem (RZIS)?','A.','03 Finanse');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900304,'Co jest kosztem (RZIS)?','B.','03 Finanse');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900305,'Pobieranie wartości sprawozdań (X-Excel, W-Wartości liczone w ERP, Q-Wartości liczone w Qlik).','X','03 Finanse');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900306,'Ile miesięcy wstecz aktualizować sprawozdania?','2','03 Finanse');
      exec('bind','#params',_par,'BIQ');

::Dla zarządu
     _par:=exec('add','#params',900401,'Czy pobierać dane z tabeli WARTOŚCI?','N','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900402,'Czy jest controlling?','T','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900403,'Symbol modelu controllingowego w którym drugi wymiar to MPK a trzeci Produkty.','WYNIKI','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900404,'Symbol wersji controllingowej która zawiera plan.','Plan','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900405,'Symbol wersji controllingowej która zawiera wykonanie.','Wykonanie','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900406,'Numer atrybutu godzin nadliczbowych.','63141','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900407,'Numer atrybutu odpraw.','44','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900408,'Numer atrybutu kosztów wynagrodzeń.','10013','04 Dla zarządu');
      exec('bind','#params',_par,'BIQ');

::Marża IV
     _par:=exec('add','#params',900501,'Symbol modelu controllingowego.','MR_RAP','05 Marża IV');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900502,'Wariant zawierający dane z wykonania.','Wykonanie','05 Marża IV');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900503,'Wariant zawierający dane prognozowane.','Prognoza','05 Marża IV');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900504,'Symbol pozycji określającej Przychód.','MR_0_PRZYCH','05 Marża IV');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900505,'Symbol pozycji określającej Marżę IV.','MR_4_MARŻA4','05 Marża IV');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900506,'Symbol pozycji określającej procentową Marżę IV.','MR_4_MARŻA4%','05 Marża IV');
      exec('bind','#params',_par,'BIQ');

::Controlling
     _par:=exec('add','#params',900602,'Symbol wersji, która zawiera plan.','Plan A','06 Controlling');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900603,'Symbol wersji, która zawiera wykonanie.','Wykonanie','06 Controlling');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900604,'Symbol NULL.','INULL','06 Controlling');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900605,'Zastrzeżony dla symbolu wymiaru znak rozdzielający elementy wyrażenia w formule.',']|[','06 Controlling');
      exec('bind','#params',_par,'BIQ');

::Produkcja
     _par:=exec('add','#params',900701,'Czy wyświetlać kod (S) czy nazwę (L) produktu?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900702,'Czy wyświetlać kod (S) czy nazwę (L) grupy produktu?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900703,'Czy wyświetlać kod (S) czy nazwę (L) surowca?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900704,'Czy wyświetlać kod (S) czy nazwę (L) grupy surowca?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900705,'Czy wyświetlać kod (S) czy nazwę (L) towaru?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900706,'Czy wyświetlać kod (S) czy nazwę (L) kontrahenta?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900707,'Czy wyświetlać kod (S) czy nazwę (L) grupy kontrahenta?','S','07 Produkcja');
      exec('bind','#params',_par,'BIQ');

::PPK
     _par:=exec('add','#params',900801,'Numery rubryk wpłat podstawowych.','7088,7090','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900802,'Numery rubryk wpłat dodatkowych.','7089,7091','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900803,'Numery rubryk wpłat firmy.','7088,7089','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900804,'Numery rubryk wpłat zatrudnionego.','7090,7091','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900805,'Numery rubryk wpłat.','7088,7089,7090,7091','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900806,'Numery rubryk nadpłat.','7092,7093','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900807,'Numery rubryk PPK procentowe.','7083,7084,7085,7086','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900808,'Numery rubryk PPK wartościowe.','7088,7089,7090,7091,7092,7093','08 PPK');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',900809,'Numer dnia, do którego powinny zostać przekazane wpłaty.','15','08 PPK');
      exec('bind','#params',_par,'BIQ');

::Plan strategiczny
::     _par:=exec('add','#params',900901,'Symbol modelu controllingowego.','MR_RAP','09 Plan strategiczny');
::      exec('bind','#params',_par,'BIQ');

::Procesy
     _par:=exec('add','#params',901001,'Numer repliki wykorzystywany z SYNCHRO do ładowania przyrostowego.','1','10 Procesy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901002,'RGB koloru czerwonego.','204,102,119','10 Procesy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901003,'RGB koloru żółtego.','221,204,119','10 Procesy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901004,'RGB koloru zielonego.','68,170,153','10 Procesy');
      exec('bind','#params',_par,'BIQ');

::Projekty
::     _par:=exec('add','#params',901101,'Symbol modelu controllingowego.','MR_RAP','11 Projekty');
::      exec('bind','#params',_par,'BIQ');

::Umowy cykliczne
::     _par:=exec('add','#params',901201,'Symbol modelu controllingowego.','MR_RAP','12 Umowy cykliczne');
::      exec('bind','#params',_par,'BIQ');

::Czas pracy
     _par:=exec('add','#params',901301,'Atrybut Wynagrodzenie (firma).','121,1221','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901302,'Atrybut Choroby, mac., opieka, rehab.','12','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901303,'Atrybut Praca zaplanowana.','811','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901304,'Atrybut Nadgodziny.','8121','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901305,'Atrybut Odbiory.','8122','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901306,'Atrybut Odpracowania.','8123','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901307,'Atrybut Nocne.','8216','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901308,'Atrybut Przekroczenia średniotygodniowe.','813,8221','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901309,'Atrybut Ponadwymiarowe.','814','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901310,'Atrybut Dopełnienia.','815','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901311,'Atrybut Dodatki okresowe.','822','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901312,'Atrybut Dzień świąteczny.','8223','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901313,'Numery rubryk z nieobecnościami chorobowymi.','4,5,6,7,8,9,10,14,16,17,18,19,20,23,26,27,28,29,30,32,33','13 Czas pracy');
      exec('bind','#params',_par,'BIQ');

::Konsolidacja
     _par:=exec('add','#params',901402,'Symbol wersji, która zawiera wykonanie.','Wykonanie','14 Konsolidacja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901403,'Symbol NULL.','INULL','14 Konsolidacja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901404,'Zastrzeżony dla symbolu wymiaru znak rozdzielający elementy wyrażenia w formule.',']|[','14 Konsolidacja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901405,'Numer wymiaru przechowującego firmy.','SYMBOL032','14 Konsolidacja');
      exec('bind','#params',_par,'BIQ');
     _par:=exec('add','#params',901406,'Numer wymiaru przechowującego firmy wyłączeniowe.','SYMBOL051','14 Konsolidacja');
      exec('bind','#params',_par,'BIQ');

::Ocena pracownicza
::     _par:=exec('add','#params',901501,'Zmienna.','','15 Ocena pracownicza');
::      exec('bind','#params',_par,'BIQ');

      ~~
   ?};

:: Czyszczę parametry które nie zostały powiązane z żadną dziedziną
::   exec('clean_not_binded','#params','A','N');

   {? _lock_tab>0
   || FO_DOM.unlock()
   |? _lock_blk>0
   || exec('blk_unlock','#table','FO_LOCK','fo_lock',1)
   ?}
?};

{? _init_users>0
||
:: Uruchamiamy inicjalizację parametrów użytkowników
   exec('init_usr','params',_b_domain)
?};
{? _init_wdr>0
||
:: Uruchamiamy inicjalizację parametrów wdrożeniowych
   exec('init_wdr','params')
?};

FO_DEF.cntx_pop();
FO_DOM.cntx_pop();
~~


\init_usr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry użytkowników
::   WE: [_a] - B_DOMAIN.ref() - dziedzina do której ograniczyć niektóre funkcje związane z parametrami (optymalizacja)
::  TAG: <PUBLICZNA><PARAMS_APL><ZASILANIE>
::  OLD: \standfrm/fo_usr.fml
::----------------------------------------------------------------------------------------------------------------------
_b_domain:=null();
{? var_pres('_a')=type_of(B_DOMAIN.ref())
|| _b_domain:=_a
?};

FO_DEF.cntx_psh();
FO_USR.cntx_psh();
FO_DOM.cntx_psh();

_msg:='Parametry nie zostały odświeżone, bo zostały zablokowane'@;

_lock_tab:=0;
_lock_blk:=0;
_can_continue:=1;

{? do_state()=1
|| {? FO_DOM.lock(1)
   || _lock_tab:=1
   || _can_continue:=0
   ?}
|? do_state()=0
|| {? exec('blk_lock','#table','FO_LOCK','fo_lock',1,,_msg)>0
   || _lock_blk:=1
   || _can_continue:=0
   ?}
?};

{? _can_continue>0
||
:: Usuwam wszystkie dotychczasowe powiązania parametrów z obszarami, ponieważ powstaną nowe
   exec('unbind_all','#params','U','N');

:: Dziedzina ZWS
   _par:=exec('add_user','#params',1150,'Czy możliwa zmiana dokładności dla indeksów wykorzystanych w systemie?','N','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4006,'Włączona zakładka "Przychodzące Businesslink" w obszarze roboczym "Kontrahenci"','T','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4007,'Czy włączone komunikaty techniczne EDI dla użytkownika specjalnego?','N','EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4030,'Domyślna zakładka kartoteki materiałów/usług','M','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4031,'Domyślny wzorzec budowy indeksu dla materiałów','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4032,'Domyślny wzorzec budowy indeksu dla usług','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4041,'Domyślna grupa dla materiałów','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4042,'Domyślna jednostka miary dla materiałów','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4043,'Domyślna stawka VAT','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4044,'Domyślna grupa dla usług','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',4045,'Domyślna jednostka miary dla usług','','Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',1200,'Czy uruchamiać zewnętrzne programy java z konsolą?','N','Java');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',1201,'Maksymalna ilość pamięci którą przydzielić zewnętrznym programom java [MB]',512,'Java');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',1202,'Czy czekać na zakończenie uruchomionego programu java?','T','Java');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',5001,'Anulowanie zdarzeń w dzienniku dla zapisu','N','EDI');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',1209,'Parametry pracy - edycja bezpośrednia','X','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1210,'Parametry pracy - wyświetlać separatory?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1211,'Parametry pracy - widoczny parametr: Okres','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1212,'Parametry pracy - widoczny parametr: Oddział','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1213,'Parametry pracy - widoczny parametr: Magazyn','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1214,'Parametry pracy - widoczny parametr: Stanowisko sprzedaży','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1215,'Parametry pracy - widoczny parametr: Stanowisko zakupu','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1216,'Parametry pracy - widoczny parametr: Wydział','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1217,'Parametry pracy - widoczny parametr: Stanowisko fiskalne','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1218,'Parametry pracy - widoczny parametr: Stanowisko kasowe','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1219,'Parametry pracy - widoczny parametr: Multikasa','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1220,'Parametry pracy - widoczny parametr: Jednostka księgowa','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1227,'Parametry pracy - widoczny parametr: Dokumenty w obiegu z grupy','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1221,'Parametry pracy - widoczny parametr: Aktywna waluta','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1222,'Parametry pracy - widoczny parametr: Forma współpracy','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1223,'Parametry pracy - widoczny parametr: Jednostka organizacyjna','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1224,'Parametry pracy - widoczny parametr: Kartoteka osobowa','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1225,'Parametry pracy - widoczny parametr: Lista płac','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1226,'Parametry pracy - widoczny parametr: Harmonogramy - okres rozliczeniowy','N','Pulpit');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params',1250,'Lista zadań - co ile sekund automatyczne odświeżać?',30,'Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1251,'Lista zadań - przycisk \'Więcej\' uruchamia nową zakładkę','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1252,'Lista zadań - automatyczne odświeżanie przez Menadżera Procesów','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1260,'Lista zadań - kafelek \'Zadania\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1261,'Lista zadań - kafelek \'Priorytety\' widoczny?','N','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1262,'Lista zadań - kafelek \'Finanse\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1263,'Lista zadań - kafelek \'Personel\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1264,'Lista zadań - kafelek \'Logistyka i produkcja\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1265,'Lista zadań - kafelek \'Zarządzanie\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1266,'Lista zadań - kafelek \'Inne\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1270,'Lista zadań - przycisk \'Rozpocznij\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1272,'Lista zadań - przycisk \'Opis czynności\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1274,'Lista zadań - przycisk \'Więcej\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1275,'Lista zadań - przycisk \'Priorytet\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1276,'Lista zadań - przycisk \'Personalizuj\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1277,'Lista zadań - przycisk \'Wyświetl\' widoczny?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1280,'Lista zadań - liczba widocznych zadań',1000,'Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1290,'Lista zadań - zadania o priorytecie: \'Krytyczny\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1291,'Lista zadań - zadania o priorytecie: \'Wysoki\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1292,'Lista zadań - zadania o priorytecie: \'Średni\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1293,'Lista zadań - zadania o priorytecie: \'Zwykły\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1294,'Lista zadań - zadania dziedziny \'Finanse\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1295,'Lista zadań - zadania dziedziny \'Personel\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1296,'Lista zadań - zadania dziedziny \'Logistyka i produkcja\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1297,'Lista zadań - zadania dziedziny \'Zarządzanie\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');
   _par:=exec('add_user','#params',1298,'Lista zadań - zadania dziedziny \'Inne\' widoczne?','T','Pulpit');
   exec('bind','#params',_par,'ZWS');

:: Dziedzina LMG
   _par:=exec('add_user','#params'
    ,1001
    ,'Udostępnione typy dokumentów magazynowych'
    ,''
    ,'Magazyn',1);
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1003
   ,'Czy poprawiać zaakceptowane przychodowe dokumenty magazynowe'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1013
   ,'Czy poprawiać atrybuty dostawy na zaksięgowanych dokumentach magazynowych'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,1002
    ,'Domyślny typ dokumentu'
    ,''
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,1004
    ,'Funkcje pomocnicze - dostępne odtwarzanie, uzgadnianie stanów'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,1008
    ,'Funkcje pomocnicze - uzgodnienia wartościowe magazynów'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,1100
    ,'Kontrola powtórzonych indeksów na dokumencie magazynowym?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1120
   ,'Ukrywanie panelu i/lub parametrów wydruku dokumentów'
   ,1
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1121
   ,'Wydruk dokumentów w trybie tekstowym'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1123
   ,'Ukrywanie parametrów wydruku dokumentów - PDF'
   ,1
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1125
   ,'Odstęp od ramki'
   ,'T'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,1300
    ,'Blokowanie/odblokowywanie lokalizacji?'
    ,'N'
    ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1400
   ,'Odblokowywanie palet z zamówień sprzedaży/wewnętrznych?'
   ,'N'
   ,'Magazyn');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,1900
   ,'Domyślna jednostka miary w analizie wydajności procesów'
   ,0
   ,'Obsługa procesów');
   exec('bind','#params',_par,'ZPR');

   _par:=exec('add_user','#params'
   ,3001
   ,'Automatyczna rezerwacja'
   ,'N'
   ,'Zamówienia');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,3003
   ,'Maksymalna ilość dni na rezerwację tymczasową'
   ,5
   ,'Zamówienia');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3006
    ,'Domyślny typ zamówienia dostaw'
    ,''
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
   ,3008
   ,'Przywrócenie rezerwacji tymczasowych przy usuwaniu pozycji dokumentów'
   ,'N'
   ,'Zamówienia');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,3011
   ,'Drukować opis dodatkowy na zamówieniu sprzedaży'
   ,'N'
   ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
   ,3012
   ,'Tworzyć dostawy dedykowane?'
   ,'N'
   ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,3014
    ,'Typy zamówień wewnętrznych'
    ,''
    ,'Zamówienia',1);
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,3015
    ,'Domyślny typ zamówienia wewnętrznego'
    ,''
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
    ,3020
    ,'Realizacja zamówienia dostaw powyżej ilości zamówionej'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,3024
    ,'Typy zamówień dostaw'
    ,''
    ,'Zamówienia',1);
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,3400
    ,'Kontrola powtórzonych indeksów na zamówieniu wewnętrznym?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,4020
   ,'Anulowanie niezakończonych operacji na urządzeniach mobilnych'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add_user','#params'
   ,4021
   ,'Wskazanie na domyślną lokalizację w magazynie'
   ,''
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add_user','#params'
   ,4022
   ,'Wysłanie operacji mobilnych bez wyboru urządzenia'
   ,'N'
   ,'Magazyn mobilny');
   exec('bind','#params',_par,'LMO');

   _par:=exec('add_user','#params'
   ,8603
   ,'Domyślny status dla widoku badań'
   ,'A'
   ,'Kwalifikacja/badania');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params'
   ,8801
   ,'Wycofanie akceptacji dokumentu ze zmodyfikowanymi statusami'
   ,'N'
   ,'Kwalifikacja/badania');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params'
   ,8821
   ,'Czy automatyczne przepisanie parametrów badań dostaw?'
   ,'N'
   ,'Kwalifikacja/badania');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params'
   ,8605
   ,'Zakres wyświetlanych operacji'
   ,'WWWWW'
   ,'Kwalifikacja/badania');
   exec('bind','#params',_par,'TTE');

:: Dziedzina LSP
   _par:=exec('add_user','#params'
    ,2002
    ,'Udostępnione typy dokumentów sprzedaży i korygujących'
    ,''
    ,'Sprzedaż',1);
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2003
    ,'Domyślny typ dokumentu sprzedaży lub korekty'
    ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2006
    ,'Dla faktur sprzedaży z rezerwacją w magazynie podpowiadać magazyn?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2011
    ,'Domyślny typ operacji kasowej dla dokumentów sprzedaży'
    ,''
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2012
    ,'Wyświetlać okno z parametrami kasowymi?'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2100
    ,'Kontrola powtórzonych indeksów na dokumencie sprzedaży?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2102
    ,'Kontrola uprawnień dotyczących stanowiska sprzedaży?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2120
    ,'Ukrywanie panelu i/lub parametrów wydruku dokumentów'
    ,1
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2121
    ,'Wydruk dokumentów w trybie tekstowym'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2122
    ,'Wydruk dokumentów na składance'
    ,'T'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2123
    ,'Ukrywanie parametrów wydruku dokumentów - PDF'
    ,1
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2124
    ,'Duplex'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2125
    ,'Odstęp od ramki'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2130
    ,'Uprawnienia do edycji rabatów w dokumentach'
    ,'W'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2131
    ,'Wymagany cennik?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2160
    ,'Drukować NIP na paragonie'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2200
    ,'Blokada wycofania dokumentu po przesłaniu wydruku?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,2250
    ,'Administracja: Czy dostępna opcja Nowa matryca stawek VAT?'
    ,'N'
    ,'Sprzedaż');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3004
    ,'Typy zamówień sprzedaży'
    ,''
    ,'Zamówienia',1);
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3005
    ,'Domyślny typ zamówienia sprzedaży'
    ,''
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3007
    ,'Typy ofert'
    ,''
    ,'Zamówienia',1);
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3009
    ,'Domyślny typ oferty'
    ,''
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3010
    ,'Poprawa ilości na wcześniej realizowanej pozycji zamówienia sprzedaży'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3016
    ,'Aktualizacja rezerwacji zamówienia przy poprawie ilości'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3017
    ,'Włączona zakładka "Przychodzące Businesslink" w obszarze roboczym "Zamówienia sprzedaży"'
    ,'T'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3100
    ,'Kontrola powtórzonych indeksów na zamówieniu sprzedaży?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
    ,3300
    ,'Kontrola powtórzonych indeksów na ofercie?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
   ,3500
   ,'Uprawnienia do zmiany kolejki rezerwacji na zamówieniu sprzedaży?'
   ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
   ,3510
   ,'Uprawnienia do zmiany kolejki rezerwacji na zamówieniu wewnętrznym?'
   ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,3540
   ,'Zmiana wskazanego magazynu do realizacji na zamówieniu wewnętrznym?'
   ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params'
   ,3541
   ,'Zmiana wskazanego magazynu do realizacji na zamówieniu sprzedaży?'
   ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LSP');

   _par:=exec('add_user','#params'
   ,3542
   ,'Zmiana wskazanego magazynu do realizacji na zamówieniu do limitów?'
   ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params'
    ,4050
    ,'Ilość dni cofnięcia wobec daty dokumentu w wyznaczaniu tabeli kursów'
    ,0
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,4051
    ,'Ilość dni cofnięcia wobec daty dokumentu w wyznaczaniu tabeli kursów dla pozycji'
    ,0
    ,'Firma');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,4080
    ,'Dostępne ustawienie znacznika modyfikacji dla atrybutu opłaty dodatkowej'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'LMG');
   exec('bind','#params',_par,'LSP');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,4100
    ,'Zmiana stanu zadań potransferowych'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params'
    ,4101
    ,'Zapis Log-ów czasowych dla przetwarzania zadań potransferowych'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params'
    ,4300
    ,'Ścieżka do MacroEdytora'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params'
    ,4301
    ,'Ścieżka do zewnętrznego programu porównującego pliki'
    ,''
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

   _par:=exec('add_user','#params'
    ,7000
    ,'Odblokowanie znacznika Wysłano e-mail załącznika pomimo jego wysłania'
    ,'N'
    ,'Firma');
   exec('bind','#params',_par,'ZWS');

:: Dziedzina LUM
   _par:=exec('add_user','#params'
    ,4200
    ,'Redakcja zgłoszenia z umowy'
    ,'N'
    ,'Umowy cykliczne');
   exec('bind','#params',_par,'LUM');

   _par:=exec('add_user','#params'
    ,4250
    ,'Przeniesienie zgłoszenia do innego okresu'
    ,'N'
    ,'Zgłoszenia jednorazowe');
   exec('bind','#params',_par,'LUM');

:: Dziedzina LZK
   _par:=exec('add_user','#params'
    ,6002
    ,'Udostępnione dokumenty zakupu'
    ,''
    ,'Zakupy',1);
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6003
    ,'Domyślny typ dokumentu zakupu'
    ,''
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6006
    ,'Włączona zakładka "Przychodzące Businesslink" w obszarze roboczym "Dokumenty zakupu i wewnętrzne"'
    ,'T'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,3200
    ,'Kontrola powtórzonych indeksów na zamówieniu dostaw?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6050
    ,'Wyceniać dokumenty magazynowe na podstawie dokumentów zakupu?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6100
    ,'Kontrola powtórzonych indeksów na dokumencie zakupu?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6102
    ,'Kontrola uprawnień dotyczących stanowiska zakupu?'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6120
    ,'Ukrywanie panelu i/lub parametrów wydruku dokumentów'
    ,1
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6121
    ,'Wydruk dokumentów w trybie tekstowym'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6122
    ,'Wydruk dokumentów na składance'
    ,'N'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6123
    ,'Ukrywanie parametrów wydruku dokumentów - PDF'
    ,1
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6125
    ,'Odstęp od ramki'
    ,'T'
    ,'Zakupy');
   exec('bind','#params',_par,'LZK');

   _par:=exec('add_user','#params'
    ,6600
    ,'Podgląd bufora planu dostaw?'
    ,'N'
    ,'Zamówienia');
   exec('bind','#params',_par,'LZK');

:: Dziedzina TTE
   _par:=exec('add_user','#params',8002,'Domyślna podstawa powołania zlecenia:','','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8010,'Poprawianie pozycji automatycznych dokumentów raportujących produkcję','N','Produkcja');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'LMG');

   _par:=exec('add_user','#params',8030,'Modyfikacje zatwierdzonych kart technologicznych','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8500,'Sposób wyświetlania listy zleceń','NTT','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8501,'Zakres wyświetlanych zleceń produkcyjnych i warsztatowych','A','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8503,'Sposób wyświetlania limitów zlecenia złożonego','S','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8504,'Automatyczne rozwijanie drzewa w widoku limitów zlecenia','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8505,'Widok z dodatkowymi panelami w oknie braków produkcyjnych','T','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8506,'Zakres wyświetlanych przewodników zleceń','AAAAAA','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8507,'Dodatkowe widoki dla słownika materiałów podczas przeprowadzania korekty','TT','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8600,'Domyślny status operacji dla widoku kontroli jakości','A','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8601,'Domyślny status dla widoku kooperacji','A','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8602,'Domyślny widok kooperacji','M','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8604,'Domyślny status kwalifikacji dla widoku kontroli jakości','A','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8650,'Wykonania filtr - wydział','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8651,'Wykonania filtr - pracownik','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8652,'Wykonania filtr - brygada','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8653,'Wykonania filtr - kontrahent','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8654,'Wykonania filtr - zakres od daty',date(0,0,0),'Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8655,'Wykonania filtr - zakres od czasu',time(0,0,0),'Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8656,'Wykonania filtr - zakres do daty',date(0,0,0),'Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8657,'Wykonania filtr - zakres do czasu',time(0,0,0),'Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8658,'Wykonania filtr - żródło: przewodniki','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8659,'Wykonania filtr - żródło: plan operacyjny','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8660,'Wykonania filtr - żródło: plan strategiczny','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8661,'Wykonania filtr - wyświetlaj: aktywne','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8662,'Wykonania filtr - wyświetlaj: dostępne','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8663,'Wykonania filtr - wyświetlaj: rozpoczęte','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8664,'Wykonania filtr - wyświetlaj: wykonane','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8665,'Wykonania filtr - wyświetlaj: potwierdzone','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8666,'Wykonania filtr - wyświetlaj: generujące dokumenty','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8667,'Wykonania filtr - wyświetlaj: wykonywane przez pracownika','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8668,'Wykonania filtr - wyświetlaj: wykonywane przez brygadę','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8669,'Wykonania filtr - wyświetlaj: wykonywane przez kooperanta','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8670,'Wykonania filtr - wyświetlaj: zaplanowane grupowo','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8671,'Wykonania filtr - wyświetlaj: ze zgłoszeniem problemu','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8672,'Wykonania filtr - wyświetlaj: operacje kontroli jakości','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8673,'Wykonania filtr - grupa technologii','','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8701,'Dostępne funkcje nawigacyjne','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8702,'Dostępne filtrowanie','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8703,'Dostępne rozpoczynanie operacji','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8704,'Dostępne kończenie operacji','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8705,'Dostępna rejestracja wykonań','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8706,'Dostępne wycofywanie wykonań','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8707,'Dostępna rejestracja problemów','T','_Archiwum');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8708,'Dostępny podgląd dokumentacji','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8709,'Dostępny podgląd listy materiałów','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8712,'Dostępny podgląd rejestracji','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8713,'Dostępne potwierdzanie wykonań','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8714,'Dostępny podgląd listy N-P-U','T','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8715,'Dostępny podgląd rozpoczętych operacji','N','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8751,'Uprawnienia do rozwiązywania problemów','N','_Archiwum');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8761,'Plan strategiczny — szczegółowa rejestracja wykonań','P','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8771,'Zakres pracowników','TA','Rejestracja wykonań');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8780,'Czy wylogowywać operatora po wystartowaniu operacji?','T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8781,'Czy wylogowywać operatora po bezczynności?','T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8782,'Dołączenie surowca spoza listy zapotrzebowań przewodnika','T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8783,'Wyświetlenie panelu rejestracji wyników badań po wystartowaniu operacji'
              ,'T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8784,'Wyświetlenie panelu rejestracji surowców po wystartowaniu operacji'
              ,'T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8785,'Możliwość wydania surowca bez wskazania dostawy','T','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8786,'Wyświetlać informację o ilości dostępnych operacji','N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8787,'Umożliwić rejestrację więcej niż jednego uruchomienia dla grupy operacji'
              ,'N','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8788,'Stanowisko do rejestracji produkcji'
              ,'','E-kioski');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8902,'Usuwanie zatwierdzonych zleceń','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8903,'Usuwanie surowców zleceń z zatwierdzeniem technologii','N','Produkcja');
   exec('bind','#params',_par,'TTE');

   _par:=exec('add_user','#params',8904,'Usuwanie operacji wariantowych z przewodnika','T','Produkcja');
   exec('bind','#params',_par,'TTE');

:: Dziedzina TPP
   _par:=exec('add_user','#params',8050,'Redagowanie przepisów dla zatwierdzonych technologii','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8055,'Domyślna liczba kolumn widoku przepisu planistycznego',20,'Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8057,'Możliwość przywracania porzuconych pozycji planu','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8058,'Widok zasobów w postaci drzewa (zakładka pojemności)','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8059,'Automatyczne odświeżanie zakładek \'Obiekty\' i \'Zasoby\'','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8060,'Domyślny widok planu','','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8061,'Widok kolejki i obiektów w zakładce','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8062,'Administrator kolejki (praca na zestawach)','N','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8063,'Domyślny zestaw planistyczny','','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8064,'Filtr obiektów do kolejki','','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8065,'Zakres w przepisach planistycznych - aktywność','T','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8066,'Zakres w przepisach planistycznych - użycie','W','Plan strategiczny');
   exec('bind','#params',_par,'TPP');

   _par:=exec('add_user','#params',8080,'Możliwość przesuwania wykonywanych operacji','N','Plan operacyjny');
   exec('bind','#params',_par,'TPP');

:: Dziedzina WYP
   _par:=exec('add_user','#params',6500,'Domyślny widok kartoteki stanów wyposażenia','M','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add_user','#params',6510,'Wydania tylko według poleceń','N','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add_user','#params',6511,'Możliwa zmiana materiału z domyślnego na wybrany na wydaniu lub zwrocie ',
              'T','Wyposażenie');
   exec('bind','#params',_par,'WYP');

   _par:=exec('add_user','#params',6520,'Zakres pracowników','TA','Wyposażenie');
   exec('bind','#params',_par,'WYP');

:: Dziedzina TRE
   _par:=exec('add_user','#params',6770,'Zakres wyświetlanych zasobów','A','Remonty');
   exec('bind','#params',_par,'TRE');
   _par:=exec('add_user','#params',6771,'Zakres pracowników','TA','Remonty');
   exec('bind','#params',_par,'TRE');
   _par:=exec('add_user','#params',6772,'Widok w zasobach remontowych','P','Remonty');
   exec('bind','#params',_par,'TRE');

:: Dziedzina KKH
   _par:=exec('add_user','#params',8400,'Numer umowy z Pocztą Polską','','Kontakty');
   exec('bind','#params',_par,'KKH');
   _par:=exec('add_user','#params',8401,'Miejsce nadania przesyłki','','Kontakty');
   exec('bind','#params',_par,'KKH');
   _par:=exec('add_user','#params',8402,'Czy usuwać powiadomienie po kliknięciu linku?','T','Kontakty');
   exec('bind','#params',_par,'KKH');

:: Dziedzina OBG
   _par:=exec('add_user','#params',7001,'Czy usuwać powiadomienie po kliknięciu linku?','T','Powiadomienia');
   exec('bind','#params',_par,'OBG');
   _par:=exec('add_user','#params',7002,'Powiadomienia o automatycznej rejestracji nowej faktury z KSeF',
              'T','Powiadomienia');
   exec('bind','#params',_par,'OBG');
   _par:=exec('add_user','#params',7003,'Okres ważności komunikatów (dni)',7,'Powiadomienia');
   exec('bind','#params',_par,'OBG');

:: Dziedzina FKS
   _par:=exec('add_user','#params',7011,'Czy usuwać powiadomienie po kliknięciu linku?','T','Powiadomienia');
   exec('bind','#params',_par,'FKS');
   _par:=exec('add_user','#params',7012,'Powiadomienia o automatycznej rejestracji nowego dokumentu księgowego z KSeF',
              'T','Powiadomienia');
   exec('bind','#params',_par,'FKS');
   _par:=exec('add_user','#params',7013,'Okres ważności komunikatów (dni)',7,'Powiadomienia');
   exec('bind','#params',_par,'FKS');
   _par:=exec('add_user','#params',7014,'Powiadomienia cykliczne o konieczności utworzenia i wysłania JPK_V7',
              'T','Powiadomienia');
   exec('bind','#params',_par,'FKS');

:: Tworze rekordy parametrów dla użytkowników w oparciu o to, do jakich dziedzin zostały przypisane
:: parametry oraz do jakich czynności użytkownicy mają uprawnienia
::   exec('add_users_by_domain','#params','N',_b_domain);

:: Czyszczę parametry które nie zostały powiązane z żadną dziedziną
::   exec('clean_not_binded','#params','U','N');

   {? _lock_tab>0
   || FO_DOM.unlock()
   |? _lock_blk>0
   || exec('blk_unlock','#table','FO_LOCK','fo_lock',1)
   ?}
?};

FO_DEF.cntx_pop();
FO_USR.cntx_pop();
FO_DOM.cntx_pop();
~~


\init_wdr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [18.22]
:: OPIS: Uruchamia inicjalizację parametrów wdrożeniowych
::   WE: [_a] - B_DOMAIN.ref() - dziedzina do której ograniczyć niektóre funkcje związane z parametrami (optymalizacja)
::  TAG: <PUBLICZNA
::----------------------------------------------------------------------------------------------------------------------
_b_domain:=null();
{? var_pres('_a')=type_of(B_DOMAIN.ref())
|| _b_domain:=_a
?};

_file:=exec('get','#params',100001,type_of(''));
FO_DOM.cntx_psh();
FO_DEF.cntx_psh();
FO_DEF.prefix();

_msg:='Parametry nie zostały odświeżone, bo zostały zablokowane'@;

_lock_tab:=0;
_lock_blk:=0;
_can_continue:=1;

{? do_state()=1
|| {? FO_DOM.lock(1)
   || _lock_tab:=1
   || _can_continue:=0
   ?}
|? do_state()=0
|| {? exec('blk_lock','#table','FO_LOCK','fo_lock',1,,_msg)>0
   || _lock_blk:=1
   || _can_continue:=0
   ?}
?};

{? _can_continue>0
||
:: Usuwam wszystkie dotychczasowe powiązania parametrów z obszarami, ponieważ powstaną nowe
   exec('unbind_all','#params','A','T');
   exec('unbind_all','#params','U','T');

   {? _file<>''
   || {? fexists(_file,1)
      ||
         _file:=gsub(_file,'.fml','');
::       Uruchamiam inicjalizację parametrów wdrozeniowych
         {? exec('is_fun','#file',_file,'init')
         || HELP.G:='W';
            exec('init',_file)
         ?};
         {? exec('is_fun','#file',_file,'init_usr')
         || HELP.G:='Z';
            exec('init_usr',_file)
         ?}
      ?}
   ?};
   HELP.G:='';

:: Tworze rekordy parametrów dla użytkowników w oparciu o to, do jakich dziedzin zostały przypisane
:: parametry oraz do jakich czynności użytkownicy mają uprawnienia
::   exec('add_users_by_domain','#params','T',_b_domain);

:: Czyszczę parametry które nie zostały powiązane z żadną dziedziną
::   exec('clean_not_binded','#params','A','T');
::   exec('clean_not_binded','#params','U','T');
   {? _lock_tab>0
   || FO_DOM.unlock()
   |? _lock_blk>0
   || exec('blk_unlock','#table','FO_LOCK','fo_lock',1)
   ?}
?};

FO_DOM.cntx_pop();
FO_DEF.cntx_pop();
~~


\std_simple
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu prostych takich jak: string, number, time, date
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0 - nie uruchomiono żadnej standardowej obsługi
::       1 - uruchomiono standardową obsługę
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_result:=0;

_type:=_interface.type();
_default:=_interface.default();

{? _type=type_of('')
|| _result:=1;
   {? _default='T' | _default='N'
   || exec('std_boolean','params',_a)
   |? _default*'%'>0
   || exec('std_percent','params',_a)
   || exec('std_string','params',_a)
   ?}
|? _type=type_of(0)
|| _result:=1;
   exec('std_number','params',_a,0,0)
|? _type=type_of(date(0,0,0))
|| _result:=1;
   exec('std_date','params',_a)
|? _type=type_of(time(0,0,0))
|| _result:=1;
   exec('std_time','params',_a)
|? _type=type_of("")
|| _result:=1;
   exec('std_formula','params',_a)
?};
_result


\std_string
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu string
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_string','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\std_number
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu number
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - INTEGER - ilość miejsc po przecinku podczas wyświetlania i redagowania, jeśli nie podane to
::                        redagować można ile wlezie, natomiast wyświetlanie zaokrąglone do zera
::       [_c] - REAL - zakres: minimum
::       [_d] - REAL - zakres: maksimum
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
{? var_pres('_b')=type_of(0) || _precision:=_b || _precision:=-1 ?};
{? var_pres('_c')=type_of(0) || _min:=_c || _min:=~~ ?};
{? var_pres('_d')=type_of(0) || _max:=_d || _max:=~~ ?};

_val:=exec('edit_number','#edit',_interface.get(),_interface.name(),_precision,_min,_max);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\std_date
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu date
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_date','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\std_time
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu time
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_time','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\std_boolean
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu string o wartościach 'T'/'N'
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_boolean','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\std_percent
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu string ale zawierających libczbę ze znakiem '%'
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val_before:=_interface.get();
_val_before:=gsub(_val_before,'%','');
_val_before:=gsub(_val_before,',','.');

_precision:=0;
_val_default:=_interface.default();
_val_default:=gsub(_val_default,'%','');
_val_default:=gsub(_val_default,',','.');
{? _val_default*'.'>0
|| _split:=spli_str(_val_default,'.');
   {? obj_len(_split)>1
   || _precision:=+(form(_split[2]))
   ?}
?};

_val:=exec('edit_number','#edit',#_val_before,_interface.name(),_precision,0,100);
{? type_of(_val)>0
|| _str_val:=$_val+' %';
   _interface.save(_str_val)
?};
~~


\std_formula
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na obsługę standardową parametrów typu formula
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_formula','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p300103
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 300103 - Czy grupować pozycje dokumentu sprzedaży podczas wystawiania na podstawie dokumentów magazynowych?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300600
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 300600
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_vat:=exec('select_vat','params');
{? _vat<>''
|| _interface.save(_vat)
?};
~~


\p300601
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 300601
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params');
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p300602
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 300602
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAL='T' & TYPYSP.KOR='N' & TYPYSP.ZAK='N'",1));
~~


\p400000
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400000
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_par:='MGFKFZZKZWZDRT';
_len:=(+_par)%2;
_war:=_a.get();

_i:=1;
{!
|? _ch:=2+(((_i-1)*2)-_par);
   {? _ch<>'' || ($('POM.FO_'+_ch))():={? _war*_ch || 'T' || 'N' ?} ?};
   _i+=1;
   _i<=_len
!};
POM.win_edit('FO_PRZJM');
{? POM.edit()
|| _war:='';
   _i:=1;
   {!
   |? _ch:=2+(((_i-1)*2)-_par);
      {? _ch<>'' || {? ($('POM.FO_'+_ch))()='T' || _war+=_ch+' ' ?} ?};
      _i+=1;
      _i<=_len
   !};
   _a.save(_war)
?}


\p100223
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 100223
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Czy drukować podpisy na fakturze:'@,,'Sprzedawcy'@,'Nabywcy'@,'Oba'@,'Brak podpisów'@);
_choice:={? _choice=1 || 'S'
         |? _choice=2 || 'N'
         |? _choice=3 || 'O'
         |? _choice=4 || 'B'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p100230
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 100230
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Czy drukować podpisy na fakturze korygującej:'@,,'Sprzedawcy'@,'Nabywcy'@,'Oba'@,'Brak podpisów'@);
_choice:={? _choice=1 || 'S'
         |? _choice=2 || 'N'
         |? _choice=3 || 'O'
         |? _choice=4 || 'B'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p100320
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 100320
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Czy pobierać stawkę VAT z dokumentów źródłowych?'@,,'Bezwarunkowo'@,'Tak'@,'Nie'@);
_choice:={? _choice=1 || 'B'
         |? _choice=2 || 'T'
         |? _choice=3 || 'N'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p400001
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400001
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz sposób obsługi:'@,,'Brak'@,'Au&tomatyczny'@,'Ręczny'@);
_choice:={? _choice=1 || 'N'
         |? _choice=2 || 'A'
         |? _choice=3 || 'R'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p400002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400002
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400003
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400003
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400101
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400101
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400201
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400201
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400301
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400301
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400401
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400401
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400501
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400501
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p400601
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 400601
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p400001','params',_a)


\p540001
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 540011
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_wyn:=exec('ico_sel_bmplst','#icon');
{? _wyn<>'' || _a.save(_wyn) ?}


\p540010
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 540010
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_file:=exec('get','#params',540001,2);
      {? _file<>''
      || _wyn:=exec('ico_tab_sel','#icon',_file);
         {? _wyn<>'' || _a.save(_wyn) ?}
      ?}


\p540011
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 540011
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p540010','params',_a)


\p540012
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 540012
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p540010','params',_a)


\p540013
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 540013
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p540010','params',_a)


\p600103
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 600103
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p600701
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 600701
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Domyślna operacja dla obszaru magazynów mobilnych:'@
          ,,'Przyjęcie'@,'Wydanie'@,'Reorganizacja'@,'Kompletacja'@,'Inwentaryzacja'@);
_choice:={? _choice=1 || 'P'
         |? _choice=2 || 'W'
         |? _choice=3 || 'R'
         |? _choice=4 || 'K'
         |? _choice=4 || 'I'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p800810
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 800810
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Sposób obliczania rabatu:'@,,'Wg &ceny'@,'Wg &wartości'@);
_val:='';
{? _choice=1 || _val:='C'
|? _choice=2 || _val:='W'
?};
{? _val<>'' & _a.save(_val) & _val='C' & exec('get','#params',800812,2)='W'
||
   exec('set','#params',800812,'K');
   FUN.info('Zmieniono wartość formuły 800812 z ''W'' na ''K''.'@)
?};
~~


\p800812
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 800812
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=
         {? exec('get','#params',800810,2)='W'
         || FUN.choice(_interface.name(),,'Procentowy suma'@,'Procentowy ka&skadowy'@,'Kwotowy od ceny'@,
                                          'Kwotowy od &wartości'@)
         || FUN.choice(_interface.name(),,'Procentowy suma'@,'Procentowy ka&skadowy'@,'Kwotowy od ceny'@)
         ?};
_choice:=
         {? _choice=1 || 'P'
         |? _choice=2 || 'S'
         |? _choice=3 || 'K'
         |? _choice=4 || 'W'
         || ''
         ?};
{? _choice<>''
||
   _a.save(_choice)
?};
~~


\p800907
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 800907 - Sposob obliczenia cen dla marzy/narzutu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Sposób obliczenia ceny zakupu dla marży/narzutu:'@,
                    ,'Średnia arytmetyczna'@,'Mediana'@,'Nie obliczać'@);
_choice:={? _choice=1 || 'S'
         |? _choice=2 || 'M'
         |? _choice=3 || 'N'
         || ''
         ?};
      {? _choice<>'' || _a.save(_choice) ?};
~~


\p500001
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500001 - czy pobierać zamienniki z grupy technologicznej?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();
{? _input='T' || _check:=1 |? _input='N' || _check:=2 |? _input='P' || _check:=3 || _check:=0 ?};
_choice:=FUN.choice('Czy pobierać zamienniki z grupy technologicznej?'@,_check,'Tak'@,'Nie'@,'Tylko &zaznaczone'@);
{? _choice=1 || _output:='T' |? _choice=2 || _output:='N' |? _choice=3 || _output:='P' || _output:=_input ?};
_interface.save(_output);
~~


\p500002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 500002
::       - Lista magazynów uwzględnianych podczas wyliczania stanu dostępnych surowców
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.KOOP='N'"));
~~


\p500003
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500003
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
params_set('interface',_interface);
_typydok:=exec('typydok_tab','params');
_tab:=sql('select REFERENCE_NUM(TYPYDOK.REFERENCE) as REF from TYPYDOK where TYPYDOK.P=''T''');
_select:=exec('typydok_select','params',_typydok,_tab,1,0,,_interface.get(),1);
{? _select>0
|| _wyn:='';
   {? _typydok.first()
   || {!
      |? _wyn+={? _typydok.SELECTED='T'
               || _typydok.T+' '
               || ''
               ?};
         _typydok.next()
      !}
   ?};
   _interface.save(_wyn)
?};
~~


\p500006
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500006
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.W='T'"));
~~


\p500351
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500351 - plan strategiczny - rozdzielczość
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
:: sprawdzam czy parametr może być modyfikowany
_can_change:=exec('can_res_change','px_param');
{? _can_change>0
|| exec('std_number','params',_interface,0,0)
|| FUN.emsg('Plan główny zawiera pojemniki. Modyfikacja rozdzielczości planu niemożliwa.'@)
?};
~~


\p500351_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500351 - plan strategiczny - rozdzielczość
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
:: sprawdzam czy parametr może być modyfikowany
_can_change:=exec('can_res_change','px_param');
{? _can_change>0
|| _val:=_interface.default();
   _interface.save(_val)
|| FUN.emsg('Plan główny zawiera pojemniki. Modyfikacja rozdzielczości planu niemożliwa.'@)
?};
~~


\p500357
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500357 - plan strategiczny - sposób reakcji na przepełnienia
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice(
                     'Sposób reakcji algorytmu planowania na przepełnienia.\n\n'
                     'Dostępne możliwości:\n\n'
                     '● Przerwanie planowania (po przepełnieniu któregoś etapu, kolejne nie są planowane)\n'
                     '● Kontynuacja planowania (po przepełnieniu etapu, kolejne są planowane)'@,,
                     'Przerwanie'@,'Kontynuacja'@
                   );
{? _choice=1
|| _interface.save(exec('overfill_stop','px_param'))
|? _choice=2
|| _interface.save(exec('overfill_cont','px_param'))
?};
~~


\p500356
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500356 - plan strategiczny - sposób planowania opóźnień
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice( 'Sposób planowania niewykonanych w terminie pozycji planu.\n\n'
                     'Dostępne możliwości:\n\n'
                     '● Przeplanowanie (opóźnienia są planowane, tak jak inne elementy kolejki)\n'
                     '● Przesunięcie (opóźnienia są przesuwane na pierwszy przyszły pojemnik)'@,,
                     'Przeplanowanie'@,'Przesunięcie'@
                   );
{? _choice=1
|| _interface.save(exec('delays_plan','px_param'))
|? _choice=2
||
:: Sprawdzam czy nie ma kolizji z parametrem 500370
   _p500370:=exec('get','#params',500370);
   _other_iface:=exec('interface','#params','A',,500370);
   {? _p500370=exec('oper_nast_time','px_param')
   || _msg:='Konflikt konfiguracji.\n\n'
            'Parametr: \'%1\' ma wartość uniemożliwiającą ustawienie parametru:\n'
            '\'%2\''@[$_other_iface.nr()+' '+_other_iface.name(),$_interface.nr()+' '+_interface.name()];
      FUN.emsg(_msg)
   || _interface.save(exec('delays_move','px_param'))
   ?}
?};
~~


\p500360
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500360 - plan strategiczny - wybór kontenera
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
PX_KONT.cntx_psh(); PX_KONT.clear();
PX_KONT.index('ACT');
PX_KONT.prefix('T',exec('get_mainversion','px_ver'));
PX_KONT.win_sel('WYB');
_input:=_interface.get();
{? PX_KONT.first()
|| PX_KONT.find_key(_input,)
?};
{? PX_KONT.select(,1,5)
|| {? exec('kooperacyjny','px_kont',PX_KONT.ref())
   || _interface.save(PX_KONT.SYMBOL)
   ?}
?};
PX_KONT.cntx_pop();
~~


\p500363
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500363 - plan strategiczny - optymalna długość pojemników w widoku 'Obiekty'
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice('Maksymalna długość pojemników (zakładka \'Obiekty\'):'@,,'Dzień'@,'Tydzień'@,'Miesiąc'@,'Rok'@);
{? _choice=1
|| _interface.save('D')
|? _choice=2
|| _interface.save('T')
|? _choice=3
|| _interface.save('M')
|? _choice=4
|| _interface.save('R')
?};
~~


\p500365
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500365 - plan strategiczny - praca na jednej wersji planu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_ask:=FUN.choice('Praca na jednej wersji planu?'@,,'Tak'@,'Nie'@);
{? _ask=1
|| _interface.save('T')
|? _ask=2
||
:: Sprawdzam czy nie ma kolizji z parametrem 500370
   _p500370:=exec('get','#params',500370);
   _iface500370:=exec('interface','#params','A',,500370);
   _confilct:=0;
   {? _p500370=exec('oper_nast_time','px_param')
   || _confilct:=1;
      _msg:='Konflikt konfiguracji.\n\n'
            'Parametr: \'%1\' ma wartość uniemożliwiającą ustawienie parametru:\n'
            '\'%2\''@[$_iface500370.nr()+' '+_iface500370.name(),$_interface.nr()+' '+_interface.name()];
      FUN.emsg(_msg)
   ?};
   _p500390:=exec('get','#params',500390);
   _iface500390:=exec('interface','#params','A',,500390);
   {? _p500390='T'
   || _confilct:=1;
      _msg:='Konflikt konfiguracji.\n\n'
            'Parametr: \'%1\' ma wartość uniemożliwiającą ustawienie parametru:\n'
            '\'%2\''@[$_iface500390.nr()+' '+_iface500390.name(),$_interface.nr()+' '+_interface.name()];
      FUN.emsg(_msg)
   ?};

   {? _confilct=0
   || _interface.save('N')
   ?}
?};
~~


\p500701
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500701
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod','params',_a,'TYPYDOK.P=\'T\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'T\'');
~~


\p500701_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500701
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_clear','params',_a)


\p500703
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500703
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod','params',_a,'TYPYDOK.P=\'N\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'T\'');
~~


\p500703_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500703
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_clear','params',_a)


\p500705
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500705
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod','params',_a,'TYPYDOK.P=\'T\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'N\'');
~~


\p500705_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500705
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_clear','params',_a)


\p500707
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500707
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod','params',_a,'TYPYDOK.P=\'N\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'N\'');
~~


\p500707_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500707
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_clear','params',_a)


\p500709
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500709
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod','params',_a,'TYPYDOK.P=\'T\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'N\'');
~~


\p500709_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500709
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_clear','params',_a)


\p500702
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500702
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_default','params',_a);
~~


\p500702_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500702
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_default_clear','params',_a)


\p500704
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500704
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_default','params',_a);
~~


\p500704_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500704
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_default_clear','params',_a)


\p500706
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500706
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_default','params',_a);
~~


\p500706_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500706
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_default_clear','params',_a)


\p500708
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500708
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_default','params',_a);
~~


\p500708_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500708
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_default_clear','params',_a)


\p500710
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500710
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_prod_default','params',_a);
~~


\p500710_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 500710
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('dok_default_clear','params',_a)


\p500750
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500750 - Grupa materiałowa dla narzędzi
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('mgr','params',_a,'T');
~~


\p500751
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500750 - Grupa materiałowa dla przyrządów
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('mgr','params',_a,'T');
~~


\p500752
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500750 - Grupa materiałowa dla urządzeń
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('mgr','params',_a,'T');
~~


\p600300
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 600300 - Czy wycena kompletu wg składowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Obliczenie wartości i ceny wg składowych:'@,,'Tak (wg ceny)'@,'Tak (wg &wartości)'@,'Nie'@);
_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'W'
         |? _choice=3 || 'N'
         ||''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\tak_nie_pytaj
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru: Tak/Nie/Pytaj
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - dodatkowa treść pytania
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_msg0:={? var_pres('_b')=type_of('') || _b || '' ?};

_msg:='Wybierz sposób obsługi:'@;
{? _msg0<>''
|| _msg:=_msg0+'\n'+_msg
?};

_choice:=FUN.choice(_msg,,'Tak'@,'Nie'@,'Pytaj'@);

_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'N'
         |? _choice=3 || 'P'
         || ''
         ?};
{? var_pres('__PAR_WYNIK')>0
|| __PAR_WYNIK:=_choice
?};
{? _choice<>''
|| _a.save(_choice)
?};
~~


\p600500
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 600500 - Czy automatyczne oznaczanie palet przy akceptacji dokumentów?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p600800
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 600800 - Aktualizacja realizacji zamówienia sprzedaży na podstawie
::       wydania z magazynu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz jedną z opcji aktualizacji zamówienia na podstawie dokumentu magazynowego:'@,,
                             'Automatycznie dla &zamówienia'@,
                             'Automatycznie dla &realizacji'@,
                             'Pytaj'@,
                             'Brak'@);
_choice:={? _choice=1 || 'Z'
         |? _choice=2 || 'R'
         |? _choice=3 || 'P'
         |? _choice=4 || 'N'
         ||''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p600801
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 600801 - Aktualizacja realizacji zamówienia wewnętrznego na podstawie
::       wydania z magazynu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p600800','params',_a)


\p600802
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 600800 - Aktualizacja realizacji zamówienia sprzedaży na podstawie
::       wydania z magazynu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz jedną z opcji aktualizacji zamówienia na podstawie dokumentu magazynowego:'@,,
                             'Automatycznie dla &realizacji'@,
                             'Pytaj'@,
                             'Brak'@);
_choice:={? _choice=1 || 'R'
         |? _choice=2 || 'P'
         |? _choice=3 || 'N'
         ||''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p600803
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [18.22]
:: OPIS: Formuła na redagowanie parametru 600803 - Aktualizacja realizacji zamówienia dostaw na podstawie
::       przyjęcia do magazynu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p600800','params',_a)


\p600910
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [18.22]
:: OPIS: Formuła na redagowanie parametru 600910 - Podpowiadanie lokalizacji na operacjach przyjęcia, wydania,
::       inwentaryzacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz jedną z opcji podpowiadania lokalizacji na pozycjach operacji:'@,,
                             'Podpowiadaj w ramach operacji'@,
                             'Zawsze'@,
                             'Brak'@);
_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'A'
         |? _choice=3 || 'N'
         ||''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p700002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 700002 - Adres domyśnego autora powiadomień e-mail
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_valid:="
   {? exec('mail_ok','#email',cur_tab(1,1).VAL)
   || 1
   || FUN.emsg('Niepoprawny adres e-mail.'@); 0
   ?}
";
_val:=exec('edit_string','#edit',_interface.get(),_interface.name(),_valid);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p700003
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 700003 - Zapisywanie raportów z przetwarzania powiadomień e-mail
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();
{? _input='M' || _check:=1 |? _input='D' || _check:=2 || _check:=0 ?};
_choice:=FUN.choice('Logi z wysyłki:'@,_check,'Miesięczne'@,'Dzienne'@);
{? _choice=1 || _output:='M' |? _choice=2 || _output:='D' || _output:=_input ?};
_interface.save(_output);
~~


\p700007
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 700007 - Zapisywanie raportów z wysyłania powiadomień e-mail
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();
{? _input='M' || _check:=1 |? _input='D' || _check:=2 |? _input='I' || _check:=3 || _check:=0 ?};
_choice:=FUN.choice('Logi sesji SMTP:'@,_check,'Miesięczne'@,'Dzienne'@,'Indywidualne'@);
{? _choice=1 || _output:='M' |? _choice=2 || _output:='D' |? _choice=3 || _output:='I' || _output:=_input ?};
_interface.save(_output);
~~


\p700008
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 700008 - Lista adresów zaufanych serwerów
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_valid:="
   {? exec('trustedsrv_ok','#email',cur_tab(1,1).VAL)
   || 1
   || FUN.emsg('Niepoprawna lista adresów serwerów.'@); 0
   ?}
";
_val:=exec('edit_string','#edit',_interface.get(),_interface.name(),_valid);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p1001
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 1001
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typydok_wyb','params',_a.get(),"1"));
~~


\p1002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 1002
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typydok_wyb','params',_a.get(),"1",1));
~~


\p2002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 2002
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='N'"));
~~


\p1120
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 1120
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p2120','params',_a)


\p1123
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Mario [17.42]
:: OPIS: Formuła na redagowanie parametru 1123
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p2120','params',_a)


\p2003
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 2003
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='N'",1));
~~


\p2011
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 2007
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('pozoper_wyb','params',_a.get(),"POZOPER.PLUS_MIN='+' & POZOPER.MF_TIP='T'",1));
~~


\p2120
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 2120
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_nrt:=POM.NRT;
_tab:=POM;

_edt:=_tab.mk_edit('Dostępne opcje'@,0,'fo_p2120');
_f1:="POM.NRT:=1;\'key:F2\'";
_f2:="POM.NRT:=2;\'key:F2\'";
_f3:="POM.NRT:=4;\'key:F2\'";
_f4:="POM.NRT:=8;\'key:F2\'";
_tab.win_ebtn(_edt,'text='+'Panel i parametry dostępne'@+',btn_label_align=center,panel=left,align=begin',_f1);
_tab.win_ebtn(_edt,'text='+'Panel &ukryty'@+',btn_label_align=center,panel=left,align=begin',_f2);
_tab.win_ebtn(_edt,'text='+'P&arametry ukryte'@+',btn_label_align=center,panel=left,align=begin',_f3);
_tab.win_ebtn(_edt,'text='+'Pa&nel i parametry ukryte'@+',btn_label_align=center,panel=left,align=begin',_f4);

_tab.win_edit(_edt);
{? _tab.edit()
|| _a.save(POM.NRT)
?};
POM.NRT:=_nrt;

~~


\p2123
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 2123
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p2120','params',_a)


\p3004
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3004
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='Z'"));
~~


\p3005
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3005
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='Z'",1));
~~


\p3006
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3006
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='D'",1));
~~


\p3008
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AK [17.00]
:: OPIS: Formuła na redagowanie parametru 3008
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p3012
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3012
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p3014
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3014
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='W'"));
~~


\p3015
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3015
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='W'",1));
~~


\p3024
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 3024
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='D'"));
~~


\p3500
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 3500
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz sposób obsługi'@,,'Nie'@,'Warunkowo'@,'Bezwarunkowo'@);
_choice:={? _choice=1 || 'N'
         |? _choice=2 || 'W'
         |? _choice=3 || 'B'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p3510
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AK] [17.00]
:: OPIS: Formuła na redagowanie parametru 3510
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p3500','params',_a)


\p4300
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [20.42]
:: OPIS: Formuła na redagowanie parametru 4301
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
:: ~OST: INFILECHOOSER
::----------------------------------------------------------------------------------------------------------------------
_f_def:="_path:=exec('filechooser','#file','Plik wykonywalny MacroEdytora'@,,'jar; exe',,,,,
                     {? VAR.STRING<>'' || VAR.STRING ?});
         {? _path<>''
         || VAR.STRING:=_path
         ?}";
VAR.cntx_psh();
_string:=VAR.STRING;
VAR.STRING:=_a.get();
{? ~exec('interm','#system') || VAR.fld_fml('STRING','F3',_f_def) ?};
_path_win:=VAR.mk_edit('Ścieżka do pliku wykonywalnego MacroEdytora'@,0,'#pathwin4300');
VAR.win_efld(_path_win,VAR,'STRING',,,100,,0,'Ścieżka'@,,'Ścieżka do pliku wykonywalnego MacroEdytora'@);
VAR.win_ebtn(_path_win,'text=&Zapisz'+',btn_label_align=center,panel=bottom,align=end','key:F2');
VAR.win_ebtn(_path_win,'text=%1,btn_label_align=center,panel=bottom,align=end'['&Anuluj'@],'key:Esc');
VAR.win_edit(_path_win);
{? VAR.edit()
|| _a.save(VAR.STRING)
?};
VAR.STRING:=_string;
VAR.cntx_pop()


\p4301
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [20.42]
:: OPIS: Formuła na redagowanie parametru 4301
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
:: ~OST: INFILECHOOSER
::----------------------------------------------------------------------------------------------------------------------
_f_def:="_path:=exec('filechooser','#file','Plik wykonywalny programu porównującego pliki'@,,'exe',,,,,
                     {? VAR.STRING<>'' || VAR.STRING ?});
         {? _path<>''
         || VAR.STRING:=_path
         ?}";
VAR.cntx_psh();
_string:=VAR.STRING;
VAR.STRING:=_a.get();
{? ~exec('interm','#system') || VAR.fld_fml('STRING','F3',_f_def) ?};
_path_win:=VAR.mk_edit('Ścieżka do programu porównującego pliki'@,0,'#pathwin4301');
VAR.win_efld(_path_win,VAR,'STRING',,,100,,0,'Ścieżka'@,,'Plik wykonywalny programu porównującego pliki'@);
VAR.win_ebtn(_path_win,'text=&Zapisz'+',btn_label_align=center,panel=bottom,align=end','key:F2');
VAR.win_ebtn(_path_win,'text=%1,btn_label_align=center,panel=bottom,align=end'['&Anuluj'@],'key:Esc');
VAR.win_edit(_path_win);
{? VAR.edit()
|| _a.save(VAR.STRING)
?};
VAR.STRING:=_string;
VAR.cntx_pop()


\p6002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 6002
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='T'"));
~~


\p6003
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 6003
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='T'",1));
~~


\p6120
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła na redagowanie parametru 6120
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p2120','params',_a)


\p6123
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła na redagowanie parametru 6123
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('p2120','params',_a)


\dok_prod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Pozwala wybrać kilka typów dokumentów magazynowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] feraza where ograniczająca dziedzinę tabeli TYPYDOK
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
params_set('interface',_interface);
{? var_pres('_b')=type_of('') || _where:=_b || _where:='1=1' ?};

_fo_trE:='';
:: Zbieramy wartości z parametrów które sie wykluczają
{? _interface.nr()<>500701
|| _fo:=exec('get','#params',500701,type_of(''));
   {? _fo<>'' || _fo_trE+=' '+_fo ?}
?};
{? _interface.nr()<>500703
|| _fo:=exec('get','#params',500703,type_of(''));
   {? _fo<>'' || _fo_trE+=' '+_fo ?}
?};
{? _interface.nr()<>500705
|| _fo:=exec('get','#params',500705,type_of(''));
   {? _fo<>'' || _fo_trE+=' '+_fo ?}
?};
{? _interface.nr()<>500707
|| _fo:=exec('get','#params',500707,type_of(''));
   {? _fo<>'' || _fo_trE+=' '+_fo ?}
?};
{? _interface.nr()<>500709
|| _fo:=exec('get','#params',500709,type_of(''));
   {? _fo<>'' || _fo_trE+=' '+_fo ?}
?};
:: Pobieramy wartość sąsiedniego parametru - typ domyślny dla danego rodzaju dokumentów
_fo_trM:=exec('get','#params',_interface.nr()+1,type_of(''))+' ';

VAR_DEL.delete('_typydok');
_typydok:=sql('select T, NAZ, \'\' SELECTED,\'\' DEFAULT, \'\' BANNED from TYPYDOK where '+_where+' order by 1');
_fo_tr:=_interface.get();
_fo_tr:={? _fo_tr<>'' || ' '+_fo_tr || '' ?};
{? _typydok.first()
||
   {!
   |?
      {? _fo_trE*(' '+_typydok.T+' ')
      || _typydok.BANNED:='T'
      || _typydok.BANNED:='N'
      ?};
      {? _typydok.T+' '=_fo_trM
      || _typydok.DEFAULT:='T'
      || _typydok.DEFAULT:='N'
      ?};
      {? _typydok.BANNED='N'
      ||
         {? _fo_tr*(' '+_typydok.T+' ')
         || _typydok.SELECTED:='T'
         || _typydok.SELECTED:='N'
         ?}
      || _typydok.SELECTED:='X'
      ?};
      _typydok.put();
      _typydok.next()
   !}
?};

:: podświetlenie pierwszego zaznaczonego rekordu
_typydok.first();
{? _fo_tr<>''
|| {!
   |?
      {? _fo_tr*(' '+_typydok.T+' ')
      || 0
      || _typydok.next()
      ?}
   !}
?};
params_set('interface',_interface);
{? exec('typydok_select','params',_typydok,,1,0,1)>0
|| _wyn:='';
   {? _typydok.first()
   || {!
      |? _wyn+={? _typydok.SELECTED='T'
               || _typydok.T+' '
               || ''
               ?};
         _typydok.next()
      !}
   ?};
   _interface.save(_wyn);
   ~~
?};
~~


\dok_prod_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Pozwala wybrać domyślny typ dokumentu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_fo_tr:=exec('get','#params',_interface.nr()-1,2,null());
{? _fo_tr='' | (_typy:=exec('GetTabFromList','#table','TYPYDOK','T',_fo_tr);_typy.first()=0)
|| FUN.info('Nie zdefiniowano wartości formuły nr %1'@[form(_interface.nr()-1,,,'99')]);
   _interface.save('')
|| params_set('interface',_interface);
   _typydok:=exec('typydok_tab','params');
   _select:=exec('typydok_select','params',_typydok,_typy,0,1,,_interface.get(),1);
   {? _select>0
   || _interface.save(_typydok.T)
   ?}
?};
~~


\typydok_select
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS:
::   WE: [_a] - tab_tmp - tabelka tymczasowa zawierająca typy, ta tabelka będzie wyświetlana
::       [_b] - tab_tmp - tabelka tymczasowa zawierająca refy typów, ta tabelka zasili tabelkę wyświetlaną
::       [_c] - INTEGER - 0/[1] - czy dostępny zestaw akcji zaznacz, akceptuj
::       [_d] - INTEGER - [0]/1 - czy dostępna akcja wybierz
::       [_e] - INTEGER - [0]/1 - czy dostępna kolumna 'Domyślny'
::       [_f] - STRING  - typy dokumentów które mają być zaznaczone
::       [_g] - INTEGER - [0]/1 - czy stanąć na pierwszym rekordzie czy użyć bieżącej pozycji w tabeli
::   WY: wynik działania _b.select
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
params_set(params_get());

TYPYDOK.cntx_psh(); TYPYDOK.clear();
_typydok:=~~;
{? var_pres('_a')>100
|| _typydok:=_a
|| _typydok:=exec('typydok_tab','params')
?};

_typy:=~~;
{? var_pres('_b')>100
|| _typy:=_b;
   {? _typy.first()
   || {!
      |? {? TYPYDOK.seek(_typy.REF,)
         || _typydok.blank();
            _typydok.SELECTED:='N';
            _typydok.BANNED:='N';
            _typydok.DEFAULT:='N';
            _typydok.T:=TYPYDOK.T;
            _typydok.NAZ:=TYPYDOK.NAZ;
            _typydok.add()
         ?};
         _typy.next()
      !}
   ?}
?};

_allow_mark:=1;
{? var_pres('_c')=type_of(0)
|| _allow_mark:=_c
?};

_allow_select:=0;
{? var_pres('_d')=type_of(0)
|| _allow_select:=_d
?};

_allow_default:=0;
{? var_pres('_e')=type_of(0)
|| _allow_default:=_e
?};

_selected:='';
{? var_pres('_f')=type_of('')
|| _selected:=_f
?};

_jump:=0;
{? var_pres('_g')=type_of(0)
|| _jump:=_g
?};
:: Zaznaczam typy dokumentów które mają być zaznaczone
{? _selected<>''
||
:: Dodaje separatory
   {? 1+_selected<>''
   || _selected:=' '+_selected
   ?};
   {? _selected+1<>''
   || _selected:=_selected+' '
   ?};
   {? _typydok.first()
   || {!
      |?
         {? _selected*(' '+_typydok.T+' ')>0
         || _typydok.SELECTED:='T';
            _typydok.put()
         ?};
         _typydok.next()
      !}
   ?}
?};

{? _jump>0
|| _typydok.first()
?};

_result:=0;

:: Tworzę okno
_acr_sel:=_typydok.mk_sel('Typy dokumentów magazynowych'@,'T',0,'#foproddefault',,,,,'U');

:: Pola
_typydok.win_fld(_acr_sel,,'SELECTED',,,10,,0,'Zaznaczony'@,,,2,,"\'T\'","\'N\'","\'X\'");
_typydok.win_fld(_acr_sel,,'T',,,8,,0,'Typ'@);
_typydok.win_fld(_acr_sel,,'NAZ',,,30,,0,'Nazwa'@);

{? _allow_default>0
|| _typydok.win_fld(_acr_sel,,'DEFAULT',,,10,,0,'Domyślny'@,,,2,,"\'T\'","\'N\'")
?};

:: Akcje i przyciski
{? _allow_select>0
|| _typydok.win_act(_acr_sel,,'Formuła','&Wybierz'@@,,'Wybór domyślnego typu dokumentu'@,"sel_exit()",,1,,,,'W')
?};

{? _allow_mark>0
|| 'Typ został wybrany jako domyślny w formule nr %1.'@[''];'Typ został wybrany w innej formule z zakresu %1.'@[''];
   _typydok.win_act(_acr_sel,,'Formuła','&Zaznacz'@@,,'Zaznaczanie typów dokumentów'@
                      ,"
                        _interface:=params_get().interface;
                        _typydok:=cur_tab();
                        {? _typydok.SELECTED='N'
::                        || _typydok.SELECTED:='N'
                        || _typydok.SELECTED:='T'
                        ?};
                        {? _typydok.DEFAULT='T'
                        || _typydok.SELECTED:='T';
                           {? VAR.GRUPA<>'T'
                           || FUN.info('Typ został wybrany jako domyślny w formule nr %1.'@[form(_interface.nr()+1,,,'99')])
                           ?}
                        ?};
                        {? _typydok.BANNED='T'
                        || _typydok.SELECTED:='X';
                           {? VAR.GRUPA<>'T'
                           || FUN.info('Typ został wybrany w innej formule z zakresu %1.'@['<500701-500710>'])
                           ?}
                        ?};
                        _typydok.put()
                       "
                      ,,1,1,"sel_nchk();VAR.GRUPA:='T'","VAR.GRUPA:='N'",'Z');

   _typydok.win_act(_acr_sel,,'Formuła','&Odznacz'@@,,'Odznaczanie typów dokumentów'@
                      ,"
                        _interface:=params_get().interface;
                        _typydok:=cur_tab();
                        {? _typydok.SELECTED='T'
                        || _typydok.SELECTED:='N'
::                        || _typydok.SELECTED:='T'
                        ?};
                        {? _typydok.DEFAULT='T'
                        || _typydok.SELECTED:='T';
                           {? VAR.GRUPA<>'T'
                           || FUN.info('Typ został wybrany jako domyślny w formule nr %1.'@[form(_interface.nr()+1,,,'99')])
                           ?}
                        ?};
                        {? _typydok.BANNED='T'
                        || _typydok.SELECTED:='X';
                           {? VAR.GRUPA<>'T'
                           || FUN.info('Typ został wybrany w innej formule z zakresu %1.'@['<500701-500710>'])
                           ?}
                        ?};
                        _typydok.put()
                       "
                      ,,1,1,"sel_nchk();VAR.GRUPA:='T'","VAR.GRUPA:='N'",'O');

   _typydok.win_act(_acr_sel,,'Formuła','&Akceptuj'@@,,'Akceptacja ustawień'@,"sel_exit()",,,,,,'A');
   _typydok.win_btn(_acr_sel,'text=%1,panel=bottom,align=end'['&Akceptuj'@],'menu:A',,,,,,'noempty');
   _typydok.win_btn(_acr_sel,'text=%1,panel=bottom,align=end'['Anuluj&'@],'key:Esc');
   ~~
?};
_typydok.win_act(_acr_sel,,'Formuła','&Legenda'@@,,'Legenda'@,"exec('legenda','color','TYPYDOK#02#')",,,,,,'L');
_typydok.win_act(_acr_sel,,'Rekord' ,,,," _typydok:=cur_tab();
                                          {? _typydok.sel_size()=0
                                          || {? _typydok.SELECTED='T'
                                             || _typydok.actions_grayed(cur_win(1,1),'Z');
                                                _typydok.actions(cur_win(1,1),,'O',1)
                                             || _typydok.actions_grayed(cur_win(1,1),'O');
                                                _typydok.actions(cur_win(1,1),,'Z',1)
                                             ?}
                                          || _typydok.actions_grayed(cur_win(1,1),'');
                                             _typydok.actions(cur_win(1,1),,'Z',1)
                                          ?};
                                          {? _typydok.SELECTED='T'
                                          || Color.fnd_kol('TYPYDOK#02#01')
                                          |? _typydok.BANNED='T'
                                          || Color.fnd_kol('TYPYDOK#02#02')
                                          || ~~
                                          ?}
                                       ");
_typydok.win_sel(_acr_sel);

:: Pokazuję okno selekcji
_result:=_typydok.select(,1);
TYPYDOK.cntx_pop();
_result


\typydok_tab
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Zwraca tabelkę tymczasową która będzie wyświetlana do wyboru typów dokumentów magazynowych
::   WY: tab_tmp
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_typydok:=tab_tmp(3,
::    'POLE','TYP','Nazwa w oknie',
      'T','STRING[20]','Typ',
      'NAZ','STRING[100]','Typ',
      'DEFAULT','STRING[1]','Domyślne',
      'SELECTED','STRING[2]','Wybrane',
      'BANNED','STRING[1]','Zabronione');
_typydok


\mgr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Pozwala wybrać grupę materiałową/usługową
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       _b - 'T' (materiały), 'U' (usługi), '' (materiały i usługi)
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_tow:=_b;

_input:=_interface.get();

MGR.cntx_psh();
_wer:=MGR.mk_sel(
   {? _tow='T' || 'Grupy materiałów'@ |? _tow='U' || 'Grupy usług'@ || 'Grupy materiałów i usług'@ ?},
   'P',0,'mgrsql'
);
MGR.win_fld(_wer,,'KOD');
MGR.win_fld(_wer,,'NAZ');
MGR.win_fld(_wer,,'RODZ',,,,,,'T/U');
MGR.win_fld(_wer,,'DOKL',,,,0);
MGR.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
MGR.win_sel(_wer);
MGR.index('KOD');
MGR.prefix(_tow);
{? MGR.first()
|| MGR.find_key(_input,)
?};
{? MGR.select(,1,10)
|| _interface.save(MGR.KOD)
?};
MGR.cntx_pop();
~~


\dok_prod_clear
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Czyści wartość parametru 500701,500703 itp przy okazji czyszcząc też zależny parametr 500702,500704 itp
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0 - porażka
::       1 - sukces
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_group:=0;
{? cur_tab(1,1).sel_size()>0
|| _group:=1
?};
{? _group=0
|| KOMM.init(250,,'Przywracanie wartości domyślnej parametrów'@)
?};

_default:=_interface.default();
_result:=_interface.save(_default);

{? _result>0
||
   _var_changed:=0;
   _var_old:=VAR.GRUPA;
   {? VAR.GRUPA<>'T'
   || VAR.GRUPA:='T';
      _var_changed:=1
   ?};
:: Jeśli udało się wyczyścić parametr, to czyszczę też parametr powiązany
   _next:=_interface.nr()+1;
   {? _next>0
   || {? exec('default_action','#params',_next,'N',0)>0
      || _msg:='Wartość domyślna parametru: %1 przywróciła wartość domyślną parametru powiązanego: %2'@
               [$_interface.nr(),$_next];
         KOMM.add(_msg,7)
      ?}
   ?};
   {? _var_changed>0
   || VAR.GRUPA:=_var_old
   ?}
?};
{? _group=0
|| KOMM.select()
?};
_result


\dok_default_clear
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Czyści wartość parametru 500702,500704 itp
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_group:=0;
{? cur_tab(1,1).sel_size()>0
|| _group:=1
?};
{? VAR.GRUPA='T'
|| _group:=1
?};

{? _group=0
|| KOMM.init(250,,'Przywracanie wartości domyślnej parametrów'@)
?};

_default:=_interface.default();
_result:=_interface.save(_default);

{? _group=0
|| KOMM.select()
?};
_result


\mg_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Wybór magazynów
::   WE: _a - parametr, lista magazynów
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::       [_d] - (domyślnie '') - symbol oddziału
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('_c')<>type_of(0) || _c:=0 ?};
{? var_pres('_d')<>type_of('') || _d:='' ?};

_wyn:='';
_par:=_a;
_form:=_b;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[8]','Symbol'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Uprawnienie'
      ,'REF','STRING[16]','Ref SQL'
      ,'ODD','STRING[10]','Oddział'
      ,'WYD','STRING[8]','Wydział');
MG.cntx_psh();
MG.index('MAG');
MG.prefix();
{? MG.first()
|| {!
   |? {? _form() & (_d='' | _d=MG.ODDZ)
      || _tab.blank();
         _tab.SYM:=MG.SYM;
         _tab.NAZ:=MG.NAZ;
         _tab.ODD:=MG.ODDZ;
         _tab.REF:=$MG.ref();
         _tab.WYD:=MG.WYD().KOD;
         _tab.ACCESS:={? ~_c
                      || {? (_par+',')*(MG.SYM+',') || 'T' || 'N' ?}
                      || {? _par=MG.SYM || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      MG.next()
   !}
?};
MG.cntx_pop();

_sel:=_tab.mk_sel('Wybór magazynu'@,'P',,'fo_magazyn',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'ODD');
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');
_tab.win_fld(_sel,,'WYD');

{? ~_c
|| {? $_b*'MG.W'>0
   || _formula:="_tab:=cur_tab();
                 _wyd:=_tab.WYD;
                 _sym:=_tab.SYM;
                 _dalej:=1;
                 _tab.cntx_psh();
                 {? _tab.first()
                 || {!
                    |? {? _tab.WYD=_wyd & _tab.ACCESS='T' & _tab.SYM<>_sym
                       || FUN.info('Zaznaczono już domyślny magazyn dla wydziału: '@+_wyd);
                          _dalej:=0;
                          0
                       || _tab.next()
                       ?}
                    !}
                 ?};
                 _tab.cntx_pop();
                 {? _dalej=1
                 || _tab.ACCESS:='T';
                     _tab.put()
                 ?}"

   || _formula:="_tab:=cur_tab();_tab.ACCESS:='T'; _tab.put()"
   ?};
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór magazynów?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór magazynów?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+','
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p4041
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [WH] [17.00]
:: OPIS: Formuła na redagowanie parametru 4041
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_mgr:=exec('select_mgr','params',_interface.nr());
{? _mgr<>''
|| _interface.save(_mgr)
?};
~~


\p4044
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [WH] [17.00]
:: OPIS: Formuła na redagowanie parametru 4044
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_mgr:=exec('select_mgr','params',_interface.nr());
{? _mgr<>''
|| _interface.save(_mgr)
?};
~~


\select_mgr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Wybór grupy materiałowej
::   WE: _a - INTEGER - numer parametru
::   WY: STRING - MGR.KOD lub ''
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_nr:=_a;

_result:='';

_opis:={? _nr=4041 || 'Grupy materiałów'@ |? _nr=4044 || 'Grupy usług'@ || 'Grupy materiałów i usług'@ ?};
MGR.cntx_psh();
MGR.clear();
_wer:=MGR.mk_sel(_opis,'P',0,'mgrsql',,,,,'U');
MGR.win_fld(_wer,,'KOD');
MGR.win_fld(_wer,,'NAZ');
MGR.win_fld(_wer,,'RODZ',,,,,,'T/U');
MGR.win_fld(_wer,,'DOKL',,,,0);
MGR.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
MGR.win_sel(_wer);
MGR.index('KOD');
MGR.prefix({? _nr=4041 || 'T' |? _nr=4044 || 'U' || '' ?});
{? MGR.select()
|| _result:=MGR.KOD
?};
MGR.cntx_pop();
_result


\p2130
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła na redagowanie parametru 2130
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice('Zakres uprawnień:'@,,'Blokada'@,'Nagłówek'@,'Pozycje'@,'Wszędzie'@);
_zakres:=
   {? _choice=1 || 'B'
   |? _choice=2 || 'N'
   |? _choice=3 || 'P'
   |? _choice=4 || 'W'
   || ''
   ?};
{? _zakres<>''
|| _interface.save(_zakres)
?};
~~


\p4042
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 4042
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params');
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p4043
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 4043
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_vat:=exec('select_vat','params');
{? _vat<>''
|| _interface.save(_vat)
?};
~~


\p4045
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 4045
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params');
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\select_jm
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Wybór jednostki miary
::   WE: symbol jednostki miary, od której rozpocząć selekcję
::   WY: STRING - JM.KOD lub ''
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_start:={? var_pres('_a')=type_of('') || _start:=_a || _start:='' ?};
_result:='';
JM.cntx_psh();
_acr_sel:=JM.mk_sel('Jednostki miary'@,'T',0,,,,,,'U');
JM.win_fld(_acr_sel,,'KOD',,,8,,0,'Kod'@);
JM.win_fld(_acr_sel,,'NAZ',,,30,,0,'Nazwa'@);
JM.win_act(_acr_sel,,'Formuła','&Wybierz'@@,,'Wybór bieżącego zapisu'@,"sel_exit()",,1,,,,'W');
JM.win_act(_acr_sel,,'Szukaj');
JM.win_sel(_acr_sel);
JM.index('KOD');
JM.prefix();
JM.find_key(_start);
{? JM.select(,1,5)
|| _result:=JM.KOD
?};
JM.cntx_pop();
_result


\select_vat
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Wybór stawki VAT
::   WE: [_a] - STRING - kod kraju z którego stawki wyświetlić
::   WY: STRING - nazwa stawki VAT np '23 %'
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_kraj:='';
{? var_pres('_a')=type_of('')
|| _kraj:=_a
|| exec('czytaj','#stalesys',,INFO,'KRAJ');
   _kraj:=INFO.KRAJ().KOD
?};
_result:='';
SLO.cntx_psh();
_slu:=exec('FindInSet','#table','SLU','NAZ','~STAWKI VAT '+_kraj);
{? _slu<>null()
|| _win_sel:=SLO.win_sel('?');
   SLO.win_sel('SLO_FO');
   SLO.hdr_sel('Stawki VAT %1'@[_kraj]);
   SLO.index('SL');
   SLO.prefix(_slu);
   {? SLO.select()
   || _result:=SLO.KOD
   ?};
   SLO.win_sel(_win_sel)
|| FUN.info('Brak w systemie słownika: \"~STAWKI VAT %1\"'@[_kraj])
?};
SLO.cntx_pop();
_result


\typysp_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Wybór TYPYSP
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[8]','Symbol'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

:: _zal:=FO.NR=300602;
::      XFOT:=sql('select T, NAZ, \'*\' W from TYPYSP '
::             +{? FO.KZ='K'
::              || ' where TYPYSP.ZAK=\'T\''
::              || {? _zal
::                 || ' where TYPYSP.ZAL=\'T\' and TYPYSP.KOR=\'N\' and TYPYSP.ZAK=\'N\' '
::        TYPYSP.ZAK=\'N\'         || ' where '
::                 ?}
::              ?}+' order by 1');
TYPYSP.cntx_psh();
TYPYSP.index('SPRZAK');
TYPYSP.prefix();
{? TYPYSP.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.SYM:=TYPYSP.T;
         _tab.NAZ:=TYPYSP.NAZ;
         _tab.REF:=$TYPYSP.ref();
         _tab.ACCESS:={? ~_c
                      || {? (' '+_par+' ')*(' '+TYPYSP.T+' ') || 'T' || 'N' ?}
                      || {? _par=TYPYSP.T || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      TYPYSP.next()
   !}
?};
TYPYSP.cntx_pop();

_sel:=_tab.mk_sel('Wybór typu dokumentu'@,'P',,'fo_typysp',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu dokumentu?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór typu dokumentu?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\typydok_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Wybór TYPYDOK
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[8]','Symbol'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

TYPYDOK.cntx_psh();
TYPYDOK.index('TYP');
TYPYDOK.prefix();
{? TYPYDOK.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.SYM:=TYPYDOK.T;
         _tab.NAZ:=TYPYDOK.NAZ;
         _tab.REF:=$TYPYDOK.ref();
         _tab.ACCESS:={? ~_c
                      || {? (' '+_par+' ')*(' '+TYPYDOK.T+' ') || 'T' || 'N' ?}
                      || {? _par=TYPYDOK.T || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      TYPYDOK.next()
   !}
?};
TYPYDOK.cntx_pop();

_sel:=_tab.mk_sel('Wybór typu dokumentu'@,'P',,'fo_typysp',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu dokumentu?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór typu dokumentu?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p800813
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła na redagowanie parametru 800813
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
__interface:=_a;
_Choice:=tab_tmp(1,'AKR','STRING[8]','Akronim','O','STRING[50]','Opis');
_Choice.AKR:=''; _Choice.O:='Nie stosować'; _Choice.add();
_Choice.AKR:='KOR'; _Choice.O:='Korekta'; _Choice.add();
_Choice.AKR:='KZ'; _Choice.O:='Korekta zbiorcza'; _Choice.add();
_wer:=_Choice.mk_sel('Korekta rabat od ceny po rabacie'@,,,'pqoiprqiopncvja');
_Choice.win_fld(_wer,,'AKR',,,8,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,30,,,'Opis'@);
_fb:="
   _choice:=_sep:='';
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget(); {? ~_Sel.first() || _Sel.REF:=#_Tab.ref(); _Sel.add() ?};
   _loop:=_Sel.first();
   {!
   |? _loop
   |!
      {? _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || _choice+=_sep+_Tab.AKR; _sep:='|' ?};
      _loop:=_Sel.next()
   !};
   __interface.save(_choice);
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Wybierz'@@,,,_fb,,1,1,_fb,,'W');
_Choice.win_sel(_wer);
_Choice.select();
VAR_DEL.delete('__interface')


\p100901
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 100901 - użytkownik "serwisowy"
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

_wer:=USERS.mk_sel('Użytkownicy'@);
USERS.win_fld(_wer,,'KOD');
USERS.win_fld(_wer,,'DANE');
USERS.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
USERS.win_sel(_wer);

USERS.index('USR_AKOD');
USERS.prefix('T');
USERS.find_key(_input,);
{? USERS.select(,1,5)
|| _interface.save(USERS.KOD)
?};
~~


\p100911
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 100911 - kod domyślnej kolejki obsługującej zdarzenia
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('b_worker','params',_a);
~~


\p100912
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 100911 - kod domyślnej kolejki obsługującej czynności usługowe
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('b_worker','params',_a);
~~


\p100913
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 100911 - kod domyślnej kolejki obsługującej czynność wysyłania poczty
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('b_worker','params',_a);
~~


\b_worker
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła wyboru kolejki
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=_interface.get();
_wer:=B_WORKER.mk_sel('Kolejki'@,,,'bworkerslo');
B_WORKER.win_fld(_wer,,'KOD');
B_WORKER.win_fld(_wer,,'OPIS');
B_WORKER.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
B_WORKER.win_sel(_wer);
B_WORKER.cntx_psh();
B_WORKER.index('KOD');
B_WORKER.prefix(REF.FIRMA);
B_WORKER.find_key(_val,);
{? B_WORKER.select(,1,5)
|| _interface.save(B_WORKER.KOD)
?};
B_WORKER.cntx_pop();
~~


\typyzam_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Wybór TYPYZAM
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::       [_d] - 0(domyślnie)-zamówienie, 1-oferta
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_zam:={? var_pres('_d')=type_of(0) || _d || 0 ?};

_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[8]','Symbol'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

TYPYZAM.cntx_psh();
TYPYZAM.index('TYP');
TYPYZAM.prefix();
{? TYPYZAM.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.SYM:=TYPYZAM.T;
         _tab.NAZ:=TYPYZAM.NAZ;
         _tab.REF:=$TYPYZAM.ref();
         _tab.ACCESS:={? ~_c
                      || {? (' '+_par+' ')*(' '+TYPYZAM.T+' ') || 'T' || 'N' ?}
                      || {? _par=TYPYZAM.T || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      TYPYZAM.next()
   !}
?};
TYPYZAM.cntx_pop();

_sel:={? ~_zam
      || _tab.mk_sel('Wybór typu zamówienia'@,'P',,'fo_typyzam',,,,,'U')
      || _tab.mk_sel('Wybór typu oferty'@,'P',,'fo_typyofe',,,,,'U')
      ?};
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór typu?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+'  '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\ztp_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Wybór ZTP
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'TYP','STRING[3]','Typ'
      ,'OPIS','STRING[60]','Opis'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

ZTP.cntx_psh();
ZTP.index('TP');
ZTP.prefix();
{? ZTP.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.TYP:=ZTP.TYP;
         _tab.OPIS:=ZTP.OPIS;
         _tab.REF:=$ZTP.ref();
         _tab.ACCESS:={? ~_c
                      || {? (_par+' ')*(ZTP.TYP+' ') || 'T' || 'N' ?}
                      || {? _par=ZTP.TYP || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      ZTP.next()
   !}
?};
ZTP.cntx_pop();

_sel:=_tab.mk_sel('Wybór typu zlecenia'@,'P',,'fo_ztp',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'TYP');
_tab.win_fld(_sel,,'OPIS');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu zlecenia?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór typu zlecenia?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.TYP+'  '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.TYP
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\zpwyd_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MLAK [17.00]
:: OPIS: Wybór PWYD
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'OPIS','STRING[60]','Opis'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

ZPWYD.cntx_psh();
ZPWYD.index('ZPWYD_PW');
ZPWYD.prefix();
{? ZPWYD.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.OPIS:=ZPWYD.PWYD;
         _tab.REF:=$ZPWYD.ref();
         _tab.ACCESS:={? ~_c
                      || {? (_par+' ')*(ZPWYD.PWYD+' ') || 'T' || 'N' ?}
                      || {? _par=ZPWYD.PWYD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      ZPWYD.next()
   !}
?};
ZPWYD.cntx_pop();

_sel:=_tab.mk_sel('Wybór podstawy powołania zlecenia'@,'P',,'fo_zpwyd',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'OPIS');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór podstawy powołania zlecenia?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór podstawy powołania zlecenia?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.OPIS+'  '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.OPIS
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p8500
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8500 (sposób wyświetlania listy zleceń)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
ZAKR.VZL:=1+_par;
ZAKR.TZL:=(_par-1)+1;
ZAKR.ZZL:=_par+1;
ZAKR.win_edit('VIEW_ZL');
{? ZAKR.edit()
|| _a.save(ZAKR.VZL+ZAKR.TZL+ZAKR.ZZL)
?};
~~


\p8501
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8501 (zakres wyświetlanych zleceń produkcyjnych i warsztatowych)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
ZAKR.ZL_STAN:=_a.get();
ZAKR.win_edit('STAT_ZL');
ZAKR.win_efml('STAT_ZL',,'IKONA_N',,'ICON_BEFORE',"'xwin16.png:18'");
ZAKR.win_efml('STAT_ZL',,'IKONA_O',,'ICON_BEFORE',"'xwin16.png:156'");
ZAKR.win_efml('STAT_ZL',,'IKONA_Z',,'ICON_BEFORE',"'xwin16.png:157'");
{? ZAKR.edit()
|| _a.save(ZAKR.ZL_STAN)
?};
~~


\p8503
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8503 - sposób wyświetlania limitów zlecenia złożonego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice(
   'Wybierz sposób wyświetlania limitów zlecenia złożonego:'@,,'Surowce ► Zlecenia'@,'Zlecenia ► Surowce'@
);
_choice:={? _choice=1 || 'S'
         |? _choice=2 || 'Z'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p8505
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [21.37]
:: OPIS: Formuła na redagowanie parametru 8505
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('widok_edit','braki_k');
{? type_of(_value)=type_of('')
|| _interface.save(_value)
?};
~~


\p500101
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500101 - domyślny opis zlecenia produkcyjnego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_in:=_a.get();
_txt:='';
{? _in='#K' || _nr:=1 |? _in='#N' || _nr:=2 |? _in='#B' || _nr:=4 |? _in<>'' || _nr:=3; _txt:=_in || _nr:=0 ?};
_choice:=FUN.choice(
   'Domyślny opis zlecenia produkcyjnego:'@,_nr,
   'Kod wyrobu + podstawa powołania'@,'Nazwa wyrobu'@,'Wprowadź tekst'@,'Brak opisu'@
);
{? _choice=1 || _a.save('#K')
|? _choice=2 || _a.save('#N')
|? _choice=4 || _a.save('#B')
|? _choice=3
|| undefine();
   define('TXT',_txt,'Opis zlecenia'@,,200,100,0);
   def_btn('text=%1'['Zapisz'@],'key:F2');
   def_btn('text=%1'['Anuluj'@],'key:Esc');
   {? def_edit(,FUN.TYT)
   || {? DEFINE.TXT=''
      || _a.save('#B')
      || _a.save(DEFINE.TXT)
      ?}
   ?};
   undefine()
?};
~~


\p500102
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500102 - domyślny opis zlecenia warsztatowego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_in:=_a.get();
_txt:='';
{? _in='#B' || _nr:=2 |? _in<>'' || _nr:=1; _txt:=_in || _nr:=0 ?};
_choice:=FUN.choice(
   'Domyślny opis zlecenia warsztatowego:'@,_nr,
   'Wprowadź tekst'@,'Brak opisu'@
);
{? _choice=2 || _a.save('#B')
|? _choice=1
|| undefine();
   define('TXT',_txt,'Opis zlecenia'@,,200,100,0);
   def_btn('text=%1'['Zapisz'@],'key:F2');
   def_btn('text=%1'['Anuluj'@],'key:Esc');
   {? def_edit(,FUN.TYT)
   || {? DEFINE.TXT=''
      || _a.save('#B')
      || _a.save(DEFINE.TXT)
      ?}
   ?};
   undefine()
?};
~~


\p500100
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500100
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('zpwyd_wyb','params',_a.get(),"1+ZPWYD.PWYD<>'~'",1));
~~


\p8002
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8002
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('zpwyd_wyb','params',_a.get(),"1+ZPWYD.PWYD<>'~'",1));
~~


\p500366
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła do redagowania parametru 500366 - Sposób przypisywania zestawu startowego do obiektu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Sposób przypisywania zestawu startowego do obiektu'@,,'Brak'@,'Domyślny'@,'Wg &przepisu'@);
{? _choice=1
|| _a.save(exec('kind_none','px_set'))
|? _choice=2
|| _a.save(exec('kind_default','px_set'))
|? _choice=3
|| _a.save(exec('kind_pxtex','px_set'))
?};
~~


\p500104
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500104 - domyślna ilość na przewodniku
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice('Domyślna ilość na przewodniku:'@,,'Wielkość zlecenia'@,'Optymalna seria'@);
{? _choice=1
|| _interface.save('Z')
|? _choice=2
|| _interface.save('S')
?};
~~


\p8060
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 8060 - Domyślny widok planu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

PX_VIEW.cntx_psh();

_wer:=PX_VIEW.mk_sel('Widoki planu strategicznego'@,'P',0,'pxviewfo');
PX_VIEW.win_fld(_wer,,'SYMBOL',,,20);
PX_VIEW.win_fld(_wer,,'LEVEL',,,20);
PX_VIEW.win_fld(_wer,,'OFFSET',,,10);
PX_VIEW.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
PX_VIEW.win_sel(_wer);

PX_VIEW.index('SYMBOL');
PX_VIEW.clear();
{? FO.TR<>'\'\''
||
   _view_sym:=1-FO.TR-1;
::       Ustawiam sie na poprzednio ustawionym rekordzie
   PX_VIEW.find_key(_view_sym,_view_sym)
|| PX_VIEW.first()
?};

_selres:=PX_VIEW.select(,1,5);

{? _selres>0
|| _interface.save(PX_VIEW.SYMBOL)
?};
PX_VIEW.cntx_pop();
~~


\p8063
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 8063 - Domyślny zestaw planistyczny
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

PX_SETU.cntx_psh();

_wer:=PX_SETU.mk_sel('Zestawy planu strategicznego'@,'P',0,'pxsetfo');
PX_SETU.win_fld(_wer,,'PX_SET','SYMBOL',,50);
PX_SETU.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
PX_SETU.win_sel(_wer);

PX_SETU.index('USERS');
PX_SETU.prefix(USERS.ref());
{? _interface.get()<>''
||
   _set_sym:=1-_interface.get()-1;
:: Ustawiam sie na poprzednio ustawionym rekordzie
   PX_SETU.find_key(_set_sym)
|| PX_SETU.first()
?};

_selres:=PX_SETU.select(,1,5);

{? _selres>0
|| _interface.save(PX_SETU.PX_SET().SYMBOL)
?};
PX_SETU.cntx_pop();
~~


\p8064
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Formuła na redagowanie parametru 8064 - Filtr obiektów do kolejki
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=exec('px_obj_filter','px_obj',0);

{? type_of(_val)=type_of('') & _val<>''
|| _interface.save(_val)
?};
~~


\p8065
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Formuła na redagowanie parametru 8064 - Filtr obiektów do kolejki
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_names:=obj_new(3);
_names[1]:='Wszystkie'@;
_names[2]:='Aktywne'@;
_names[3]:='Nieaktywne'@;

_vals:=obj_new(3);
_vals[1]:='W';
_vals[2]:='T';
_vals[3]:='N';

_edit:=exec('edit_radiobutton','#edit',_interface.get(),'Aktywność'@,_names,_vals,'Parametry zakresu'@);

{? type_of(_edit)=type_of('') & _edit<>''
|| _interface.save(_edit)
?};
~~


\p8066
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Formuła na redagowanie parametru 8064 - Filtr obiektów do kolejki
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_names:=obj_new(3);
_names[1]:='Wszystkie'@;
_names[2]:='Używane'@;
_names[3]:='Nieużywane'@;

_vals:=obj_new(3);
_vals[1]:='W';
_vals[2]:='T';
_vals[3]:='N';

_edit:=exec('edit_radiobutton','#edit',_interface.get(),'Użycie'@,_names,_vals,'Parametry zakresu'@);

{? type_of(_edit)=type_of('') & _edit<>''
|| _interface.save(_edit)
?};
~~


\p500213
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 500213
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='Z'"));
~~


\p500215
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 500215
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='W'"));
~~


\p500011
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500011 - Typ zamówienia wewnętrznego do realizacji limitów zleceń
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_wyn:=(exec('typyzam_wyb','params',_a.get()
 ,"TYPYZAM.R='W' & (TYPYZAM.TYPYDOK=null() | TYPYZAM.TYPYDOK().ZLEC='T')",1));

:: Sprawdzam czy wybrany typ zamówienia posiada odpowiedni magazynowy dokument realizacji dla limitów zleceń
_res:=0;
TYPYZAM.cntx_psh();
TYPYZAM.index('TYPN');
TYPYZAM.prefix(_wyn);
{? TYPYZAM.first
|| {? TYPYZAM.TYPYDOK<>null
   || TYPYDOK.cntx_psh();
      {? TYPYZAM.TYPYDOK().Z='N' &  TYPYZAM.TYPYDOK().P='N' & TYPYZAM.TYPYDOK().DS='N' & TYPYZAM.TYPYDOK().DK='N'
        & TYPYZAM.TYPYDOK().INW='N'
      ||
::       Wyszukuje listę dostępnych typów rozchodowych zlecenia
         _lista:=exec('get','#params',500707,2,null());
         _TypDok:=_lista;
         {? _TypDok<>''
         || _tab:=spli_str(_TypDok,' ');
            _ii:=0;
            {!
            |? _ii+=1;
               {? TYPYZAM.TYPYDOK().T=_tab[_ii]
               || _res:=1
               ?};
               _res=0 & _ii<obj_len(_tab)
            !}
         || {? TYPYZAM.TYPYDOK().ZLEC='T' & TYPYZAM.TYPYDOK().WYR='N' || _res:=1 ?}
         ?}
      ?};
      TYPYDOK.cntx_pop()
   || _res:=1
   ?};
:: Jeżeli ty dokumentu jest prawidłowy to zapisuje, jeżeli nie to daje możliwość zmiany typu dokumentu na prawidłowy
:: ( o ile użytkownik ma uprawnienia do modyfikacji typu zamówienia wewnętrznego)
   {? _res
   || _a.save(_wyn)
   || _msg:='Wybrany typ zamówienia wewnętrzenego ma przypisany niewłaściwy typ dokumentu realizacji.\n\n'
            'Typ dokumentu realizującego musi być powiązany ze zleceniem\n'
            'oraz znajdować się na liście dostępnych typów rozchodowych zlecenia (parametr %1).'@['500707'];

      _upr:=exec('chk_role','#b__box',OPERATOR.USER,'ZWS_PAR_LTZW');
      {? _upr
      || _msg+='\n'+'Czy zmienić typ dokumentu realizacji na odpowiedni?'@;
         {? FUN.ask(_msg)
         ||
::          Najpierw sprawdzam czy lista dostępnych typów rozchodowych zlecenia jest wypełniona (par 500707). Jeżeli tak
::          to wyświetlam ją, jeżeli nie to wyświetlam wszystkie pasujące typy dokumentów
            _fo_tr:=exec('get','#params',500707,2,null());
            {? _fo_tr='' | (_typy:=exec('GetTabFromList','#table','TYPYDOK','T',_fo_tr);_typy.first()=0)
            ||
::             Par 500707 niewypełniony
               _where:='TYPYDOK.P=\'N\' and TYPYDOK.ZLEC=\'T\' and TYPYDOK.WYR=\'N\'';
               _typydok:=sql('select T, NAZ, \'\' SELECTED,\'\' DEFAULT, \'\' BANNED  from TYPYDOK where '+_where+' order by 1');
               {? exec('typydok_select','params',_typydok,,0,1,0)>0
               || _typ:=exec('FindInSet','#table','TYPYDOK','TYP',_typydok.T,,"TYPYDOK.ref",,,null);
                  {? _typ<>null
                  || TYPYZAM.TYPYDOK:=_typ;
                     {? TYPYZAM.put
                     || _a.save(_wyn)
                     ?}
                  ?}
               ?}
            || params_set('interface',_a);
               _typydok:=exec('typydok_tab','params');
               _select:=exec('typydok_select','params',_typydok,_typy,0,1,,,1);
               {? _select>0
               || _typ:=exec('FindInSet','#table','TYPYDOK','TYP',_typydok.T,,"TYPYDOK.ref",,,null);
                  {? _typ<>null
                  || TYPYZAM.TYPYDOK:=_typ;
                     {? TYPYZAM.put
                     || _a.save(_wyn)
                     ?}
                  ?}
               ?}
            ?}
         ?}
      || FUN.info(_msg)
      ?}
   ?}
?};
TYPYZAM.cntx_pop();
~~


\p500014
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500011 - Sposób ustalania magazynu dla limitów zlecenia
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_input:=_a.get();
_choice:=FUN.choice(
   'Magazyn dla limitów zlecenia będzie ustalony według kartoteki:'@,
   {? _input='D' || 1 |? _input='X' || 2 |? _input='S' || 3 || 0 ?},
   'Domyślnie'@,
   'Materiałów przypisanych do mag.'@,
   'Stanów minimalnych/maksymalnych'@
);
{? _choice=1
|| _a.save('D')
|? _choice=2
|| _a.save('X')
|? _choice=3
|| _a.save('S')
?};
~~


\p500004
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500004 - Domyślny magazyn surowców
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.KOOP='N'",1));
~~


\p500005
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500005 - Domyślny magazyn półproduktów
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.KOOP='N'",1));
~~


\p500017
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500017 - Domyślny magazyn odpadów
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.KOOP='N'",1));
~~


\p8761
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8761 - Plan strategiczny - szczegółowa rejestracja wykonań
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p500611
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500611 - Dostępność dla przewodników zleceń
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_restart','params',_a);
~~


\p500612
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500612 - Dostępność dla planu operacyjnego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_restart','params',_a);
~~


\p500613
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500613 - Dostępność dla planu strategicznego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_restart','params',_a);
~~


\tak_nie_restart
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru: Tak/Nie - w przypadku zmiany informacja o wymaganym restarcie
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz sposób obsługi:'@,,'Tak'@,'Nie'@);

_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'N'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get()
|| _a.save(_choice);
   FUN.emsg('Po zmianie wartości parametru wymagane jest ponowne uruchomienie wszystkich instancji programu.'@)
?};
~~


\p500621
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500621 - Synchronizacja wykonan miedzy ZL i PL
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Synchronizacja wykonań:'@,,'Zlecenia ► Plan operacyjny'@,'Plan operacyjny ► Zlecenia'@);

_choice:={? _choice=1 || 'Z'
         |? _choice=2 || 'P'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get()
|| _a.save(_choice);
   FUN.emsg('Po zmianie wartości parametru wymagane jest ponowne uruchomienie wszystkich instancji programu.'@)
?};
~~


\p500603
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500603 - Rejestracja robocizny - rubryka kwalifikacji godzin
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
R.cntx_psh();
R.win_sel('WYB');
R.index('RUBKLKOD');
R.prefix('R');
R.blank(1);
R.RN:=_a.get();
R.find_rec();
{? R.select(,1,5)
|| _a.save(R.RN)
?};
R.cntx_pop();
~~


\p500605
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500605 - Sposób wyliczania wartości robocizny
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Sposób wyliczania wartości robocizny:'@,,'Czas &planowany'@,'Czas &rzeczywisty'@);

_choice:={? _choice=1 || 'P'
         |? _choice=2 || 'R'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get()
|| _a.save(_choice)
?};
~~


\p500760
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500760 - Rozliczenie surowców w partii produktu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Rozliczenie surowców w partii produktu'@,,'Automat: &FIFO'@,'Automat: &LIFO'@,'Ręcznie'@);

_choice:={? _choice=1
         || exec('mode_fifo','magdok_partie')
         |? _choice=2
         || exec('mode_lifo','magdok_partie')
         |? _choice=3
         || exec('mode_manual','magdok_partie')
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get()
|| _a.save(_choice)
?};
~~


\p8600
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8600 - domyślny status dla widoku kontroli jakości
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
ZAKR.S:=_a.get();
ZAKR.win_edit('STATUS');
{? ZAKR.edit()
|| _a.save(ZAKR.S)
?};
~~


\p8601
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MagLak [17.00]
:: OPIS: Formuła na redagowanie parametru 8601 - domyślny status dla widoku kooperacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
ZAKR.S:=_a.get();
ZAKR.win_edit('STATUS');
{? ZAKR.edit()
|| _a.save(ZAKR.S)
?};
~~


\p8602
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MagLak [17.00]
:: OPIS: Formuła na redagowanie parametru 8602 - domyślny widok kooperacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Domyślny widok kooperacji'@,,'Magazynowe'@,'Produkcyjne'@);
_choice:={? _choice=1
         || 'M'
         |? _choice=2
         || 'S'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get()
|| _a.save(_choice)
?};
~~


\answer2str
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła zwraca napis zawarty w wybranej odpowiedzi - odpowiednik ask-a
::   WE: [_a] - odpowiednik odpowiedzi Tak (domyślnie: 'T')
::       [_b] - odpowiednik odpowiedzi Nie (domyślnie: 'N')
::       [_c] - ewentulane pytanie (domyślnie to co dla ask-a)
::   WY: wybrana napis
::----------------------------------------------------------------------------------------------------------------------
_yes:={? var_pres('_a')=type_of('') || _a || 'T' ?};
 _no:={? var_pres('_b')=type_of('') || _b || 'N' ?};
_ans:={? var_pres('_c')=type_of('') || _c || '' ?};

_wyn:={? FUN.ask(_ans) || _yes || _no ?};
_wyn


\p500711
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500711 - sposób wyceny dokumentów RP
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice(_interface.name(),,'Kalkulacja TKW'@,'Kalkulacja &zlecenia'@,'Analiza zlecenia'@,'Ręcznie'@);
{? _choice=1
|| _interface.save('K')
|? _choice=2
|| _interface.save('Z')
|? _choice=3
|| _interface.save('A')
|? _choice=4
|| _interface.save('R')
?};
~~


\p500380
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru:
::       500380 - Norma czasowa operacji technologicznej wypełnia wymiar zasobu o jednostce
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params',_interface.get());
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p500381
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru:
::       500381 - Czas maszynowy operacji technologicznej wypełnia wymiar zasobu o jednostce
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params',_interface.get());
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p500382
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru:
::       500382 - Czas kooperacji wypełnia wymiar zasobu kooperacyjnego o jednostce
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params',_interface.get());
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p500383
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru:
::       500383 - Jednostka miary oznaczająca minuty
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params',_interface.get());
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p500390
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Formuła na redagowanie parametru:
::       500390 - Planowanie grup operacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=exec('edit_boolean','#edit',_interface.get(),_interface.name());
{? type_of(_val)>0
|| {? _val='T'
   || {? exec('get','#params',500365,type_of(''))='T'
      || _interface.save(_val)
      || FUN.emsg('Aby można było włączyć planowanie grup operacji, wymagana jest praca na jednej wersji planu (paramstr: %1)'@['500365'])
      ?}
   || _interface.save(_val)
   ?}
?};
~~


\pozoper_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Wybór operacji kasowej
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[20]','Kod'
      ,'NAZ','STRING[60]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

POZOPER.cntx_psh();
POZOPER.index('KOD');
POZOPER.prefix();
{? POZOPER.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.SYM:=form(POZOPER.OPER().KOD,-8)+form(POZOPER.KOD,-9);
         _tab.NAZ:=POZOPER.NAZWA;
         _tab.REF:=$POZOPER.ref();
         _tab.ACCESS:={? ~_c
                      || {? (' '+_par+',')*(' '+form(POZOPER.OPER().KOD,-8)+form(POZOPER.KOD,-9)+',') || 'T' || 'N' ?}
                      || {? _par=form(POZOPER.OPER().KOD,-8)+form(POZOPER.KOD,-9) || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      POZOPER.next()
   !}
?};
POZOPER.cntx_pop();

_sel:=_tab.mk_sel('Wybór operacji kasowej'@,'P',,'fo_stfis',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór operacji kasowej?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór operacji kasowej?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+', '
            ?};
            _tab.next()
         !}
      ?};
      _wyn:=(_wyn-2)
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p100303
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła na redagowanie parametru 100303
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
__choice:=_a.get();

_Choice:=tab_tmp(1,'AKR','STRING[8]','Akronim','O','STRING[50]','Opis');
_Choice.AKR:=''; _Choice.O:='Nie wypełniaj'; _Choice.add();
_Choice.AKR:='PL'; _Choice.O:='Płatność'; _Choice.add();
_Choice.AKR:='RAB'; _Choice.O:='Rabat'; _Choice.add();
_wer:=_Choice.mk_sel('Automatycznie wypełniaj'@,,,'fasojfioqwejffj');
_Choice.win_fld(_wer,,'AKR',,,8,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,30,,,'Opis'@);

_fb:="
   __choice:=_sep:='';
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget(); {? ~_Sel.first() || _Sel.REF:=#_Tab.ref(); _Sel.add() ?};
   _loop:=_Sel.first();
   {!
   |? _loop
   |!
      {? _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || __choice+=_sep+_Tab.AKR; _sep:='|' ?};
      _loop:=_Sel.next()
   !};
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Akceptuj'@@,,,_fb,,1,1,_fb,,'A');
_Choice.win_sel(_wer);
_Choice.select();
_a.save(__choice);
VAR_DEL.delete('__choice');
~~


\p8603
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 8603
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Domyślny status dla widoku badań:'@
          ,,'Wszystkie'@,'Powołane'@,'Zatwierdzone'@,'W&ykonane'@);
_choice:={? _choice=1 || 'A'
         |? _choice=2 || 'P'
         |? _choice=3 || 'Z'
         |? _choice=4 || 'W'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p100902
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 100902
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_choice:=FUN.choice(_interface.name(),,'Uruchomienia'@,'Utworzenia'@);
{? _choice=1
|| _interface.save('Uruchomienia')
|? _choice=2
|| _interface.save('Utworzenia')
?};
~~


\p500353
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 500353
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,0,1,40);
~~


\p8771
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 8771 - Zakres pracowników (rejestracja wykonań)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('zakres_pracownikow_core','prod_rej',_interface.get());
_interface.save(_value);
~~


\p8604
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [17.00]
:: OPIS: Formuła na redagowanie parametru 8604
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_choice:=FUN.choice(_interface.name(),,'Wszystkie'@,'Do kwalifikacji ilościowej'@,'Do &badania'@);
{? _choice=1
|| _interface.save('A')
|? _choice=2
|| _interface.save('P')
|? _choice=3
|| _interface.save('B')
?};
~~


\p500015
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500015: Czy wymagać sprawdzenia limitów przed akceptacją?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_p500660:=exec('get','#params',500660,2);

_interface:=_a;
_val:=exec('edit_boolean','#edit',_interface.get(),_interface.name());
{? type_of(_val)=2
|| {? _val='T' & _p500660='T'
   || FUN.emsg('Parametr nie może mieć wartości \'T\', jeżeli parametr %1 ma wartość \'T\'.'@['500660'])
   || _interface.save(_val)
   ?}
?};
~~


\p500660
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.00]
:: OPIS: Formuła na redagowanie parametru 500660: Uproszczona edycja limitów surowcowych na zleceniach
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_p500015:=exec('get','#params',500015,2);

_interface:=_a;
_val:=exec('edit_boolean','#edit',_interface.get(),_interface.name());
{? type_of(_val)=2
|| {? _val='T' & _p500015='T'
   || FUN.emsg('Parametr nie może mieć wartości \'T\', jeżeli parametr %1 ma wartość \'T\'.'@['500015'])
   || _interface.save(_val)
   ?}
?};
~~


\p500641
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.14]
:: OPIS: Formuła na redagowanie parametru 500641: Długość kodu kreskowego identyfikatora pracownika
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_p500641:=exec('get','#params',500641,2);

_interface:=_a;
_val:=exec('edit_number','#edit',_interface.get(),_interface.name(),0,13,30);
{? type_of(_val)=type_of(0)
|| _interface.save(_val)
?};
~~


\p700013
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła na redagowanie parametru 700013: Stopka wiadomości
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_memo','#edit',_interface.get(),_interface.name(),,,8);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p700014
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.42]
:: OPIS: Formuła na redagowanie parametru 700014 - Domyślny wzorzec wiadomości
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=exec('edit_string','#edit',
   _interface.get(),
   _interface.name(),
   "exec('template_ae','#mailbox',cur_tab(1,1).VAL)",
   "exec('template_f3','#mailbox')"
);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p700015
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła na redagowanie parametru 700013: Styl wiadomości
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_buttons:=obj_new(1);
_buttons[1]:=obj_new('NAME','RULE');
_buttons[1].NAME:='Importuj';
_buttons[1].RULE:="
   {? FUN.ask('Czy zaimportować standardową treść stylu wiadomości?'@)
   || _style:=exec('style_standard','#email');
      _tab:=cur_tab(1,1);
      _tab.memo_set(_style,'MEMO')
   ?};
   ''
";
_val:=exec('edit_memo','#edit',_interface.get(),'Styl wiadomości'@,,,20,,,,_buttons);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p6500
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [17.42]
:: OPIS: Formuła na redagowanie parametru 6500 - Zakres pracowników
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('widok_karo','wyp_head',_interface.get());
_interface.save(_value);
~~


\p6520
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [17.42]
:: OPIS: Formuła na redagowanie parametru 6520 - Zakres pracowników (wyposażenie)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('zakres_pracownikow_core','prod_rej',_interface.get());
_interface.save(_value);
~~


\p700502
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła do redagowania parametru 700502 - Numeracja poleceń wydania
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('numery_wybierz','params','POLWO',_interface.get());
_interface.save(_value);
~~


\p700503
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła do redagowania parametru 700503 - Numeracja list zapotrzebowania
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('numery_wybierz','params','ODZAM',_interface.get());
_interface.save(_value);
~~


\numery_wybierz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Wybór sposobu numeracji
::   WE: _a - akronim tabeli do numerowania
::       _b - aktualna wartość parametru
::----------------------------------------------------------------------------------------------------------------------
NRDOK.win_sel('WER_TEN');
NRDOK.win_edit('RED');
NRDOK.index('NRDOK_AB');
NRDOK.prefix(_a,);
NRDOK.find_key(_b);
{? NRDOK.select(,1,2) || _value:=NRDOK.TYP || _value:=_b ?};
_value


\p700530
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła na redagowanie parametru 700530 - Domyślny magazyn wyposażenia
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('mg_wyb','params',_a.get(),"MG.KOOP='N' & MG.TYP*'DOST'",1));
~~


\p700702
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [20.42]
:: OPIS: Formuła na redagowanie parametru 700702
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_old:=_a.get();
_new:=exec('wyb_oddz','params',_a.get());
_a.save(_new)


\skid_blb_edit
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła na redagowanie parametrów z BLOBami
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       _b - Wzorzec plików
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_id:='fo_'+$_interface.nr();
_pattern:=_b;
SKID_BLB.index('ID');
SKID_BLB.prefix(_id,);
{? ~SKID_BLB.first() || SKID_BLB.ID:=_id; SKID_BLB.add() ?};
_red:=SKID_BLB.mk_edit(FUN.TYT);
SKID_BLB.fld_fml('BLOB','PATTERN',$(''''+_pattern+''''));
SKID_BLB.win_efld(_red,,'BLOB',,,50,,,(59+_interface.name())+'…',,,,'F3_button=1');
SKID_BLB.win_ebtn(_red,'text=%1'['Zapisz'@],'key:F2');
SKID_BLB.win_ebtn(_red,'text=%1'['Anuluj'@],'key:Esc');
SKID_BLB.win_edit(_red);
SKID_BLB.bl_file('BLOB',1);
{? SKID_BLB.edit()
|| {? SKID_BLB.put()
   || {? (_file:=SKID_BLB.bl_file('BLOB'))<>''
      || SKID_BLB.bl_put('BLOB',_file)
      ?};
      {? SKID_BLB.BLOB<>null()
      || _val:=SKID_BLB.bl_info('BLOB','NAME')
      || _val:=''
      ?};
      _interface.save(_val)
   ?}
?};
SKID_BLB.bl_file('BLOB',1);
SKID_BLB.fld_fml('BLOB','PATTERN',"*");
~~


\skid_blb_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [17.42]
:: OPIS: Formuła na wartość domyślną parametrów z BLOBami
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_id:='fo_'+$_interface.nr();
SKID_BLB.index('ID');
SKID_BLB.prefix(_id,);
{? SKID_BLB.first() || SKID_BLB.BLOB:=null(); SKID_BLB.put() ?};
_interface.save('');
~~


\p300164
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [18.02]
:: OPIS: Formuła na redagowanie parametru 300164
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=_interface.get();
_sep:='|';

_Tab:=tab_tmp(1
   ,'KOD'   ,'STRING[20]'  ,'Stanowisko'
   ,'REF'   ,'STRING[16]'  ,'$FIS.ref()'
   ,'SEL'   ,'STRING[1]'   ,'Wybrane');
FIS.cntx_psh();
FIS.index('KOD');
FIS.prefix();
_loop:=FIS.first();
{!
|? _loop
|!
   _Tab.KOD:=FIS.KOD;
   _Tab.REF:=$FIS.ref();
   _Tab.SEL:={? _val*(_sep+FIS.KOD+_sep) || 'T' || 'N' ?};
   _loop:=_Tab.add() & FIS.next()
!};
FIS.cntx_pop();

_wer:=_Tab.mk_sel('Drukować NIP na paragonie'@,,,'fis_nip',,,15,,'U');
_Tab.win_fld(_wer,,'SEL',,,,,,'Wybrane'@,,,2,,"'T'","'N'");
_Tab.win_fld(_wer,,'KOD',,,20,,,'Stanowisko fiskalne'@);
_fb:="
   _Tab:=cur_tab();
   _Tab.SEL:={? _Tab.SEL='T' || 'N' || 'T' ?};
   _Tab.put()
";
_Tab.win_act(_wer,,'Formuła','Wybierz'@@,,,_fb,,1,1,,,'W');
_Tab.win_btn(_wer,'text=%1, panel=right, align=begin'['Wybierz'@],'menu:W',,,,,,'noempty');
_fb:="
   sel_exit()
";
_Tab.win_act(_wer,,'Formuła','Akceptuj'@@,,,_fb,,,,,,'A');
_Tab.win_btn(_wer,'text=%1, panel=bottom, align=end'['Akceptuj'@],'menu:A',,,,,,'noempty');
_Tab.win_btn(_wer,'text=%1, panel=bottom, align=end'['A&nuluj'@],'key:Esc');
_Tab.win_sel(_wer);
{? _Tab.select()
||
   _val:='';
   _fsep:=_sep;
   _loop:=_Tab.first();
   {!
   |? _loop
   |!
      {? _Tab.SEL='T'
      ||
         _val+=_fsep+_Tab.KOD+_sep;
         _fsep:=''
      ?};
      _loop:=_Tab.next()
   !};
   _interface.save(_val)
?};
~~


\p1900
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [WH] [18.22]
:: OPIS: Formuła na redagowanie parametru 190
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_edited:=exec('edit_radiobutton','#edit',_interface.get(),_interface.name(),exec('jm_symbols','#b_stats'),exec('jm_values','#b_stats'));
{? type_of(_edited)=type_of(0) & _edited>0
|| _interface.save(_edited)
?};
~~


\p100001
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [18.22]
:: OPIS: Formuła na redagowanie parametru 100001
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_env:=obj_new('example','file','label','width','height');

_env.example:=
':!UTF-8\n'
':: (c) Macrologic S.A. Wszelkie prawa zastrzeżone\n'
'::======================================================================================================================\n'
':: Nazwa pliku: qparams.fml\n'
':: Utworzony: xx.xx.xxxx\n'
':: Autor: xxx\n'
'::======================================================================================================================\n'
':: Zawartość: Formuły zasilające i obsługujące redakcję parametrów w mechanizmie uniwersalnych parametrów aplikacji\n'
'::======================================================================================================================\n\n'

'\\init\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'::  UTW: xxx [18.22]\n'
':: OPIS: Formuła obowiązkowa.\n'
'::       Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry wdrożeniowe aplikacyjne\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'_par:=exec(\'add\',\'#params\'
 ,999001
 ,\'Parametr wdrożeniowy przykładowy bez formuły na redakcję\'
 ,\'T\'
 ,\'\');
exec(\'bind\',\'#params\',_par,\'ZWS\');

_par:=exec(\'add\',\'#params\'
 ,999002
 ,\'Parametr wdrożeniowy przykładowy z formułą\'
 ,\'\'
 ,\'\');
exec(\'bind\',\'#params\',_par,\'ZWS\');

~~
'
'\n\n'

'\\init_usr\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'::  UTW: xxx [18.22]\n'
':: OPIS: Formuła obowiązkowa.\n'
'::       Inicjuje mechanizm uniwersalnych parametrów aplikacji - tworzy parametry wdrożeniowe aplikacyjne\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'_par:=exec(\'add_user\',\'#params\'
 ,9990
 ,\'Parametr wdrożeniowy użytkownika\'
 ,1
 ,\'\');
'
':: Dziedzina produktowa do której należy parametr'
'
exec(\'bind\',\'#params\',_par,\'ZWS\');

~~
'
'\n\n'
'\\p999002\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'::  UTW: xxx [18.22]\n'
'::   WE: _a - obj_new - obiekt umożliwiający zapis parametru\n'
':: OPIS: Formuła na redakcję parametru 999002\n'
'::----------------------------------------------------------------------------------------------------------------------\n'
'_interface:=_a;
_choice:=FUN.choice(\'Podaj wartość dla parametru: %1\'@[_interface.name()],,\'1\',\'2\',\'3\');
{? _choice=1
|| _interface.save(\'1\')
|? _choice=2
|| _interface.save(\'2\')
|? _choice=3
|| _interface.save(\'3\')
?};
~~

';

_env.label:='Podpowiedź'@;
_title:=FUN.TYT;
_env.width:=120;
_env.height:=11;
_valid:="
   _result:='';
   _file:=cur_tab(1,1).FILE;
   {? _file<>''
   || {? _file*'.fml'=0
      || _file+='.fml'
      ?};
      {? fexists(_file,1)=0
      || FUN.emsg('Nie znaleziono pliku: %1 w strukturze folderów serwera.'@[cur_tab(1,1).FILE]);
         _result:='FILE'
      ?};
      {? _result='' & _file='params.fml'
      || FUN.emsg('Plik : %1 nie może być użyty jako plik z parametrami wdrożeniowymi.'@[cur_tab(1,1).FILE]);
         _result:='FILE'
      ?}
   ?};
   _result
";

_tab:=tab_tmp(1,'LP','INTEGER',''
               ,'MEMO','SYS_MEMO',_env.label
               ,'HINT','SYS_MEMO',_env.label
               ,'FILE','STRING[120]','Nazwa pliku');
_tab.memo_set(_env.example,'MEMO');

_hint:='Aby parametry wdrożeniowe zostały wczytane do systemu należy:
1. Umieścić plik .fml w strukturze folderów serwera (preferowana ścieżka: modified/fml/client, preferowana nazwa pliku qparams.fml)
2. Wskazać ten plik w polu powyżej
3. Plik powinien mieć co najmniej dwie formuły: init oraz init_usr
4. Zasady dodawania parametrów są identyczne jak w standardzie (patrz plik params.fml w katalogu lib)
5. Numery parametrów wdrożeniowych mogą się powtarzać ze standardowymi, ale w ramach wdrożeniowych muszą być unikalne

Aby skorzystać z parametrów wdrożeniowych (pobrać wartość) należy użyć formuły

exec(\'get_w\',\'#params\',nr_parametru,[type_of(?)],[użytkownik o ile parametr użytkownika])

Aby ustawić programowo wartość parametru wdrożeniowego należy użyć formuły

exec(\'set_w\',\'#params\',nr_parametru,wartość,[użytkownik o ile parametr użytkownika])
';
_tab.memo_set(_hint,'HINT');

_tab.FILE:=_interface.get();
_env.file:=_tab.FILE;

_edit:=_tab.mk_edit(_title,,,1);
_tab.win_edit(_edit);
_fml_f3:="
   _result:=exec('select_file','#file','*.fml',cur_tab(1,1).FILE);
   {? _result=''
   || _result:=cur_tab(1,1).FILE
   ?};
   _result
";
_tab.fld_fml('FILE','F3',_fml_f3);

_tab.win_efld(_edit,,'FILE',,,117,,,'Plik z parametrami wdrożeniowymi'@,,,,'F3_button=1');
_tab.win_efld(_edit,,'HINT',,,_env.width,-_env.height,1,_env.label);


_fml:="
   cur_tab(1,1).memo_vie(2,'MEMO');
   ''
";
_tab.win_ebtn(_edit,'text=%1,panel=bottom,align=begin'['Przykładowy plik'@],_fml);
_tab.win_ebtn(_edit,'text=%1'['Zapisz'@],'key:F2');
_tab.win_ebtn(_edit,'text=%1'['Anuluj'@],'key:Esc');

_val:=~~;
{? _tab.edit(_valid)
|| _val:=_tab.FILE
?};

{? type_of(_val)>0
|| _interface.save(_val);
   BEER.NAWIGTEN:=1;
   exec('init','params');
   exec('upgrade_usr','#params');
   sel_exit()
?};
~~


\p600050
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 600050
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Czy wyszczególniać nieaktywne dostawy na arkuszu inwentaryzacji ciągłej?'@
          ,,'Tak'@,'Nie'@,'Wg daty'@);
_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'N'
         |? _choice=3 || 'W'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p600902
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [18.22]
:: OPIS: Formuła na redagowanie parametru 600902
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_kod:=_interface.get();
_win:=KH.win_sel('?');
KH.win_sel('SEL');
KH.cntx_psh();
KH.index('KOD');
KH.prefix(2);
KH.find_key(_kod);
{? KH.select(,1) || _kod:=KH.KOD || _kod:='' ?};
{? _kod<>''
|| _interface.save(_kod)
?};
KH.cntx_pop();
KH.win_sel(_win);
~~


\p500741
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [18.22]
:: OPIS: Formuła do redagowania parametru 500741
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_opcja1:='Tylko półfabrykaty i surowce'@;
_opcja2:='Wszystkie oprócz handlowych'@;
_opcja3:='Nie filtrować (cała kartoteka)'@;

_msg:='%1:\n\n'
      '\'T\' - %2\n'
      '\'W\' - %3\n'
      '\'N\' - %4'[_interface.name(),_opcja1,_opcja2,_opcja3];

_default:=0;
_current:=_interface.get();
{? _current='T'
|| _default:=1
|? _current='W'
|| _default:=2
|? _current='N'
|| _default:=3
?};
_choice:=FUN.choice(_msg,_default,_opcja1,_opcja2,_opcja3);

{? _choice=1
|| _interface.save('T')
|? _choice=2
|| _interface.save('W')
|? _choice=3
|| _interface.save('N')
?};

~~


\p500370
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [18.42]
:: OPIS: Formuła do redagowania parametu 500370
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice(
                     'Algorytm polepszający przejścia operacyjne.\n\n'
                     'Dostępne możliwości:\n\n'
                     '● Brak (dostępne jest standardowe nakładkowanie)\n'
                     '● Proporcja ilościowa (operacje są inteligentnie nakładkowane wg proporcji ilościowej)\n'
                     '● Proporcja czasowa (operacje są inteligentnie nakładkowane wg proporcji czasowej)'@,,
                     'Brak'@,'Proporcja ilościowa'@,'Proporcja czasowa'@
                   );
_rebuild:=0;
_old_val:=_interface.get();
_new_val:='';
{? _choice=1
|| _new_val:=exec('oper_nast_standard','px_param');
   {? exec('p500370_validate','params',_interface,_new_val)
   || _rebuild:=1;
      _interface.save(_new_val)
   ?}
|? _choice=2
|| _new_val:=exec('oper_nast_il','px_param');
   {? exec('p500370_validate','params',_interface,_new_val)
   || _rebuild:=1;
      _interface.save(_new_val)
   ?}
|? _choice=3
||
   _new_val:=exec('oper_nast_time','px_param');
   {? exec('p500370_validate','params',_interface,_new_val)
   || _rebuild:=1;
      _interface.save(_new_val)
   ?}
?};
{? _rebuild>0 & _old_val<>_new_val
|| _tm_start:=SYSLOG.tm_stamp()-exec('day','#tm_stamp');
   {? exec('rebuild_cups','px_kont',,_tm_start)=0
   ||
::    Jeżeli nie udało się odtworzyć pojemników to przywracam starą wartość parametru
      _interface.save(_old_val);
      FUN.emsg('Nie udało się odtwarzanie pojemników na zasobie. Parametr nie może zmienić wartości.'@)
   ?}
?};
~~


\p500370_validate
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [18.42]
:: OPIS: Weryfikuje czy nowa wartość parametru 500370 nadaje się do zapisania
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       _b - ANY - nowa wartość parametru
::       [_c] - INTEGER czy wyświetlać komunikaty na ekran
::   WY: 0 - porażka, nie można zapisać parametru
::       1 - sukces
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_new_val:=_b;
_dialog:=1;
{? var_pres('_c')=type_of(0)
|| _dialog:=_c
?};

_result:=1;

{? _new_val=exec('oper_nast_time','px_param')
|| _result:=0;
:: Sprawdzam czy nie ma kolizji z parametrem 500356
   _p500356:=exec('get','#params',500356);
   _other_iface:=exec('interface','#params','A',,500356);
   {? _p500356=exec('delays_move','px_param')
   || _msg:='Konflikt konfiguracji.\n\n'
            'Parametr: \'%1\' ma wartość uniemożliwiającą ustawienie parametru:\n'
            '\'%2\''@[$_other_iface.nr()+' '+_other_iface.name(),$_interface.nr()+' '+_interface.name()];
      FUN.emsg(_msg)
   || _result:=1
   ?};
:: Sprawdzam czy nie ma kolizji z parametrem 500356
   _p500365:=exec('get','#params',500365);
   {? var_pres('_other_iface')>100
   || obj_del(_other_iface)
   ?};
   _other_iface:=exec('interface','#params','A',,500365);
   {? _p500365='N'
   || _msg:='Konflikt konfiguracji.\n\n'
            'Parametr: \'%1\' ma wartość uniemożliwiającą ustawienie parametru:\n'
            '\'%2\''@[$_other_iface.nr()+' '+_other_iface.name(),$_interface.nr()+' '+_interface.name()];
      FUN.emsg(_msg)
   || _result:=1
   ?};

   {? _result>0
   ||
::    Sprawdzam czy wszystkie zasoby planu strategicznego mają jednostkę miary
::    czasową
      _jm1:=exec('get','#params',500380);
      _jm2:=exec('get','#params',500381);

      {? _dialog>0
      ||
::        deklaracje obiektow dla komentarzy
         {? var_pres('KOMM')<100
         || exec('JCQ_decl','#message');
            KOMM:=obj_new(@.CLASS.JCQ)
         ?};
         KOMM.init(250,'Kontrola jednostek miary w zasobach planu strategicznego')
      ?};

      {? _jm1='' & _jm2=''
      || _result:=0;

         {? _dialog>0
         || FUN.emsg('Nie zdefiniowano wartości parametru 500380 lub 500381'@)
         ?}
      ?};

      {? _result>0
      ||
         _jm_array:=obj_new(2);
         {? _jm1<>''
         || _jm_array[1]:=_jm1
         || _jm_array[1]:=''
         ?};
         {? _jm2<>''
         || _jm_array[2]:=_jm2
         || _jm_array[2]:=''
         ?};
         _result:=exec('chk_dimension','px_kont',_jm_array,0,,0);

         {? _dialog>0 & _result=0
         ||
            _msg:='Nie można ustawić parametru na żądaną wartość.\n\n'
                  'Aby umożliwić następstwo czasowe metodą proporcji czasowej\n'
                  'wszystkie aktywne zasoby planu strategicznego muszą mieć wymiar skończony w jednej z jednostek miary: \'%1\' lub \'%2\'\n'
                  '(jednostki te są określone przez parametry %3 i %4)'@[_jm1,_jm2,'500380','500381'];
            _choice:=FUN.choice(_msg,,'Szczegóły'@,,,,'Zamknij'@);
            {? _choice=1
            || KOMM.select()
            ?}
         ?}
      ?}
   ?}
?};
_result


\p4030
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Formuła na redagowanie parametru 4030
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wybierz domyślną zakładkę kartoteki materiałów/usług'@,,'Materiały'@,'Usługi'@);
_choice:={? _choice=1 || 'M'
         |? _choice=2 || 'U'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p4031
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Formuła na redagowanie parametru 4031
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_m_atr:=exec('select_m_atr','params',_interface.nr());
{? _m_atr<>''
|| _interface.save(_m_atr)
?};
~~


\p4032
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Formuła na redagowanie parametru 4032
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_m_atr:=exec('select_m_atr','params',_interface.nr());
{? _m_atr<>''
|| _interface.save(_m_atr)
?};
~~


\select_m_atr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Wybór wzorca budowy
::   WY: STRING - M_ATR.SYM lub ''
::----------------------------------------------------------------------------------------------------------------------
_result:='';
POMOC.TAT_M:='L';
_opis:='Atrybuty'@;
M_ATR.cntx_psh();
M_ATR.clear();
_wer:=M_ATR.mk_sel(_opis,'P',0,'matrsql',,,,,'U');
M_ATR.win_fld(_wer,,'SYM');
M_ATR.win_fld(_wer,,'NAZ',,,50);
M_ATR.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
M_ATR.win_sel(_wer);
M_ATR.index('TYP');
M_ATR.prefix('B');
{? M_ATR.select()
|| _result:=M_ATR.SYM
?};
M_ATR.cntx_pop();
_result


\p300211
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [18.42]
:: OPIS: Formuła na redagowanie parametru 300211
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
__interface:=_a;
_Choice:=tab_tmp(1,'AKR','STRING[30]','Akronim','O','STRING[50]','Opis');
_Choice.AKR:=''; _Choice.O:='Nie stosować'; _Choice.add();
_Choice.AKR:='KH|NIP_UE|KH_ODB|SKID_RBK'; _Choice.O:='Kontrahent, NIP UE, Odbiorca, Numer rachunku'; _Choice.add();
_Choice.AKR:='HAN'; _Choice.O:='Handlowiec'; _Choice.add();
_Choice.AKR:='D|DO'; _Choice.O:='Data sprzedaży, Data dostawy'; _Choice.add();
_Choice.AKR:='SP_WYM'; _Choice.O:='Wymagany split payment'; _Choice.add();
_wer:=_Choice.mk_sel('Pola uruchamiające korektę nagłówkową'@,,,'efdfkjweirjut');
_Choice.win_fld(_wer,,'AKR',,,30,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,50,,,'Opis'@);
_fb:="
   _choice:=_sep:='';
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget(); {? ~_Sel.first() || _Sel.REF:=#_Tab.ref(); _Sel.add() ?};
   _loop:=_Sel.first();
   {!
   |? _loop
   |!
      {? _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || _choice+=_sep+_Tab.AKR; _sep:='|' ?};
      _loop:=_Sel.next()
   !};
   __interface.save(_choice);
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Wybierz'@@,,,_fb,,1,1,_fb,,'W');
_Choice.win_sel(_wer);
_Choice.select();
VAR_DEL.delete('__interface')


\p500645
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Formuła na redagowanie parametru 500645
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_current:=_interface.get();
_default:='SKC'*_current;
_choice:=FUN.choice(
   'Wybierz sposób ustalania zmiany, na której zarejestrowano wykonanie:'@,_default,
   'wg godziny &startu'@,'wg godziny za&kończenia'@,'wg &czasu realizacji'@);
_choice:={? _choice=1 || 'S'
         |? _choice=2 || 'K'
         |? _choice=3 || 'C'
         || ''
         ?};
{? _choice<>'' || _interface.save(_choice) ?};
~~


\p500650
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [18.42]
:: OPIS: Formuła na redagowanie parametru 500650
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_val:=_interface.get();
_obj:=spli_str(_val,'|');
undefine();
define('ZM1',exec('str2time','#convert',_obj[2]),'%1. zmiana'@['1']);
define('ZM2',exec('str2time','#convert',_obj[3]),'%1. zmiana'@['2']);
define('ZM3',exec('str2time','#convert',_obj[4]),'%1. zmiana'@['3']);
def_btn('text=%1'['Zapisz'@],'key:F2');
def_btn('text=%1'['Anuluj'@],'key:Esc');
_valid:="
   _valid:=1;
   {? DEFINE.ZM1~1>23 | DEFINE.ZM2~1>23 | DEFINE.ZM3~1>23
   || FUN.info('Godzina rozpoczęcia zmiany nie może być większa niż %1.'@['23']);
      _valid:=0
   ?};
   {? _valid>0 & DEFINE.ZM1>=DEFINE.ZM2
   || FUN.info('%1. zmiana musi się zaczynać później niż %2. zmiana.'@['2','1']);
      _valid:=0
   |? _valid>0 & DEFINE.ZM2>=DEFINE.ZM3
   || FUN.info('%1. zmiana musi się zaczynać później niż %2. zmiana.'@['3','2']);
      _valid:=0
   ?};
   _valid
";
{? def_edit(_valid,'Początki zmian'@)
|| _interface.save('|%1|%2|%3|'[DEFINE.ZM1$3,DEFINE.ZM2$3,DEFINE.ZM3$3])
?};
undefine();
~~


\p4021
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [18.42]
:: OPIS: Formuła na redagowanie parametru 4021
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

MG.f_clear();
MG.clear();
MG.f_set('SYM,NAZ','','\"MG\".SL=\':_a\'','T');

{? _input<>''
|| EANX.USEREANL:=exec('FindAndGet','#table',EANL,_input,,,null());
   EANX.MG:=EANX.USEREANL().MG
|| EANX.MG:=null();
   EANX.USEREANL:=null()
?};
EANX.fld_fml('USEREANL','BEFORE_EDIT',"EANX.MG<>null()");
EANX.fld_fml('MG','AFTER_EDIT',"{? EANX.MG<>EANX.USEREANL().MG || EANX.USEREANL:=null()
                                |? EANX.USEREANL<>null()       || EANX.MG:=EANX.USEREANL().MG
                                ?};
                                1");
EANX.win_edit('USEREANL');
{? EANX.edit("{? EANX.MG<>null() & EANX.USEREANL=null()
               || {? FUN.ask('Nie podano lokalizacji.\nCzy zatwierdzić ustawienia?'@) || '' || 'USEREANL' ?}
               || ''
               ?}")
|| _interface.save(EANX.USEREANL().IDADD)
?};
MG.f_clear();
~~


\p100933
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.02]
:: OPIS: Formuła na redagowanie parametru:
::       100933 - Rejestrowanie historii dla elementów trwających dłużej niż [s]
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_valid:="
   {? cur_tab(1,1).VAL=0
   || FUN.ask(
         'Wartość równa zero spowoduje zapisywanie do historii wszystkich uruchomionych elementów,\n'
         'co może spowodować szybki przyrost ilości rekordów w tabeli historii.\n\n'
         'Czy na pewno wyzerować wartość parametru?'@
      )
   || 1
   ?}
";
_val:=exec('edit_number','#edit',_interface.get(),_interface.name(),3,0,,_valid);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p100932
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.02]
:: OPIS: Formuła na redagowanie parametru:
::       100932 - Usuwanie historii przetwarzania kolejek (dni wstecz zapamiętanej historii)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_valid:="
   {? cur_tab(1,1).VAL=0
   || FUN.ask(
         'Wartość równa zero spowoduje, że historia kolejki nie będzie usuwana,\n'
         'co może spowodować szybki przyrost ilości rekordów w tabeli historii.\n\n'
         'Czy na pewno wyzerować wartość parametru?'@
      )
   || 1
   ?}
";
_val:=exec('edit_number','#edit',_interface.get(),_interface.name(),0,0,,_valid);
{? type_of(_val)>0
|| _interface.save(_val)
?};
~~


\p100930
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.02]
:: OPIS: Formuła na redagowanie parametru:
::       100930 - Liczba restartów kolejki, po których jest ona wyłączana
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,0,0);
~~


\p100950
::----------------------------------------------------------------------------------------------------------------------
::  UTW: GZ [22.26]
:: OPIS: Formuła na redagowanie parametru:
::       100950 - Dozwolona objętość załączników [GB]
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,2,0);
~~


\p100935
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [22.26]
:: OPIS: Formuła na redagowanie parametru:
::       100935 - Ilość powtórzeń jaką wykonać w oczekiwaniu na odblokowanie rekordu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_old:=_interface.get();

exec('std_number','params',_interface,0,1);

FO_DEF.get();
_interface.cntx();
_new:=_interface.get();

{? _old<>_new
|| FUN.info('Zmieniona wartość parametru będzie obowiązywała dopiero po ponownym uruchomieniu programu.'@)
?};
~~


\p100936
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [22.26]
:: OPIS: Formuła na redagowanie parametru:
::       100936 - Czas [ms] jaki czekać pomiędzy powtórzeniami na odblokowanie rekordu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_old:=_interface.get();

exec('std_number','params',_interface,0,100);

FO_DEF.get();
_interface.cntx();
_new:=_interface.get();

{? _old<>_new
|| FUN.info('Zmieniona wartość parametru będzie obowiązywała dopiero po ponownym uruchomieniu programu.'@)
?};
~~


\fas_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Wybór FAS
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie) -1-pojedynczy wybór ref-a
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c>1;
_wyn:={? _c=-1 || null() || _par ?};
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'KOD','STRING[2]','Kod'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

FAS.cntx_psh();
FAS.index('KOD');
FAS.prefix();
{? FAS.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.KOD:=FAS.KOD;
         _tab.NAZ:=FAS.NAZ;
         _tab.REF:=$FAS.ref();
         _tab.ACCESS:={? _c=-1
                      || 'N'
                      |? ~_c
                      || {? (_par+' ')*(FAS.KOD+' ') || 'T' || 'N' ?}
                      || {? _par=FAS.KOD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      FAS.next()
   !}
?};
FAS.cntx_pop();

_sel:=_tab.mk_sel('Wybór sposobu fakturowania umowy cyklicznej'@,'P',,'fo_fas',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusu umowy?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór sposobu fakturowania?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _one || _tab.find_key(_par,) ?};
{? _tab.select(,_one)
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:={? _c=-1 || exec('FindAndGet','#table',FAS,_tab.REF,,null()) || _tab.KOD ?}
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\stu_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Wybór STU
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie) -1-pojedynczy wybór z ref-em jako wynikiem
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c>0;
_wyn:={? _c=-1 || null() || _par ?};
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'KOD','STRING[1]','Kod'
      ,'NAZ','STRING[30]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

STU.cntx_psh();
STU.index('KOD');
STU.prefix();
{? STU.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.KOD:=STU.KOD;
         _tab.NAZ:=STU.NAZ;
         _tab.REF:=$STU.ref();
         _tab.ACCESS:={? _c=-1
                      || 'N'
                      |? ~_c
                      || {? (_par+' ')*(STU.KOD+' ') || 'T' || 'N' ?}
                      || {? _par=STU.KOD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      STU.next()
   !}
?};
STU.cntx_pop();

_sel:=_tab.mk_sel('Wybór statusu umowy cyklicznej'@,'P',,'fo_stu',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusu umowy?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór statusu umowy?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _one || _tab.find_key(_par,) ?};
{? _tab.select(,_one)
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:={? _c=-1 || exec('FindAndGet','#table','STU',_tab.REF,,null()) || _tab.KOD ?}
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\usl_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Wybór USL
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'KOD','STRING[2]','Kod'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

USL.cntx_psh();
USL.index('USL');
USL.prefix();
{? USL.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.KOD:=USL.KOD;
         _tab.NAZ:=USL.NAZ;
         _tab.REF:=$USL.ref();
         _tab.ACCESS:={? ~_c
                      || {? (_par+' ')*(USL.KOD+' ') || 'T' || 'N' ?}
                      || {? _par=USL.KOD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      USL.next()
   !}
?};
USL.cntx_pop();

_sel:=_tab.mk_sel('Wybór rodzaju usługi dla umowy cyklicznej'@,'P',,'fo_usl',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusu umowy?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór rodzaju usługi?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _one || _tab.find_key(_par,) ?};
{? _tab.select(,_one)
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.KOD
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\odp_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Wybór ODP
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'KOD','STRING[6]','Kod'
      ,'NAZ','STRING[255]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

ODP.cntx_psh();
ODP.index('KOD');
ODP.prefix();
{? ODP.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.KOD:=ODP.KOD;
         _tab.NAZ:=ODP.NAZ;
         _tab.REF:=$ODP.ref();
         _tab.ACCESS:={? ~_c
                      || {? (_par+' ')*(ODP.KOD+' ') || 'T' || 'N' ?}
                      || {? _par=ODP.KOD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      ODP.next()
   !}
?};
ODP.cntx_pop();

_sel:=_tab.mk_sel('Wybór domyślnego rodzaju odpadu'@,'P',,'fo_stu',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ',,,50);

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusu umowy?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór rodzaju odpadu?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _one || _tab.find_key(_par,) ?};
{? _tab.select(,_one)
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.KOD
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p100130
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100130 - Domyślny sposób fakturowania umowy cyklicznej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('fas_wyb','params',_a.get(),"FAS.WYS='T'",1));
~~


\p100150
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100150 - Status dla nowej umowy cyklicznej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('stu_wyb','params',_a.get(),"STU.RODZ='N'",1));
~~


\p100151
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100151 - Status dla aktywnej umowy cyklicznej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('stu_wyb','params',_a.get(),"STU.RODZ='' & STU.A='T'",1));
~~


\p100152
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100152 - Status dla aneksowanej umowy cyklicznej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('stu_wyb','params',_a.get(),"STU.RODZ='E'",1));
~~


\p100120
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100120 - Domyślny rodzaj usługi dla umów/zgłoszeń
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('usl_wyb','params',_a.get(),"1",1));
~~


\p100140
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100140 - Domyślny rodzaj odpadu
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('odp_wyb','params',_a.get(),"1",1));
~~


\p100170
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru 100170
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params');
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p100171
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100171
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_jm:=exec('select_jm','params',_interface.get());
{? _jm<>''
|| _interface.save(_jm)
?};
~~


\p100111
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 100111
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Wyświetlać harmonogramy według parametrów umowy:'@,
          ,'Tylko zgodne'@,'Zgodne i puste'@,'Wszystkie'@);
_choice:={? _choice=1 || 'N'
         |? _choice=2 || 'T'
         |? _choice=3 || 'W'
         || 'N'
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p300212
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [19.22]
:: OPIS: Formuła na redagowanie parametru p300212
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Sposób liczenia kwoty VAT na korekcie zbiorczej'@,
   ,'&Suma z korekt'@
   ,'Wg stawek &VAT'@
   ,'Wg stawek VAT &niewalutowe'@
   ,'Wg stawek VAT &walutowe'@);
_choice:=
   {? _choice=1 || 'SUMA Z KOREKT'
   |? _choice=2 || 'WG STAWEK VAT'
   |? _choice=3 || 'WG STAWEK VAT DOKUMENTY NIEWALUTOWE'
   |? _choice=4 || 'WG STAWEK VAT DOKUMENTY WALUTOWE'
   || ''
   ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p100181
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100181 - ...
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_naz:=_a.get();
_sel:=SLU.win_sel('?');

_okn:='WER2';
SLU.win_sel(_okn);
_act:=SLU.actions(_okn,'DPU:D','W');
SLU.cntx_psh();
SLU.index('NAZ');
SLU.prefix();
SLU.find_key(_naz,);
{? SLU.select(,1) || _naz:=SLU.NAZ ?};
SLU.cntx_pop();
SLU.win_sel(_okn);
SLU.actions(_okn,_act);
{? _naz<>'' || _a.save(_naz) || FUN.info('Nie wybrano słownika.\nZmiany nie zostaną naniesione.'@) ?};
~~


\p100182
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100182 - ...
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p100181','params',_a)


\p100183
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100183 - Słownik powodów odstąpienia od fakturowania dla zgłoszeń jednorazowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p100181','params',_a)


\p100186
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100186 - ...
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_kod:=_a.get();
_naz:=exec('get','#params',100181,type_of(''));
_slu:={? _naz<>'' || exec('FindInSet','#table','SLU','NAZ',_naz,,,1,,null()) || null() ?};
{? _naz=''
|| FUN.info('Nie ustawiono parametru 100181.\nNiemożliwe wprowadzenie parametru.'@)
|? _slu=null()
|| FUN.info('Nie znaleziono słownika żadań %1 podanego w parametrze 100181.\nNiemożliwe wprowadzenie parametru.'@[_naz])
|| _sel:=SLO.win_sel('?');
   _okn:='SLO_FO';
   SLO.win_sel(_okn);
   SLU.cntx_psh();
   SLO.cntx_psh();
   SLO.index('SL');
   SLO.prefix(_slu);
   SLO.find_key(_kod,);
   {? SLO.select(,1) || _kod:=SLO.KOD ?};
   SLU.cntx_pop();
   SLO.cntx_pop();
   SLO.win_sel(_sel);
   {? _kod<>'' || _a.save(_kod) || FUN.info('Nie wybrano wartości ze słownika.\nZmiany nie zostaną naniesione.'@) ?}
?};
~~


\p100187
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100187 - ...
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p100186','params',_a)


\p100188
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100188 - ...
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p100186','params',_a)


\p100189
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Formuła na redagowanie parametru:
::       100189 - Domyślny powód odstąpienia od fakturowania dla zgłoszenia z umowy miejskiej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_kod:=_a.get();
_naz:=exec('get','#params',100183,type_of(''));
_slu:={? _naz<>'' || exec('FindInSet','#table','SLU','NAZ',_naz,,,1,,null()) || null() ?};
{? _naz=''
|| FUN.info('Nie ustawiono parametru 100183.\nNiemożliwe wprowadzenie parametru.'@)
|? _slu=null()
|| FUN.info('Nie znaleziono słownika powodów %1 podanego w parametrze 100183.\nNiemożliwe wprowadzenie parametru.'@[_naz])
|| _sel:=SLO.win_sel('?');
   _okn:='SLO_FO';
   SLO.win_sel(_okn);
   SLU.cntx_psh();
   SLO.cntx_psh();
   SLO.index('SL');
   SLO.prefix(_slu);
   SLO.find_key(_kod,);
   {? SLO.select(,1) || _kod:=SLO.KOD ?};
   SLU.cntx_pop();
   SLO.cntx_pop();
   SLO.win_sel(_sel);
   {? _kod<>'' || _a.save(_kod) || FUN.info('Nie wybrano wartości ze słownika.\nZmiany nie zostaną naniesione.'@) ?}
?};
~~


\p6770
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [19.42]
:: OPIS: Formuła na redagowanie parametru 6770 - Zakres wyświetlanych zasobów (remonty)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_names:=obj_new(3);
_names[1]:='Wszystkie'@;
_names[2]:='Aktywne'@;
_names[3]:='Nieaktywne'@;

_values:=obj_new(3);
_values[1]:='A';
_values[2]:='T';
_values[3]:='N';

_edit:=exec('edit_radiobutton','#edit',_interface.get(),'Zakres wyświetlanych zasobów'@,_names,_values);

{? type_of(_edit)=type_of('')
|| _interface.save(_edit)
?};
~~


\p6771
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.22]
:: OPIS: Formuła na redagowanie parametru 6771 - Zakres pracowników (remonty)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_value:=exec('zakres_pracownikow_core','prod_rej',_interface.get());
_interface.save(_value);
~~


\p6772
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [19.22]
:: OPIS: Formuła na redagowanie parametru 6772 - Widok w zasobach remontowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_tab:=tab_tmp(,'ZAS_VIEW','STRING[1]','Widok zasobów remontowych'@);
_red:=_tab.mk_edit(FUN.TYT,,'redview');
_tab.win_efld(_red,,'ZAS_VIEW',,,,,,,,,'radio-buttons',,'widok powiązań w drzewie'@,"\'D\'",'widok z filtrami'@,"\'P\'");
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);
_tab.ZAS_VIEW:=_interface.get();
{? _tab.edit()
|| _interface.save(_tab.ZAS_VIEW)
?};
~~


\p100191
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100191 - Domyślny kontrahent przekazujący odpad
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_kod:=_interface.get();
_win:=KH.win_sel('?');
KH.win_sel('SEL');
KH.cntx_psh();
KH.index('KOD');
KH.prefix(2);
KH.find_key(_kod);
{? KH.select(,1)
|| {? KH.NRREJDBO<>''
   || _kod:=KH.KOD
   || _kod:='';
      _choice:=FUN.choice(
         'Nie można przypisać wybranego kontrahenta.\n'
         'Domyślny kontrahent przekazujący odpad musi mieć wypełnione pole z numerem rejestrowym (BDO).'@,,
         'Uzupełnij dane kontrahenta'@
      );
      {? _choice=1
      || {? exec('uzup_kh_bdo','params',KH.ref())
         || _kod:=KH.KOD
         ?}
      ?}
   ?}
|| _kod:=''
?};
{? _kod<>''
|| _interface.save(_kod)
?};
KH.cntx_pop();
KH.win_sel(_win);
~~


\p100192
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100192 - Domyślne miejsce działalności kontrahenta przekazującego odpad
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_knt:=null();
_knt_kod:=exec('get','#params',100191,type_of(''));
{? _knt_kod<>''
|| _knt:=exec('FindInSet','#table','KH','KOD',_knt_kod,2,,1,,null())
?};
{? _knt_kod=''
|| FUN.info('Nie ustawiono parametru 100191.\nNiemożliwe wprowadzenie parametru.'@)
|? _knt=null()
|| FUN.info('Nie znaleziono kontrahenta %1 podanego w parametrze 100191.\nNiemożliwe wprowadzenie parametru.'@[_knt_kod])
|| _interface:=_a;
   _kod:=_interface.get();
   _win:=KH_ODB.win_sel('?');
   KH_ODB.win_sel('SEL');
   KH_ODB.cntx_psh();
   KH_ODB.index('KH_ODB');
   KH_ODB.prefix(_knt);
   KH_ODB.find_key(_kod,_kod);
   {? KH_ODB.select(,1)
   || {? KH_ODB.NRMPDBDO<>''
      || _kod:=KH_ODB.KOD
      || _kod:='';
         _choice:=FUN.choice(
            'Nie można przypisać wybranego odbiorcy kontrahenta.\n'
            'Domyślne miejsce działaności kontrahenta przekazującego odpad musi mieć wypełnione pole'
            ' z numerem miejsca prowadzenia działalności (BDO).'@,,
            'Uzupełnij dane odbiorcy'@
         );
         {? _choice=1
         || {? exec('uzup_khodb_bdo','params',KH_ODB.ref())
            || _kod:=KH_ODB.KOD
            ?}
         ?}
      ?}
   || _kod:=''
   ?};
   {? _kod<>''
   || _interface.save(_kod)
   ?};
   KH_ODB.cntx_pop();
   KH_ODB.win_sel(_win)
?};
~~


\p100193
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100193 - Domyślny kontrahent przejmujący odpad
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_kod:=_interface.get();
_win:=KH.win_sel('?');
KH.win_sel('SEL');
KH.cntx_psh();
KH.index('KOD');
KH.prefix(2);
KH.find_key(_kod);
{? KH.select(,1)
|| {? KH.NRREJDBO<>''
   || _kod:=KH.KOD
   || _kod:='';
      _choice:=FUN.choice(
         'Nie można przypisać wybranego kontrahenta.\n'
         'Domyślny kontrahent przekazujący odpad musi mieć wypełnione pole z numerem rejestrowym (BDO).'@,,
         'Uzupełnij dane kontrahenta'@
      );
      {? _choice=1
      || {? exec('uzup_kh_bdo','params',KH.ref())
         || _kod:=KH.KOD
         ?}
      ?}
   ?}
|| _kod:=''
?};
{? _kod<>''
|| _interface.save(_kod)
?};
KH.cntx_pop();
KH.win_sel(_win);
~~


\p100194
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100194 - Domyślne miejsce działalności kontrahenta przejmuącego odpad
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_knt:=null();
_knt_kod:=exec('get','#params',100193,type_of(''));
{? _knt_kod<>''
|| _knt:=exec('FindInSet','#table','KH','KOD',_knt_kod,2,,1,,null())
?};
{? _knt_kod=''
|| FUN.info('Nie ustawiono parametru 100193.\nNiemożliwe wprowadzenie parametru.'@)
|? _knt=null()
|| FUN.info('Nie znaleziono kontrahenta %1 podanego w parametrze 100193.\nNiemożliwe wprowadzenie parametru.'@[_knt_kod])
|| _interface:=_a;
   _kod:=_interface.get();
   _win:=KH_ODB.win_sel('?');
   KH_ODB.win_sel('SEL');
   KH_ODB.cntx_psh();
   KH_ODB.index('KH_ODB');
   KH_ODB.prefix(_knt);
   KH_ODB.find_key(_kod,_kod);
   {? KH_ODB.select(,1)
   || {? KH_ODB.NRMPDBDO<>''
      || _kod:=KH_ODB.KOD
      || _kod:='';
         _choice:=FUN.choice(
            'Nie można przypisać wybranego odbiorcy kontrahenta.\n'
            'Domyślne miejsce działaności kontrahenta przekazującego odpad musi mieć wypełnione pole'
            ' z numerem miejsca prowadzenia działalności (BDO).'@,,
            'Uzupełnij dane odbiorcy'@
         );
         {? _choice=1
         || {? exec('uzup_khodb_bdo','params',KH_ODB.ref())
            || _kod:=KH_ODB.KOD
            ?}
         ?}
      ?}
   || _kod:=''
   ?};
   {? _kod<>''
   || _interface.save(_kod)
   ?};
   KH_ODB.cntx_pop();
   KH_ODB.win_sel(_win)
?};
~~


\p100195
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100195 - Domyślny kontrahent transportujący odpad
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_kod:=_interface.get();
_win:=KH.win_sel('?');
KH.win_sel('SEL');
KH.cntx_psh();
KH.index('KOD');
KH.prefix(2);
KH.find_key(_kod);
{? KH.select(,1)
|| {? KH.NRREJDBO<>''
   || _kod:=KH.KOD
   || _kod:='';
      _choice:=FUN.choice(
         'Nie można przypisać wybranego kontrahenta.\n'
         'Domyślny kontrahent przekazujący odpad musi mieć wypełnione pole z numerem rejestrowym (BDO).'@,,
         'Uzupełnij dane kontrahenta'@
      );
      {? _choice=1
      || {? exec('uzup_kh_bdo','params',KH.ref())
         || _kod:=KH.KOD
         ?}
      ?}
   ?}
|| _kod:=''
?};
{? _kod<>''
|| _interface.save(_kod)
?};
KH.cntx_pop();
KH.win_sel(_win);
~~


\p100121
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [19.22]
:: OPIS: Formuła na redagowanie parametru 100121 - Domyślna usługa podstawowa dla zgłoszenia jednorazowego z umowy miejskiej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_usl:=null();
_usl_kod:=exec('get','#params',100120,type_of(''));
{? _usl_kod<>''
|| _usl:=exec('FindInSet','#table','USL','USL',_usl_kod,,,1,,null())
?};
_interface:=_a;
_kod:=_interface.get();
_win:=M.win_sel('?');
M.win_sel('SEL_U');
M.cntx_psh();
{? _usl=null()
|| M.index('ARODZ');
   M.prefix('T','U')
|| M.index('USL');
   M.prefix('T','U',_usl)
?};
M.find_key(_kod,_kod);
{? M.select(,1)
|| _kod:=M.KTM
|| _kod:=''
?};
{? _kod<>''
|| _interface.save(_kod)
?};
M.cntx_pop();
M.win_sel(_win);
~~


\p800212
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800212
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='Z'",1));
~~


\p800112
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800112
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='Z'",1));
~~


\p800109
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800109
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_oddz:=exec('get','#params', 800108);
{? _oddz<>''
||
   _par:=exec('mg_wyb','params',_a.get(),"1",,_oddz);
   _a.save(_par);
   _magazyny:=spli_str(_par-1,',');
   KH_ODBMG.cntx_psh();
   {? KH_ODBMG.first()
   ||
      {! |?
         _found:=0;
         {! _idx:=1..obj_len(_magazyny)
         |!
            {? _found=0 & KH_ODBMG.MG().SYM=_magazyny[_idx]
            ||
               _found:=1
            ?}
         !};
         {? _found
         ||
            KH_ODBMG.next()
         ||
            KH_ODBMG.del()
         ?}
      !}
   ?};
   KH_ODBMG.cntx_pop()
||
   FUN.info('Przed wyborem listy magazynów wybierz oddział w parametrze 800108.'@)
?};
~~


\p800209
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800209
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_oddz:=exec('get','#params', 800208);
{? _oddz<>''
||
   _a.save(exec('mg_wyb','params',_a.get(),"1",,_oddz))
||
   FUN.info('Przed wyborem listy magazynów wybierz oddział w parametrze 800208.'@)
?};
~~


\wyb_oddz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Wybór oddziału
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_start:={? var_pres('_a')=type_of('') || _start:=_a || _start:='' ?};
_result:='';
ODDZ.cntx_psh();
_acr_sel:=ODDZ.mk_sel('Oddziały'@,'T',0,,,,,,'U');
ODDZ.win_fld(_acr_sel,,'KOD',,,8,,0,'Kod'@);
ODDZ.win_fld(_acr_sel,,'NAZ',,,30,,0,'Nazwa'@);
ODDZ.win_act(_acr_sel,,'Formuła','&Wybierz'@@,,'Wybór bieżącego zapisu'@,"sel_exit()",,1,,,,'W');
ODDZ.win_act(_acr_sel,,'Szukaj');
ODDZ.win_sel(_acr_sel);
ODDZ.index('KOD');
ODDZ.prefix();
ODDZ.find_key(_start);
{? ODDZ.select(,1,5)
|| _result:=ODDZ.KOD
?};
ODDZ.cntx_pop();
_result


\p800208
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800208
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_old:=_a.get();
_new:=exec('wyb_oddz','params',_a.get());
_a.save(_new);
{? _new<>_old
||
   exec('set','#params', 800209, '');
   exec('set','#params', 800206, '')
?};
~~


\p800108
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800108
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_old:=_a.get();
_new:=exec('wyb_oddz','params',_a.get());
_a.save(_new);
{? _new<>_old
||
   exec('set','#params', 800109, '');
   exec('set','#params', 800106, '')
?};
~~


\wyb_cennik
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Wybór cennika
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_start:={? var_pres('_a')=type_of('') || _start:=_a || _start:='' ?};
_result:='';
TAR.cntx_psh();
_acr_sel:=TAR.mk_sel('Cenniki'@,'T',0,,,,,,'U');
TAR.win_fld(_acr_sel,,'KOD',,,8,,0,'Kod'@);
TAR.win_fld(_acr_sel,,'NAZ',,,30,,0,'Nazwa'@);
TAR.win_act(_acr_sel,,'Formuła','&Wybierz'@@,,'Wybór bieżącego zapisu'@,"sel_exit()",,1,,,,'W');
TAR.win_act(_acr_sel,,'Szukaj');
TAR.win_sel(_acr_sel);
TAR.index('KOD');
TAR.prefix();
TAR.find_key(_start);
{? TAR.select(,1,5)
|| _result:=TAR.KOD
?};
TAR.cntx_pop();
_result


\wyb_cennik_list
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.42]
:: OPIS: Wybór cennika
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - SD - Cenniki [s]przedaży, cenniki [d]ostawców
::       [_c] - 1 (domyslnie) cenniki kontrahenta, 0 - bez cenników kontrahenta
::       [_d] - kod oddziału do przefiltrowania, (domyślnie null - wszystkie oddziały)
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_par:={? var_pres('_a')=type_of('') || _start:=_a || _start:='' ?};
_sd:={? var_pres('_b')=type_of('') || _b || 'S' ?};
_kh:={? var_pres('_c')=type_of(0) || _c || 1 ?};
_oddz:={? var_pres('_d')=type_of('') || _d || '' ?};
_wyn:=_par;

VAR_DEL.delete('__zatw');
__zatw:=0;

_tab:=tab_tmp(1,'ACCESS','STRING[1]','Uprawnienie'
      ,'REF','STRING[16]','Ref SQL'
      ,'KOD','STRING[10]','Kod'
      ,'NAZ','STRING[30]','Nazwa');
_ndx1:=_tab.ndx_tmp(,,'KOD',,);
_tab.index(_ndx1);

TAR.cntx_psh();
TAR.index('KOD');
TAR.prefix();
{? TAR.first()
|| {!
   |?
      {? _sd=TAR.SD
      & ((_kh=0 & TAR.KH=null) | _kh=1)
      & (_oddz='' | (_oddz<>'' & TAR.ODDZ=_oddz))
      ||
         _tab.blank();
         _tab.KOD:=TAR.KOD;
         _tab.NAZ:=TAR.NAZ;
         _tab.ACCESS:={? (_par+',')*(TAR.KOD+',') || 'T' || 'N' ?};
         _tab.add(1)
      ?};
      TAR.next()
   !}
?};
TAR.cntx_pop();

_sel:=_tab.mk_sel('Wybór cenników'@,'P',,'fo_cen_list',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,0,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

_formula:="_tab:=cur_tab();_tab.ACCESS:='T'; _tab.put()";
_tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
_tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');

_formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
_tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
_tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty');

_formula:="__zatw:=1; sel_exit()";
_tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
_tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty');

_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');

_tab.win_act(_sel,,'Kolejność',);
'Czy zakończyć wybór cenników?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór cenników?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");

_tab.win_sel(_sel);
{? _tab.select()
||
   _wyn:='';
   _tab.clear();
   {? _tab.first()
   || {!
      |? {? _tab.ACCESS='T'
         || _wyn+=_tab.KOD+','
         ?};
         _tab.next()
      !}
   ?}
?};

_wyn


\p800206
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.22]
:: OPIS: Formuła na redagowanie parametru 800206
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_oddz:=exec('get','#params', 800208);
_a.save(exec('wyb_cennik_list','params',_a.get(),,0,_oddz));
~~


\p800106
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Markus [19.42]
:: OPIS: Formuła na redagowanie parametru 800106
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_oddz:=exec('get','#params', 800108);
_a.save(exec('wyb_cennik_list','params',_a.get(),,0,_oddz));
~~


\p200205
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [19.42]
:: OPIS: Formuła na redagowanie parametru 200205
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='T' & TYPYSP.KOR<>'Z'"));
~~


\p300205
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [19.42]
:: OPIS: Formuła na redagowanie parametru 300205
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typysp_wyb','params',_a.get(),"TYPYSP.ZAK='N' & TYPYSP.PAR='N' & TYPYSP.KOR<>'Z'"));
~~


\p8605
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [19.42]
:: OPIS: Formuła na redagowanie parametru 8605 (zakres wyświetlanych operacji)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
FILTER.B_A:={? 1+_par<>'W' || 1+_par || ''?};
FILTER.B_DOREJ:={? 1+(1-_par)<>'W' || 1+(1-_par) || ''?};
FILTER.B_START:={? 1+(2-_par)<>'W' || 1+(2-_par) || ''?};
FILTER.B_WYK:={? 1+(3-_par)<>'W' || 1+(3-_par) || ''?};
FILTER.B_POTW:={? 1+(4-_par)<>'W' || 1+(4-_par) || ''?};
FILTER.win_edit('RED_BAD3');
{? FILTER.edit()
|| _a.save(
      {? FILTER.B_A<>'' ||  FILTER.B_A || 'W' ?}+
      {? FILTER.B_DOREJ<>'' ||  FILTER.B_DOREJ || 'W' ?}+
      {? FILTER.B_START<>'' ||  FILTER.B_START || 'W' ?}+
      {? FILTER.B_WYK<>'' ||  FILTER.B_WYK || 'W' ?}+
      {? FILTER.B_POTW<>'' ||  FILTER.B_POTW || 'W' ?}
   )
?};
~~


\p500222
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [19.42]
:: OPIS: Formuła na redagowanie parametru 500222
::       (Lista elementów przenoszona z nagłówka zamówienia podczas generowania zlecenia na podstawie pozycji zamówienia)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_uwagi:=1+_par;
_opis_dod:=_par+1;

_tab:=tab_tmp(,
   'UWAGI','STRING[1]','Uwagi zamówienia',
   'OPIS_DOD','STRING[1]','Opis dodatkowy zamówienia'
);
_red:=_tab.mk_edit('Lista przenoszonych elementów'@,,'p500222');
_tab.win_esep(_red,'Przenoszone elementy:'@);
_tab.win_efld(_red,_tab,'UWAGI',,,,,,'Uwagi'@,,,'check-box',,"'T'", "'N'");
_tab.win_efld(_red,_tab,'OPIS_DOD',,,,,,'Opis dodatkowy'@,,,'check-box',, "'T'","'N'");
_tab.win_ebtn(_red,'text=%1'['Zapisz'@],'key:F2');
_tab.win_ebtn(_red,'text=%1'['Anuluj'@],'key:Esc');
_tab.win_edit(_red);

_tab.UWAGI:=_uwagi;
_tab.OPIS_DOD:=_opis_dod;
{? _tab.edit()
|| _value:=_tab.UWAGI+_tab.OPIS_DOD;
   _a.save(_value)
?}


\p100161
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [19.42]
:: OPIS: Formuła na redagowanie parametru 100161
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_uwagi:=1+_par;
_opis_dod:=_par+1;

_choice:=
   FUN.choice('W jakim zakresie obsługiwać dyspozycje transportowe dla zgłoszeń jednorazowych i przewozów?'@,,
      'Wszys&tkie indeksy'@,'Indeksy z &rodzajem transportu'@,'Obsługa wyłączo&na'@);

_value:=
   {? _choice=1 || 'T'
   |? _choice=2 || 'R'
   |? _choice=3 || 'N'
   || _par
   ?};

{? _par<>_value
||
   _a.save(_value)
?}


\p100196
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [20.14]
:: OPIS: Formuła na redagowanie parametru 100196
::       (Domyślna gmina dla kart przekazania odpadów komunalnych)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_kod:=_par;

_tab:=tab_tmp(,
   'KOD','STRING[7]','Kod gminy'@,
   'NAZ','STRING[50]','Nazwa gminy'@
);
_red:=_tab.mk_edit('Domyślna gmina'@,,'p100196');
_tab.win_esep(_red,'Domyślna gmina'@);
_tab.win_efld(_red,_tab,'KOD',,,27,,,'Kod gminy'@,,,,'F3_button=1');
_tab.win_efld(_red,_tab,'NAZ',,,30,,1,'Nazwa gminy'@);
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);

_f3:="
   _tab:=cur_tab(1,1);
   _res:=_tab.KOD;
   {? +_res=7
   || _gmi:=exec('ter_gmi_sel','teryt',,,,_res)
   || _gmi:=exec('ter_gmi_sel','teryt')
   ?};
   {? _gmi.kod<>''
   || _res:=_gmi.kod
   ?};
   _res
";
_tab.fld_fml('KOD','F3',_f3);

_ae:="
   _tab:=cur_tab(1,1);
   _tab.NAZ:=exec('WyszukajGmine','teryt',_tab.KOD)
";
_tab.fld_fml('KOD','AFTER_EDIT',_ae);

_tab.KOD:=_kod;
_tab.NAZ:=exec('WyszukajGmine','teryt',_tab.KOD);
{? _tab.edit()
|| _value:=_tab.KOD;
   _a.save(_value)
?}


\p200327
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 200327
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300327
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 300327
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p100324
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 100324
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Czy kontrolować wymagany split payment?'@,,'Tak jeśli przekroczony limit'@,'Zawsze'@,'Nie'@);
_value:=
   {? _choice=1 || 'T'
   |? _choice=2 || 'Z'
   |? _choice=3 || 'N'
   || ''
   ?};
{? _value<>'' || _a.save(_value) ?}


\p100330
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Formuła na redagowanie parametru 100330 - Współpraca z BDO
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
:: Sprawdzenie ustawienia parametrów przed włączeniem obsługi
_interface:=_a;

_val:=_interface.get();

{? exec('is_configured','bdo_fun',2) | _val='T'
|| _choice:=FUN.choice(
      'Wybierz wartość paramatru "Współpraca z BDO":'@,
      (_val='N')+2,'Testuj &komunikację'@,'Tak'@,'Nie'@
   );
   {? _choice=1
   || exec('kpo_bdo_health','odpady')
   |? _choice>1
   || _val:=_choice-2;
      _interface.save({? _val || 'N' || 'T' ?})
   ?}
|| FUN.info(
      'Przed aktywowaniem współpracy z BDO należy ustawić parametry: %1÷%2, %3÷%4.'@
      [$100191,$100192,$100331,$100334]
   )
?};
~~


\uzup_kh_bdo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Uzupełnienie numeru BDO dla bieżącego kontrahenta
::   WY: 0 / 1
::----------------------------------------------------------------------------------------------------------------------
_result:=0;
_red:=KH.mk_edit('Dane kontrahenta'@,,'khbdo');
KH.win_esep(_red,'Dane podstawowe'@);
KH.win_efld(_red,,'KOD',,,50,,1,'Kod'@);
KH.win_efld(_red,,'SKR',,,50,,1,'Skrót'@);
KH.win_efld(_red,,'NAZ_P',,,50,,1,'Nazwa pełna'@);
KH.win_efld(_red,,'NAZ',,,50,,1,'Nazwa'@);
KH.win_efld(_red,,'NIP',,,50,,1,'NIP'@);
KH.win_esep(_red,'Dane BDO'@);
KH.win_efld(_red,,'NRREJDBO',,,50,,,'Numer rejestrowy BDO'@);
KH.efld_opt(_red,'mark=1',,'NRREJDBO');
exec('ok_esc','#window',KH,_red);
KH.win_edit(_red);
{? KH.edit("__CHK.record(KH,,'NRREJDBO')")
|| {? KH.put() || _result:=1 ?}
?};
_result


\uzup_khodb_bdo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Uzupełnienie numeru MPD BDO dla bieżącego odbiorcy kontrahenta
::   WY: 0 / 1
::----------------------------------------------------------------------------------------------------------------------
_result:=0;
_red:=KH_ODB.mk_edit('Odbiorca kontrahenta'@,,'khodbbdo');
KH_ODB.win_esep(_red,'Dane podstawowe'@);
KH_ODB.win_efld(_red,,'KOD',,,50,,1,'Kod'@);
KH_ODB.win_efld(_red,,'SKR',,,50,,1,'Skrót'@);
KH_ODB.win_efld(_red,,'NAZ',,,50,,1,'Nazwa'@);
KH_ODB.win_esep(_red,'Dane BDO'@);
KH_ODB.win_efld(_red,,'NRMPDBDO',,,50,,,'Numer MPD (BDO)'@);
KH_ODB.efld_opt(_red,'mark=1',,'NRMPDBDO');
exec('ok_esc','#window',KH_ODB,_red);
KH_ODB.win_edit(_red);
{? KH_ODB.edit("__CHK.record(KH_ODB,,'NRMPDBDO')")
|| {? KH_ODB.put() || _result:=1 ?}
?};
_result


\p100331
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Formuła na redagowanie parametru 100331
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_bdo','params',_a)


\p100333
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Formuła na redagowanie parametru 100333
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_bdo','params',_a)


\p100334
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Formuła na redagowanie parametru 100334
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_bdo','params',_a)


\set_params_bdo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [20.14]
:: OPIS: Formuła na redagowanie parametrów 100331, 100333, 100334
::----------------------------------------------------------------------------------------------------------------------
_tab:=tab_tmp(1
   ,'P100331','STRING[255]','Adres usługi BDO'@
   ,'P100333','STRING[255]','ClientId do usługi BDO'@
   ,'P100334','STRING[255]','ClientSecret do usługi BDO'@
);
_tab.P100331:=exec('get','#params',100331);
_tab.P100333:=exec('get','#params',100333);
_tab.P100334:=exec('get','#params',100334);
_red:=_tab.mk_edit('Parametry usługi BDO'@,,'parbdo');
_tab.win_efld(_red,,'P100331',,,100);
_tab.win_efld(_red,,'P100333',,,100);
_tab.win_efld(_red,,'P100334',,,100);
_tab.efld_opt(_red,'mark=1',,'P100331');
_tab.efld_opt(_red,'mark=1',,'P100333');
_tab.efld_opt(_red,'mark=1',,'P100334');
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);
{? _tab.edit("__CHK.record(cur_tab(1,1))")
|| do();
   exec('set','#params',100331,_tab.P100331);
   exec('set','#params',100333,_tab.P100333);
   exec('set','#params',100334,_tab.P100334);
   end()
?};
~~


\p600702
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 600702 - Kompletacja wysyłki bez kontroli stanów magazynowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p800121
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800121
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
{? var_press('_a')>=0 || __choice:=_a.get() || __choice:=KH.STR_LIM ?};

_Choice:=tab_tmp(1,'STR','STRING[50]','Strategia','O','STRING[70]','Opis');
_Choice.STR:='BLOCK_EXCEEDED_DAYS_OR_DUE';
_Choice.O:='Blokuj dla wszystkich należności powyżej limitu lub przeterminowanych'; _Choice.add();
_Choice.STR:='BLOCK'; _Choice.O:='Blokuj'; _Choice.add();
_Choice.STR:='NO_BLOCK'; _Choice.O:='Nie blokuj'; _Choice.add();
_Choice.STR:='BLOCK_EXCEEDED_DAYS'; _Choice.O:='Blokuj dla przeterminowanych należności'; _Choice.add();
_Choice.STR:='BLOCK_EXCEEDED_DUE'; _Choice.O:='Blokuj dla wszystkich należności powyżej limitu'; _Choice.add();
_Choice.STR:='BLOCK_EXCEEDED_DAYS_AND_DUE'; _Choice.O:='Blokuj dla przeterminowanych należności powyżej limitu';
_Choice.add();

_wer:=_Choice.mk_sel('Automatycznie wypełniaj'@,,,'fasojfioqwejffj');
_Choice.win_fld(_wer,,'STR',,,30,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,50,,,'Opis'@);

_fb:="
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget();_Sel.REF:=#_Tab.ref(); _Sel.add();
   {? _Sel.first() & _Tab.seek(_Sel.REF,) & _Tab.O<>'' || __choice:=_Tab.O ?};
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Akceptuj'@@,,,_fb,,1,1,_fb,,'A');
_Choice.win_sel(_wer);
_Choice.select();
{? var_press('_a')>=0
|| _a.save(__choice)
||
   _ofe:=exec('param_get','abs_conf', 800121, 2);
   {?
      {? __choice<>_ofe
      || FUN.ask('Wybrana stretegia jest różna\nod parametru nr 800121 (%1).\nCzy zatwierdzić wartość?'[_ofe])
      || 1
     ?}
   ||
      KH.STR_LIM:=__choice
   ?}
?};
VAR_DEL.delete('__choice');
~~


\p200301
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 200301 - Zmiana ceny na dokumentach magazynowych
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_p6050_t:=0;
FO_USR.cntx_psh();
FO_USR.index('NR');
FO_USR.prefix(6050,'N');
{? FO_USR.first()
|| {!
   |? {? FO_USR.VALUE='T'
      || _p6050_t:=1
      ?};
      ~_p6050_t & FO_USR.next()
   !}
?};
FO_USR.cntx_pop();
{? _p6050_t
|| _msg0:='Po ustawieniu parametru 200301 na "Tak" albo "Pytaj"\n'+
         'parametr "6050 ' + exec('name','#params',6050,'U')+
         '"\ndla wszystkich użytkowników zostanie ustawiony na "Nie".\n'
|| _msg0:=''
?};
VAR_DEL.delete('__PAR_WYNIK');
__PAR_WYNIK:='';
exec('tak_nie_pytaj','params',_a,_msg0);
{? _p6050_t & (__PAR_WYNIK='T' | __PAR_WYNIK='P')
|| FO_USR.cntx_psh();
   FO_USR.index('NR');
   FO_USR.prefix(6050,'N');
   {? FO_USR.first()
   || {!
      |? {? FO_USR.VALUE='T'
         || exec('set','#params',6050,'N',FO_USR.USERS)
         ?};
         FO_USR.next()
      !}
   ?};
   FO_USR.cntx_pop()
?};
VAR_DEL.delete('__PAR_WYNIK');
~~


\p800122
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800121
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
M.cntx_psh();
M.index('ARODZ');
M.prefix('T','U');
_sel:=M.mk_sel('Domyślna usługa transportu'@,,0,,,,,,'U');
M.win_fld(_sel,,'KTM',,,30);
M.win_fld(_sel,,'N',,,60);
M.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
M.win_sel(_sel);
_wyn:=exec('param_get','abs_conf', 800122, 2);
{? M.select()
||
   _wyn:=M.KTM
?};
M.cntx_pop();
_a.save(_wyn)


\p800123
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800121
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
TR_ZEWN.cntx_psh();
TR_ZEWN.prefix();
_sel:=TR_ZEWN.mk_sel('Odbiór osobisty'@,,0,,,,,,'U');
TR_ZEWN.win_fld(_sel,,'KOD',,,30);
TR_ZEWN.win_fld(_sel,,'NAZ',,,60);
TR_ZEWN.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
TR_ZEWN.win_sel(_sel);
_wyn:=exec('param_get','abs_conf', 800123, 2);
{? TR_ZEWN.select()
||
   _wyn:=TR_ZEWN.KOD
?};
TR_ZEWN.cntx_pop();
_a.save(_wyn)


\p800125
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [21.14]
:: OPIS: Formuła na redagowanie parametru 800125
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_wyn:=exec('param_get','abs_conf', 800125, 2);
exec('czytaj','#stalesys',,FINFO);
_slbank:=FINFO.SLBANK().SLU;
{? _slbank=null
|| FUN.info('Nie wskazano słownika banków w słownikach systemu.'@)
|? FINFO.SLWAL().SLU=null
|| FUN.info('Nie wskazano słownika walut w słownikach systemu.'@)
|| SLU.cntx_psh(); SLO.cntx_psh(); B.cntx_psh();
   B.win_sel('WER');
   SLO.index('SL');
   _wal:=null;
   {? FINFO.NAROD
   || _wal:=FINFO.NAROD
   || SLO.cntx_psh(); SLU.cntx_psh();
      SLO.prefix(FINFO.SLWAL().SLU);
      {? SLO.first()
      || _wal:=SLO.ref()
      ?};
      SLO.cntx_pop(); SLU.cntx_pop()
   ?};
   {? _wal=null
   || FUN.info('Słownik walut w słownikach systemu nie zawiera pozycji.'@)
   || FINFO.SLBANK().SLU();
      SLO.prefix(_slbank);
      _sel:=SLO.mk_sel('Oddziały banków'@,,0,,,,,,'U');
      SLO.win_fld(_sel,,'KOD',,,8);
      SLO.win_fld(_sel,,'TR',,,80);
      SLO.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
      SLO.win_sel(_sel);
      _kur:=SLO.select(,1);
      {? _kur
      ||
         _wyn:=SLO.KOD
      ?}
   ?};
   SLU.cntx_pop(); SLO.cntx_pop(); B.cntx_pop()
?};
_a.save(_wyn)


\p800222
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800121
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
M.cntx_psh();
M.index('ARODZ');
M.prefix('T','U');
_sel:=M.mk_sel('Domyślna usługa transportu'@,,0,,,,,,'U');
M.win_fld(_sel,,'KTM',,,30);
M.win_fld(_sel,,'N',,,60);
M.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
M.win_sel(_sel);
_wyn:=exec('param_get','abs_conf', 800222, 2);
{? M.select()
||
   _wyn:=M.KTM
?};
M.cntx_pop();
_a.save(_wyn)


\p800223
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800121
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
TR_ZEWN.cntx_psh();
TR_ZEWN.prefix();
_sel:=TR_ZEWN.mk_sel('Odbiór osobisty'@,,0,,,,,,'U');
TR_ZEWN.win_fld(_sel,,'KOD',,,30);
TR_ZEWN.win_fld(_sel,,'NAZ',,,60);
TR_ZEWN.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
TR_ZEWN.win_sel(_sel);
_wyn:=exec('param_get','abs_conf', 800223, 2);
{? TR_ZEWN.select()
||
   _wyn:=TR_ZEWN.KOD
?};
TR_ZEWN.cntx_pop();
_a.save(_wyn)


\p800225
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [21.14]
:: OPIS: Formuła na redagowanie parametru 800125
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_wyn:=exec('param_get','abs_conf', 800225, 2);
exec('czytaj','#stalesys',,FINFO);
_slbank:=FINFO.SLBANK().SLU;
{? _slbank=null
|| FUN.info('Nie wskazano słownika banków w słownikach systemu.'@)
|? FINFO.SLWAL().SLU=null
|| FUN.info('Nie wskazano słownika walut w słownikach systemu.'@)
|| SLU.cntx_psh(); SLO.cntx_psh(); B.cntx_psh();
   B.win_sel('WER');
   SLO.index('SL');
   _wal:=null;
   {? FINFO.NAROD
   || _wal:=FINFO.NAROD
   || SLO.cntx_psh(); SLU.cntx_psh();
      SLO.prefix(FINFO.SLWAL().SLU);
      {? SLO.first()
      || _wal:=SLO.ref()
      ?};
      SLO.cntx_pop(); SLU.cntx_pop()
   ?};
   {? _wal=null
   || FUN.info('Słownik walut w słownikach systemu nie zawiera pozycji.'@)
   || FINFO.SLBANK().SLU();
      SLO.prefix(_slbank);
      _sel:=SLO.mk_sel('Oddziały banków'@,,0,,,,,,'U');
      SLO.win_fld(_sel,,'KOD',,,8);
      SLO.win_fld(_sel,,'TR',,,80);
      SLO.win_act(_sel,0,'Formuła','Wybierz'@@,,,,"sel_exit()",1,,,,'W');
      SLO.win_sel(_sel);
      _kur:=SLO.select(,1);
      {? _kur
      ||
         _wyn:=SLO.KOD
      ?}
   ?};
   SLU.cntx_pop(); SLO.cntx_pop(); B.cntx_pop()
?};
_a.save(_wyn)


\p100800
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.42]
:: OPIS: Formuła na redagowanie parametru 100800
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_zdarz:=_interface.get();
ZDARZT.cntx_psh();
ZDARZT.index('ZDARZT');
ZDARZT.prefix('N',);
ZDARZT.find_key(_zdarz,);
ZDARZT.win_sel('ZDARZT2');
{? ZDARZT.select(,1,5)
||
   _interface.save(ZDARZT.ZDARZ)
?};
ZDARZT.cntx_pop();
~~


\p100801
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.42]
:: OPIS: Formuła na redagowanie parametru 100801
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
exec('p100800','params',_a)


\p300216
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 300216 - Czy blokować zakończenie rejestracji dokumentu sprzedaży jeśli niepoprawny termin płatności?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300217
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 300217 - Czy blokować zakończenie rejestracji korekty sprzedaży z kwotą do zwrotu jeśli niepoprawny termin płatności?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p100360
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 100360 - Kiedy dokument Businesslink jest gotowy do wysyłki?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Kiedy dokument Businesslink jest gotowy do wysyłki?'@@,,'Po utworzeniu &PDF','Po &księgowaniu');
{? _choice=1 || _a.save('Po utworzeniu PDF')
|? _choice=2 || _a.save('Po księgowaniu')
?}


\p100362
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [21.14]
:: OPIS: Formuła na redagowanie parametru 100362 - Domyślny oddział
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_old:=_a.get();
_new:=exec('wyb_oddz','params',_a.get());
_a.save(_new)


\p100366
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [20.14]
:: OPIS: Formuła na redagowanie parametru 100366 - Domyślna obsługa dla dok. Businesslink przy auto. rejestracji (gdy nie ustawiono dla kontrahenta)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
__interface:=_a;
_Choice:=tab_tmp(1,'AKR','STRING[30]','Akronim','O','STRING[50]','Opis');
_Choice.AKR:=''; _Choice.O:='Nie stosować'; _Choice.add();
_Choice.AKR:='DOB'; _Choice.O:='Faktura w obiegu'; _Choice.add();
_Choice.AKR:='DZK'; _Choice.O:='Dokument zakupu'; _Choice.add();
_Choice.AKR:='WOB'; _Choice.O:='Wniosek w obiegu'; _Choice.add();
_Choice.AKR:='DKS'; _Choice.O:='Dokument księgowy'; _Choice.add();
_Choice.AKR:='DKH'; _Choice.O:='Dokument w kontaktach'; _Choice.add();
_wer:=_Choice.mk_sel('Domyślna obsługa'@,,,'p100366');
_Choice.win_fld(_wer,,'AKR',,,30,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,50,,,'Opis'@);
_fb:="
   _choice:=_sep:='';
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget(); {? ~_Sel.first() || _Sel.REF:=#_Tab.ref(); _Sel.add() ?};
   _loop:=_Sel.first();
   {!
   |? _loop
   |!
      {? _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || _choice+=_sep+_Tab.AKR; _sep:='|' ?};
      _loop:=_Sel.next()
   !};
   __interface.save(_choice);
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Wybierz'@@,,,_fb,,1,1,_fb,,'W');
_Choice.win_sel(_wer);
_Choice.find_key(__interface.get());
_Choice.select(,1,6);
VAR_DEL.delete('__interface')


\p100367
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [23.25]
:: OPIS: Formuła na redagowanie parametru 100367 - Domyślna obsługa dla zamówień Businesslink przy auto. rejestracji (gdy nie ustawiono dla kontrahenta)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
__interface:=_a;
_Choice:=tab_tmp(1,'AKR','STRING[30]','Akronim','O','STRING[50]','Opis');
_Choice.AKR:=''; _Choice.O:='Nie stosować'; _Choice.add();
_Choice.AKR:='ORD'; _Choice.O:='Zamówienie sprzedaży'; _Choice.add();
_Choice.AKR:='DKH'; _Choice.O:='Dokument w kontaktach'; _Choice.add();
_wer:=_Choice.mk_sel('Domyślna obsługa'@,,,'p100367');
_Choice.win_fld(_wer,,'AKR',,,30,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,50,,,'Opis'@);
_fb:="
   _choice:=_sep:='';
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget(); {? ~_Sel.first() || _Sel.REF:=#_Tab.ref(); _Sel.add() ?};
   _loop:=_Sel.first();
   {!
   |? _loop
   |!
      {? _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || _choice+=_sep+_Tab.AKR; _sep:='|' ?};
      _loop:=_Sel.next()
   !};
   __interface.save(_choice);
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Wybierz'@@,,,_fb,,1,1,_fb,,'W');
_Choice.win_sel(_wer);
_Choice.find_key(__interface.get());
_Choice.select(,1,6);
VAR_DEL.delete('__interface')


\p200400
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.14]
:: OPIS: Formuła na redagowanie parametru 200400
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p700810
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [21.14]
:: OPIS: Formuła na redagowanie parametru 700810
::----------------------------------------------------------------------------------------------------------------------
_wyn:=exec('act_getOrderStatusList','firm_kur');
{? _wyn<>'' || _a.save(_wyn) ?}


\p500403
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [21.14]
:: OPIS: Formuła na redagowanie parametry 500403
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=exec('ttxcause_wyb','params',_interface.get());
{? type_of(_val)=type_of('') & _val<>''
|| _interface.save(_val)
?};
~~


\p500742
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [21.14]
:: OPIS: Formuła na redagowanie parametru 500742
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_typydok:=exec('get_typydok','zl_uslugi');
{? _typydok<>null()
|| exec('std_boolean','params',_interface)
|| _msg:='Brak typu dokumentu RRU do raportowania usługi na zleceniu.\n'
         'Należy zaimportować z danych wzorcowych brakujący typ.'@;
   FUN.emsg(_msg)
?};
~~


\ttxcause_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [21.14]
:: OPIS: Wybór TTXCAUSE
::   WE: _a - wartość parametru
::   WY: STRING - wybrana wartość lub ''
::----------------------------------------------------------------------------------------------------------------------
_wyn:='';
_par:=_a;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'NAZ','STRING[60]','Opis'
      ,'SELECTED','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

TTXCAUSE.cntx_psh();
TTXCAUSE.index('NAZ');
TTXCAUSE.prefix();
{? TTXCAUSE.first()
|| {!
   |? _tab.blank();
      _tab.NAZ:=TTXCAUSE.NAZ;
      _tab.REF:=$TTXCAUSE.ref();
      _tab.SELECTED:={? (_par+' ')*(TTXCAUSE.NAZ+' ') || 'T' || 'N' ?};
      _tab.add(1);
      TTXCAUSE.next()
   !}
?};
TTXCAUSE.cntx_pop();

_sel:=_tab.mk_sel('Wybór domyślnej przyczyny zmiany technologii'@,'P',,'fo_ttxca',,,,,'U');
_tab.win_fld(_sel,,'SELECTED',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'NAZ');

_formula:="__zatw:=1; sel_exit()";
_tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,,,,'W');
_tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty');

_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór domyślnej przyczyny zmiany technologii?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór domyślnej przyczyny zmiany technologii?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_sel(_sel);
{? _tab.select()
|| _wyn:=_tab.NAZ
?};
VAR_DEL.delete('__zatw');
_wyn


\p300611
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [21.14]
:: OPIS: Formuła na redagowanie parametru 300611
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,0,0,100);
~~


\p300612
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [21.14]
:: OPIS: Formuła na redagowanie parametru 300612
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,0,0,100);
~~


\p100361
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [21.14]
:: OPIS: Formuła na redagowanie parametru 100361
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

exec('std_number','params',_interface,2,0);
~~


\p100172
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.14]
:: OPIS: Formuła na redagowanie parametru 100172
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_choice:=
   FUN.choice('Domyślny typ karty przekazania odpadów?'@,,
      '&Karta'@,'&Odbiór'@,'&Przekazanie'@);
_value:=
   {? _choice=1 || exec('typ_kpo','odpady')
   |? _choice=2 || exec('typ_kpok_rec','odpady')
   |? _choice=3 || exec('typ_kpok_tra','odpady')
   || _par
   ?};
{? _par<>_value || _a.save(_value) ?}


\p700600
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.14]
:: OPIS: Formuła na redagowanie parametru 700600
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Domyślny przedmiot reklamacji:'@,
          ,'Towar'@,'Usługa'@,'Nie dotyczy'@);
_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'U'
         |? _choice=3 || 'N'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get() || _a.save(_choice) ?};
~~


\p100363
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [21.14]
:: OPIS: Formuła na redagowanie parametru 100363 - użytkownik "serwisowy"
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

_wer:=USERS.mk_sel('Użytkownicy'@);
USERS.win_fld(_wer,,'KOD');
USERS.win_fld(_wer,,'DANE');
USERS.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
USERS.win_sel(_wer);

USERS.index('USR_AKOD');
USERS.prefix('T');
USERS.find_key(_input,);
{? USERS.select(,1,5)
|| _interface.save(USERS.KOD)
?};
~~


\p100336
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [21.14]
:: OPIS: Formuła na redagowanie parametru 100336 - logowanie komunikacji z BDO do rejestru zdarzeń
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

_choice:=FUN.choice(
   'Wybierz wariant zapisu transmisji z BDO do rejestru zdarzeń:'@,
   _input+1,'Wyłączone'@,'Tylko &błędy'@,'Wszystkie &zdarzenia'@
);

{? _choice>0
|| _interface.save(_choice-1)
?};
~~


\p100203
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [21.14]
:: OPIS: Formuła na redagowanie parametru 100203
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

OKR.cntx_psh;
OKR.index('OKR'); OKR.prefix(REF.FIRMA);
_wer:=OKR.mk_sel('Okresy Intrastat'@,,,'okr_ist_slo');
OKR.win_fld(_wer,,'ROK',,,4,,,'Rok'@);
OKR.win_fld(_wer,,'MC',,,7,,,'Miesiąc'@);
OKR.win_fld(_wer,,'NAZ',,,20,,,'Nazwa'@);
OKR.win_fld(_wer,,'ISTPW',,,7,,,'Wywóz'@,,'N-nie dotyczy, P-podstawowy, S-szczegółowy'@);
_bf:="sel_exit()";
OKR.win_act(_wer,,'Formuła','&Wybierz'@@,,'Wybór okresu'@,_bf,,1,,,,'W');

OKR.win_sel(_wer);
_rok:=date()~1;
_mc:=date()~2;
{? +_input=6
||
   {? #(4+_input)>0 || _rok:=#(4+_input) ?};
   {? #(4-_input)>0 || _mc:=#(4-_input) ?}
?};
{? ~OKR.find_key(_rok,_mc) || OKR.last() ?};
{? OKR.select(,1,5)
||
   _interface.save(form(OKR.ROK,-4,,'9 ') + form(OKR.MC,-2))
?};
OKR.cntx_pop;
~~


\p800127
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [20.42]
:: OPIS: Formuła na redagowanie parametru 800127
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
{? var_press('_a')>=0 || __choice:=_a.get() ?};
_Choice:=tab_tmp(1,'AKR','STRING[50]','Akronim','NAZ','STRING[80]','Nazwa');
_Choice.AKR:='KTM';_Choice.NAZ:='Indeks materiałowy'; _Choice.add();
_Choice.AKR:='N';_Choice.NAZ:='Nazwa indeksu materiałowego'; _Choice.add();
_Choice.AKR:='MGR';_Choice.NAZ:='Grupa'; _Choice.add();

_wer:=_Choice.mk_sel();
_Choice.win_fld(_wer,,'AKR',,,30,,,'Akronim'@);
_Choice.win_fld(_wer,,'NAZ',,,50,,,'Nazwa'@);

_fb:="
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget();_Sel.REF:=#_Tab.ref(); _Sel.add();
   {? _Sel.first() & _Tab.seek(_Sel.REF,) & _Tab.AKR<>'' || __choice:=_Tab.AKR ?};
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','Akceptuj'@@,,,_fb,,1,1,_fb,,'A');
_Choice.win_sel(_wer);
_Choice.select();
{? var_press('_a')>=0 || _a.save(__choice) ?};
VAR_DEL.delete('__choice');
~~


\p800850
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.37]
:: OPIS: Formuła na redagowanie parametru 800850
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_choice:=
   FUN.choice('Sposób kontroli zmian cen?\n'
              'Standardowy: zmiana kontrahenta, waluty ,kursu.\n'
              'Szczegółowy: Standardowy oraz dodatkowo inne ceny.\n'@,,
      '&Standardowy'@,'S&zczegółowy'@);
_value:=
   {? _choice=1 || 'N'
   |? _choice=2 || 'T'
   |? _choice=3 || 'B'
   || _par
   ?};
{? _par<>_value || _a.save(_value) ?}


\p700601
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [21.37]
:: OPIS: Formuła na redagowanie parametru 700601
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Typ tworzonych zasobów remontowych podczas generowania zgłoszeń na podstawie reklamacji:'@,
          ,'Materiał'@,'Materiał+&cecha'@);
_choice:={? _choice=1 || 'M'
         |? _choice=2 || 'C'
         || ''
         ?};
{? _choice<>'' & _choice<>_a.get() || _a.save(_choice) ?};
~~


\p800128
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [21.37]
:: OPIS: Formuła na redagowanie parametru 800128
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
__choice_ef:=_a.get();

_Choice:=tab_tmp(1,'KOD','STRING[10]','Kod','O','STRING[80]','Opis');
_Choice.KOD:='N';_Choice.O:='Nie wysyłać'@; _Choice.add();
_Choice.KOD:='W'; _Choice.O:='Zawsze wysyłać'@; _Choice.add();
_Choice.KOD:='E'; _Choice.O:='Przy zgodzie na otrzymywanie dokumentów e-mailem'@; _Choice.add();
_Choice.KOD:='B'; _Choice.O:='Przy zgodzie na otrzymywanie dokumentów w usłudze Businesslink'@; _Choice.add();
_Choice.KOD:='EB'; _Choice.O:='Przy zgodzie na otrzymywanie dokumentów e-mailem lub poprzez Businesslink'@; _Choice.add();

_wer:=_Choice.mk_sel('Przesyłanie e-faktury'@);
_Choice.win_fld(_wer,,'KOD',,,5,,,'Akronim'@);
_Choice.win_fld(_wer,,'O',,,80,,,'Opis'@);

_fb:="
   _Tab:=cur_tab();
   _Sel:=_Tab.sel_aget();_Sel.REF:=#_Tab.ref(); _Sel.add();
   {? _Sel.first() & _Tab.seek(_Sel.REF,) & _Tab.KOD<>'' || __choice_ef:=_Tab.KOD ?};
   sel_exit();
   0
";
_Choice.win_act(_wer,,'Formuła','&Akceptuj'@@,,,_fb,,1,1,_fb,,'A');
_Choice.win_sel(_wer);
_Choice.select();
_a.save(__choice_ef);
VAR_DEL.delete('__choice_ef');
~~


\p800130
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [21.37]
:: OPIS: Formuła na redagowanie parametru 800128
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY:
::----------------------------------------------------------------------------------------------------------------------
exec('str_ofe_f3','abstore_fun',_a);
~~


\p100131
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.37]
:: OPIS: Formuła na redagowanie parametru:
::       100131 - Domyślny sposób fakturowania zgłoszenia jednorazowego
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p100130','params',_a)


\tar_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.37]
:: OPIS: Wybór TAR
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie) -1-pojedynczy wybór ref-a
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c>1;
_wyn:={? _c=-1 || null() || _par ?};
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'KOD','STRING[10]','Kod'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ODDZ','STRING[1]','Oddział'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

TAR.cntx_psh();
TAR.index('KOD');
TAR.f_clear();
TAR.f_set('KOD,NAZ','','\"TAR\".SD=\'S\'');
{? TAR.f_first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.KOD:=TAR.KOD;
         _tab.NAZ:=TAR.NAZ;
         _tab.ODDZ:=TAR.ODDZ;
         _tab.REF:=$TAR.ref();
         _tab.ACCESS:={? _c=-1
                      || 'N'
                      |? ~_c
                      || {? (_par+' ')*(TAR.KOD+' ') || 'T' || 'N' ?}
                      || {? _par=TAR.KOD || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      TAR.f_next()
   !}
?};
TAR.cntx_pop();

_sel:=_tab.mk_sel('Wybór cennika zgłoszenia jednorazowego'@,'P',,'fo_tar',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'ODDZ');
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusu umowy?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór domyślnego cennika dla zgłoszenia?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _one || _tab.find_key(_par,) ?};
{? _tab.select(,_one)
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+' '
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:={? _c=-1 || exec('FindAndGet','#table',TAR,_tab.REF,,null()) || _tab.KOD ?}
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p100132
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.37]
:: OPIS: Formuła na redagowanie parametru:
::       100132 - Domyślny sposób fakturowania umowy cyklicznej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('tar_wyb','params',_a.get(),"1",1));
~~


\p300240
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [21.37]
:: OPIS: Formuła na redagowanie parametru 300240 - Możliwość wysłania e-mailem PDF dokumentu sprzedaży, gdy kontrahent nie ma zgody na e-fakturę
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300603
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [21.14_08]
:: OPIS: Formuła na redagowanie parametru 300603
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_input:=_interface.get();

exec('czytaj','#stalesys',,KST,'OSS','IOSS');

{? KST.OSS='' & KST.IOSS=''
||
   FUN.info('Należy wcześniej uzupłenić numer VAT OSS lub numer VAT IOSS licencjobiorcy.'@)
||
   JPK_SLO.cntx_psh;
   exec('jpk_slo_proc_faks','edi_fo_ksef');
   JPK_SLO.index('KOD');
   JPK_SLO.prefix(HELPJPK.SLO_WER,HELPJPK.SLO_TYP);
   JPK_SLO.find_key(_input);
   JPK_SLO.win_sel('SLO_TEN');
   {? JPK_SLO.select(,1,4)
   ||
      _interface.save(JPK_SLO.KOD)
   ?};
   JPK_SLO.cntx_pop()
?};
~~


\p3007
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [22.26]
:: OPIS: Formuła na redagowanie parametru 3007
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='O'",,1));
~~


\p3009
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [22.26]
:: OPIS: Formuła na redagowanie parametru 3009
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typyzam_wyb','params',_a.get(),"TYPYZAM.R='O'",1,1));
~~


\p100205
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 1001
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('typydok_wyb','params',_a.get()
 ,"TYPYDOK.UE<>'T' & ~(TYPYDOK.INW<>'N') & TYPYDOK.DK='N'"));
~~


\stats_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [22.26]
:: OPIS: Wybór STATS
::   WE: _a - parametr, lista
::       _b - warunek formułowy ograniczenia
::       [_c] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? _>=3  || {? type_of(_c)<>1 || _c:=0 ?} || _c:=0  ?};
_wyn:='';
_par:=_a;
_form:=_b;
_one:=_c;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'SYM','STRING[40]','Symbol'
      ,'KIND','STRING[15]','Rodzaj'
      ,'ACCESS','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');
_tabs:=%8;
STATS.cntx_psh();
STATS.index('AKN');
STATS.prefix('T');
{? STATS.first()
|| {!
   |? {? _form()
      || _tab.blank();
         _tab.SYM:=STATS.N;
         _tab.KIND:={? STATS.KIND='O' || 'nieokreślony' |? STATS.KIND='N' || 'niezgodny' || 'zgodny' ?};
         _tab.REF:=$STATS.ref();
         _tab.ACCESS:={? ~_c
                      || {? (_par+_tabs)*(STATS.N+_tabs) || 'T' || 'N' ?}
                      || {? _par=STATS.N || 'T' || 'N' ?}
                      ?};
         _tab.add(1)
      ?};
      STATS.next()
   !}
?};
STATS.cntx_pop();

_sel:=_tab.mk_sel('Wybór statusu dostawy'@,'P',,'fo_statswyb',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'KIND');

{? ~_c
|| _formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_c
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu dokumentu?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór typu dokumentu?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_c
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.SYM+_tabs
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.SYM
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p100703
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [22.26]
:: OPIS: Formuła na redagowanie parametru 100703
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('stats_wyb','params',_a.get(),"(';ON'*STATS.KIND)>1"));
~~


\p100118
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [22.26]
:: OPIS: Formuła na redagowanie parametru 100118
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Domyślny sposób naliczenia rabatu w paczce faktur:'@,
          ,'Rabat z &paczki'@,'Rabat &kontrahenta'@,'Suma rabatu z paczki i kontrahenta'@);
_choice:={? _choice=1 || 'P'
         |? _choice=2 || 'K'
         |? _choice=3 || 'S'
         || _a.get()
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p700030
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametru 700030
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_oauth_ms','params',_a)


\p700030_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 700030
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
exec('default_params_oauth_ms','params',_a)


\p700031
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametru 700031
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_oauth_ms','params',_a)


\p700031_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 700031
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
exec('default_params_oauth_ms','params',_a)


\p700032
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametru 700032
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_oauth_ms','params',_a)


\p700032_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 700032
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
exec('default_params_oauth_ms','params',_a)


\set_params_oauth_ms
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametrów 700030, 700031, 700032
::----------------------------------------------------------------------------------------------------------------------
_tab:=tab_tmp(1
   ,'P700030','STRING[255]','Identyfikator dzierżawcy'@
   ,'P700031','STRING[255]','Identyfikator klienta'@
   ,'P700032','STRING[255]','Tajny klucz klienta'@
);
_tab.P700030:=exec('get','#params',700030);
_tab.P700031:=exec('get','#params',700031);
_tab.P700032:=exec('get','#params',700032);
_red:=_tab.mk_edit('Parametry aplikacji OAuth Microsoft'@,,'paroauthms');
_tab.win_efld(_red,,'P700030',,,100);
_tab.win_efld(_red,,'P700031',,,100);
_tab.win_efld(_red,,'P700032',,,100);
_tab.efld_opt(_red,'mark=1',,'P700030');
_tab.efld_opt(_red,'mark=1',,'P700031');
_tab.efld_opt(_red,'mark=1',,'P700032');
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);
{? _tab.edit("__CHK.record(cur_tab(1,1))")
|| do();
   exec('set','#params',700030,_tab.P700030);
   exec('set','#params',700031,_tab.P700031);
   exec('set','#params',700032,_tab.P700032);
   end()
?};
~~


\default_params_oauth_ms
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametrów autoryzacji OAutht dla Microsoft
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
{? FUN.ask('Zostną ustawione również puste wartości parametrów %1, %2 i %3.'@['700030','700031','700032'])
|| exec('set','#params',700030,'');
   exec('set','#params',700031,'');
   exec('set','#params',700032,'');
   _result:=1
|| _result:=0
?};
_result


\p700036
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametru 700036
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_oauth_gm','params',_a)


\p700036_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 700036
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
exec('default_params_oauth_gm','params',_a)


\p700037
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametru 700037
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('set_params_oauth_gm','params',_a)


\p700037_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametru 700037
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
exec('default_params_oauth_gm','params',_a)


\set_params_oauth_gm
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na redagowanie parametrów 700036, 700037
::----------------------------------------------------------------------------------------------------------------------
_tab:=tab_tmp(1
   ,'P700036','STRING[255]','Identyfikator klienta'@
   ,'P700037','STRING[255]','Tajny klucz klienta'@
);
_tab.P700036:=exec('get','#params',700036);
_tab.P700037:=exec('get','#params',700037);
_red:=_tab.mk_edit('Parametry aplikacji OAuth Google'@,,'paroauthgm');
_tab.win_efld(_red,,'P700036',,,100);
_tab.win_efld(_red,,'P700037',,,100);
_tab.efld_opt(_red,'mark=1',,'P700036');
_tab.efld_opt(_red,'mark=1',,'P700037');
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);
{? _tab.edit("__CHK.record(cur_tab(1,1))")
|| do();
   exec('set','#params',700036,_tab.P700036);
   exec('set','#params',700037,_tab.P700037);
   end()
?};
~~


\default_params_oauth_gm
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [22.26]
:: OPIS: Formuła na przywracanie wartości domyślnej parametrów autoryzacji OAutht dla Google
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::   WY: 0/1
::----------------------------------------------------------------------------------------------------------------------
{? FUN.ask('Zostną ustawione również puste wartości parametrów %1 i %2'@['700036','700037'])
|| exec('set','#params',700036,'');
   exec('set','#params',700037,'');
   _result:=1
|| _result:=0
?};
_result


\p300605
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [23.25]
:: OPIS: Formuła na redagowanie parametru 100223
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Okres deklaracji Intrastat wg daty:'@,,'Wystawienia'@,'Sprzedaży'@,'Dostawy'@);
_choice:={? _choice=1 || 'W'
         |? _choice=2 || 'S'
         |? _choice=3 || 'D'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p600060
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [23.25]
:: OPIS: Formuła na redagowanie parametru 600060
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_tab:=tab_tmp(1
   ,'P600060','INTEGER','Liczba poziomów zagłębienia'@
);
_tab.P600060:=exec('get','#params',600060);
_red:=_tab.mk_edit('Historia dostaw'@,,'parhdlpz');
_tab.win_efld(_red,,'P600060',,,6);
_tab.efld_opt(_red,'mark=1',,'P600060');
exec('ok_esc','#window',_tab,_red);
_tab.win_edit(_red);
{? _tab.edit("_tab:=cur_tab(1,1);
             _res:=1;
             {? _tab.P600060<0
             || FUN.info('Należy podać wartość większą lub równą zero.'@); _tab.P600060:=0; _res:=0
             |? _tab.P600060>0 & _tab.P600060<3
             || FUN.info('Minimalna wartość liczby poziomów wynosi 3.'@); _tab.P600060:=3; _res:=0
             ?};
             _res")
|| do();
   exec('set','#params',600060,_tab.P600060);
   end()
?};
obj_del(_tab);
~~


\p500407
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametry 500407
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=exec('tpktl_wyb','params',_interface.get());
{? type_of(_val)=type_of('') & _val<>''
|| _interface.save(_val)
?};
~~


\tpktl_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Wybór TPKTL
::   WE: _a - wartość parametru
::   WY: STRING - wybrana wartość lub ''
::----------------------------------------------------------------------------------------------------------------------
_wyn:='';
_par:=_a;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1,'TYP','STRING[3]','Typ'
      ,'OPIS','STRING[60]','Opis'
      ,'SELECTED','STRING[1]','Wybrano'
      ,'REF','STRING[16]','Ref SQL');

TPKTL.cntx_psh();
TPKTL.clear();
TPKTL.f_set('TYP,OPIS',,
   'TPKTL.REFERENCE<>:_a and TPKTL.REFERENCE<>:_b',
   exec('ref_k_res','tech_head'),
   exec('ref_t_res','tech_head')
);
{? TPKTL.f_first()
|| {!
   |? _tab.blank();
      _tab.TYP:=TPKTL.TYP;
      _tab.OPIS:=TPKTL.OPIS;
      _tab.REF:=$TPKTL.ref();
      _tab.SELECTED:={? (_par+' ')*(TPKTL.TYP+' ') || 'T' || 'N' ?};
      _tab.add(1);
      TPKTL.f_next()
   !}
?};
TPKTL.cntx_pop();

_sel:=_tab.mk_sel('Wybór domyślnego typu karty technologicznej'@,'P',,'fo_tpktl',,,,,'U');
_tab.win_fld(_sel,,'SELECTED',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'TYP');
_tab.win_fld(_sel,,'OPIS');

_formula:="__zatw:=1; sel_exit()";
_tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,,,,'W');
_tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty');

_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór domyślnego typu karty technologicznej?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór domyślnego typu karty technologicznej?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_sel(_sel);
{? _tab.select()
|| _wyn:=_tab.TYP
?};
VAR_DEL.delete('__zatw');
_wyn


\p100937
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Formuła na redagowanie parametru 100937
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
exec('std_number','params',_interface,0,1);
~~


\p900506
::----------------------------------------------------------------------------------------------------------------------
::  UTW: BF [23.25]
:: OPIS: Formuła na redagowanie parametru 900506
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('std_string','params',_a);
~~


\kpo_stat_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [TS] [23.25]
:: OPIS: Wybór statusów kart przekazania odpadów
::   WE: _a - parametr, lista statusów
::       [_b] - 1-pojedynczy wybór 0-nie (domyślnie)
::   WY: parametr
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('_b')<>type_of(0) || _b:=0 ?};

_wyn:='';
_par:=_a;
_wyn:=_par;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1
   ,'KOD','STRING[25]','Kod'@
   ,'NAZ','STRING[30]','Nazwa'@
   ,'ACCESS','STRING[1]','Wybrany'@
   ,'REF','STRING[16]','Ref SQL'
);
KPO_STAT.cntx_psh();
KPO_STAT.index('KOD');
KPO_STAT.prefix();
{? KPO_STAT.first()
|| {!
   |? _tab.blank();
      _tab.KOD:=KPO_STAT.KOD;
      _tab.NAZ:=KPO_STAT.NAZ;
      _tab.REF:=$MG.ref();
      _tab.ACCESS:={? ~_b
                   || {? (_par+',')*(KPO_STAT.KOD+',') || 'T' || 'N' ?}
                   || {? _par=KPO_STAT.KOD || 'T' || 'N' ?}
                   ?};
      _tab.add(1);
      KPO_STAT.next()
   !}
?};
KPO_STAT.cntx_pop();

_sel:=_tab.mk_sel('Wybór statusu'@,'P',,'fo_kpo_stat',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NAZ');

{? ~_b
|| _formula:="_tab:=cur_tab();_tab.ACCESS:='T'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
   _formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
   _tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
   _tab.win_btn(_sel,'text='+'&Odbierz'@+',panel=right,align=begin','menu:O',,,,,,'noempty')
?};
_formula:="__zatw:=1; sel_exit()";
{? ~_b
|| _tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
   _tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty')
|| _tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,,,,,'W');
   _tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty')
?};
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór statusów kart przekazania odpadów?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór statusów kart przekazania odpadów?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| {? ~_b
   || _wyn:='';
      _tab.clear();
      {? _tab.first()
      || {!
         |? {? _tab.ACCESS='T'
            || _wyn+=_tab.KOD+','
            ?};
            _tab.next()
         !}
      ?}
   || _wyn:=_tab.KOD
   ?}
?};
VAR_DEL.delete('__zatw');
_wyn


\p100337
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Formuła na redagowanie parametru 100337
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_a.save(exec('kpo_stat_wyb','params',_a.get(),0));
~~


\p8506
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 8506 (Zakres wyświetlanych przewodników zleceń)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
ZAKR.ZTP_WP:=1+_par;
ZAKR.ZGH_ZLST:=1+(1-_par);
ZAKR.ZGH_STAN:=1+(2-_par);
ZAKR.ZGH_STAT:=1+(3-_par);
ZAKR.ZGH_PROB:=1+(4-_par);
ZAKR.ZGH_BRAK:=_par+1;
ZAKR.win_edit('ZAKR_ZGH');
ZAKR.win_efml('ZAKR_ZGH',,'IKONA_N',,'ICON_BEFORE',"'xwin16.png:18'");
ZAKR.win_efml('ZAKR_ZGH',,'IKONA_O',,'ICON_BEFORE',"'xwin16.png:156'");
ZAKR.win_efml('ZAKR_ZGH',,'IKONA_Z',,'ICON_BEFORE',"'xwin16.png:157'");
{? ZAKR.edit()
|| _a.save(ZAKR.ZTP_WP+ZAKR.ZGH_ZLST+ZAKR.ZGH_STAN+ZAKR.ZGH_STAT+ZAKR.ZGH_PROB+ZAKR.ZGH_BRAK)
?};
~~


\p100352
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [23.25]
:: OPIS: Formuła na redagowanie parametru 100353
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.choice('Ilość dni cofnięcia w wyznaczaniu tabeli kursów:'@,,'Jednakowa'@,'Dla &użytkownika'@);
_choice:={? _choice=1 || 'J'
         |? _choice=2 || 'U'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p8507
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 8507 (Dodatkowe widoki dla słownika materiałów podczas korekty na zamiennik)
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_tab:=tab_tmp(,'ZAMT','STRING[1]','Zamienniki technologiczne','ZAMM','STRING[1]','Zamienniki materiałowe');
_tab.ZAMT:=1+_par;
_tab.ZAMM:=_par+1;
_red:=_tab.mk_edit('Wybór dodatkowych widoków'@,,'par_p8507');
_tab.win_esep(_red,'Dodatkowe widoki'@);
_tab.win_efld(_red,,'ZAMT',,,,,,'Zamienniki technologiczne'@,,,'check-box',,"'T'","'N'");
_tab.win_efld(_red,,'ZAMM',,,,,,'Zamienniki materiałowe'@,,,'check-box',,"'T'","'N'");
_tab.win_edit(_red);
exec('ok_esc','#window',_tab,_red);
{? _tab.edit()
|| _a.save(_tab.ZAMT+_tab.ZAMM)
?};
~~


\p300241
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [23.25]
:: OPIS: Formuła na redagowanie parametru 300241 - Utwórz zapis w kasie
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300812
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [23.25]
:: OPIS: Formuła na redagowanie parametru 300812
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.ask('Dostępna niezależna realizacja zamówień sprzedaży z rezerwacjami pod zlecenie?\n\n'
                 'Uwaga. Po zmianie stanu parametru należy odtworzyć statusy zamówień.\n\n'
                 'Obszar: Administracja,\nZakładka: Magazyny,\nFunkcja: Odtworzenie statusów zamówień.'@);

_choice:={? _choice=1 || 'T'
         |? _choice=0 || 'N'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\p600812
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [23.25]
:: OPIS: Formuła na redagowanie parametru 300812
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_choice:=FUN.ask('Dostępna niezależna realizacja zamówień wewnętrznych z rezerwacjami pod zlecenie?\n\n'
                 'Uwaga. Po zmianie stanu parametru należy odtworzyć statusy zamówień.\n\n'
                 'Obszar: Administracja,\nZakładka: Magazyny,\nFunkcja: Odtworzenie statusów zamówień.'@);

_choice:={? _choice=1 || 'T'
         |? _choice=0 || 'N'
         || ''
         ?};
{? _choice<>'' || _a.save(_choice) ?};
~~


\twrkplc_wyb
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Wybór TWRKPLC
::   WE: _a - wartość parametru
::   WY: STRING - wybrana wartość lub ''
::----------------------------------------------------------------------------------------------------------------------
_wyn:='';
_par:=_a;
VAR_DEL.delete('__zatw');
__zatw:=0;
_tab:=tab_tmp(1
   ,'KOD','STRING[20]','Kod'
   ,'NA','STRING[60]','Nazwa'
   ,'SELECTED','STRING[1]','Wybrano'
   ,'REF','STRING[16]','Ref SQL');

TWRKPLC.cntx_psh();
TWRKPLC.index('KOD');
TWRKPLC.prefix();
{? TWRKPLC.first()
|| {!
   |? _tab.blank();
      _tab.KOD:=TWRKPLC.KOD;
      _tab.NA:=TWRKPLC.NA;
      _tab.REF:=$TWRKPLC.ref();
      _tab.SELECTED:={? (_par+' ')*(TWRKPLC.KOD+' ') || 'T' || 'N' ?};
      _tab.add(1);
      TWRKPLC.next()
   !}
?};
TWRKPLC.cntx_pop();

_sel:=_tab.mk_sel('Wybór stanowiska do rejestracji'@,'P',,'fo_twrk',,,,,'U');
_tab.win_fld(_sel,,'SELECTED',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'KOD');
_tab.win_fld(_sel,,'NA');

_formula:="__zatw:=1; sel_exit()";
_tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,,,,'W');
_tab.win_btn(_sel,'text='+'&Wybierz'@+',btn_label_align=center,panel=right,align=begin','menu:W',,,,,,'noempty');

_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór stanowiska do rejestracji?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór stanowiska do rejestracji?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_sel(_sel);
{? _tab.select()
|| _wyn:=_tab.KOD
?};
VAR_DEL.delete('__zatw');
_wyn


\p8788
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Formuła na redagowanie parametru 8788
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_val:=exec('twrkplc_wyb','params',_interface.get());
{? type_of(_val)=type_of('') & _val<>''
|| _interface.save(_val)
?};
~~

\p300916
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300916
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p300916','tagger',_a)


\p300914
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300914
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p300914','tagger',_a)


\p300921
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300921
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('param_edit','tagger',_a)


\p300922
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300922
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('param_edit','tagger',_a)


\p300923
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300923
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('param_edit','tagger',_a)


\p300901
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300901
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p300901','tagger',_a)


\p300901_default
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PBS [23.25]
:: OPIS: Formuła obsługująca edycję parametru 300901 - powrót do wartości domyślnej
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p300901_default','tagger',_a)


\p700712
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PD [23.25]
:: OPIS: Typ dokumentu magazynowego dla materiałów do realizacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_wyn:=_a.get();
_ref:=exec('typydok','!lmg_mag_dwyd');
{? _ref<>null()
||
   TYPYDOK.cntx_psh();
   TYPYDOK.prefix();
   {? TYPYDOK.seek(_ref) || _wyn:=TYPYDOK.T ?};
   TYPYDOK.cntx_pop()
?};
_a.save(_wyn);
~~


\p600051
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Formuła na redagowanie parametru 600050
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_res:=_a.get();

VAR_DEL.delete('__zatw','__tndx');
__zatw:=0;
_tab:=tab_tmp(1,'LP','INTEGER','Kolejność'
      ,'SYM','STRING[8]','Symbol'
      ,'NAZ','STRING[40]','Nazwa'
      ,'ACCESS','STRING[1]','Wybrano');

{? _res=''
|| _tab.blank(); _tab.LP:=1; _tab.SYM:='A'; _tab.NAZ:='Średnia cena dostaw'; _tab.ACCESS:='N'; _tab.add(1);
   _tab.blank(); _tab.LP:=2; _tab.SYM:='T'; _tab.NAZ:='Wycena wg TKW'; _tab.ACCESS:='N'; _tab.add(1);
   _tab.blank(); _tab.LP:=3; _tab.SYM:='L'; _tab.NAZ:='Ostania cena dostawy'; _tab.ACCESS:='N'; _tab.add(1);
   _tab.blank(); _tab.LP:=4; _tab.SYM:='M'; _tab.NAZ:='Minimalna cena dostaw'; _tab.ACCESS:='N'; _tab.add(1);
   _tab.blank(); _tab.LP:=5; _tab.SYM:='X'; _tab.NAZ:='Maksymalna cena dostaw'; _tab.ACCESS:='N'; _tab.add(1);
   _tab.blank(); _tab.LP:=6; _tab.SYM:='C'; _tab.NAZ:='Mediana cen dostaw'; _tab.ACCESS:='N'; _tab.add(1)
|| _len:=+_res;
   _buf:='ATLMXC';
   {! _ii:=1.._len
   |! _ch:=1+((_ii-1)-_res);
      _tab.blank(); _tab.ACCESS:='T';
      {? _ch='A' || _tab.LP:=_ii; _tab.SYM:='A'; _tab.NAZ:='Średnia cena dostaw';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      |? _ch='T' || _tab.LP:=_ii; _tab.SYM:='T'; _tab.NAZ:='Wycena wg TKW';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      |? _ch='L' || _tab.LP:=_ii; _tab.SYM:='L'; _tab.NAZ:='Ostania cena dostawy';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      |? _ch='M' || _tab.LP:=_ii; _tab.SYM:='M'; _tab.NAZ:='Minimalna cena dostawy';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      |? _ch='X' || _tab.LP:=_ii; _tab.SYM:='X'; _tab.NAZ:='Maksymalna cena dostawy';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      |? _ch='C' || _tab.LP:=_ii; _tab.SYM:='C'; _tab.NAZ:='Mediana cen dostaw';
                    {? _tab.add(1) || _buf:=gsub(_buf,_ch,'') ?}
      ?}
   !};
   _leb:=+_buf;
   {! _ii:=1.._leb
   |! _ch:=1+((_ii-1)-_buf);
      _tab.blank(); _tab.ACCESS:='N';
      {? _ch='A' || _tab.LP:=_len+_ii; _tab.SYM:='A'; _tab.NAZ:='Średnia cena dostaw'; _tab.add(1)
      |? _ch='T' || _tab.LP:=_len+_ii; _tab.SYM:='T'; _tab.NAZ:='Wycena wg TKW'; _tab.add(1)
      |? _ch='L' || _tab.LP:=_len+_ii; _tab.SYM:='L'; _tab.NAZ:='Ostania cena dostawy'; _tab.add(1)
      |? _ch='M' || _tab.LP:=_len+_ii; _tab.SYM:='M'; _tab.NAZ:='Minimalna cena dostawy'; _tab.add(1)
      |? _ch='X' || _tab.LP:=_len+_ii; _tab.SYM:='X'; _tab.NAZ:='Maksymalna cena dostawy'; _tab.add(1)
      |? _ch='C' || _tab.LP:=_len+_ii; _tab.SYM:='C'; _tab.NAZ:='Mediana cen dostaw'; _tab.add(1)
      ?}
   !}
?};
__tndx:=_tab.ndx_tmp(,,'LP',,);

_sel:=_tab.mk_sel('Wybór wyceny nadmiaru na inwentaryzacji'@,'P',,'cen_inwent',,,,,'U');
_tab.win_fld(_sel,,'ACCESS',,,,,,,,'Czy wybrano [T/N]?'@,2,,"'T'","'N'");
_tab.win_fld(_sel,,'SYM');
_tab.win_fld(_sel,,'NAZ');

_formula:="_tab:=cur_tab(); _tab.ACCESS:='T'; _tab.put()";
_tab.win_act(_sel,,'Formuła','&Wybierz'@@,,,_formula,,1,1,,,'W');
_tab.win_btn(_sel,'text='+'&Wybierz'@+',panel=right,align=begin','menu:W',,,,,,'noempty');
_formula:="_tab:=cur_tab(); _tab.ACCESS:='N'; _tab.put()";
_tab.win_act(_sel,,'Formuła','&Odbierz'@@,,,_formula,,,1,,,'O');
_tab.win_btn(_sel,'text='+'&Odbierz'+',panel=right,align=begin','menu:O',,,,,,'noempty');
_formula:="__zatw:=1; sel_exit()";
_tab.win_act(_sel,,'Formuła','&Akceptuj'@@,,,_formula,,,,,,'A');
_tab.win_btn(_sel,'text='+'&Akceptuj'@+',btn_label_align=center,panel=bottom,align=end','menu:A',,,,,,'noempty');
_tab.win_btn(_sel,'text='+'A&nuluj'@+',btn_label_align=center,panel=bottom,align=end','key:Esc');
_tab.win_act(_sel,0,'Menu','Przesuń&'@@,,'Przenumerowanie pozycji'@,,,,,,,'Ń');
_tab.win_act(_sel,0,'Formuła','W &górę'@@,'#Ń','Przesuwa rekord w górę o n pozycji'@,,
   "params_exec('tab_par_move','params','U')",,1,"params_exec('tab_par_move','params','U')",,'G',0);
_tab.act_icn(_sel,0,'ŃG','|2arrow-up');
_tab.win_act(_sel,0,'Formuła','W &dół'@@,'#Ń','Przesuwa rekord w dół o n pozycji'@,
   "params_exec('tab_par_move','params','D')",,,1,"params_exec('tab_par_move','params','D')",,'D');
_tab.act_icn(_sel,0,'ŃD','|2arrow-down');
_tab.win_act(_sel,0,'Formuła','Do &numeru'@@,'#Ń','Przesuwa rekord do wskazanego numeru'@,
   "params_exec('tab_par_move','params','N')",,,1,"params_exec('tab_par_move','params','N')",,'N');
_tab.act_icn(_sel,0,'ŃN','|arrow-goto-next');

_tab.win_act(_sel,,'Kolejność',);
:: Takie czary, żeby zadziałały tłumaczenia poniżej (teksty MUSZĄ być identyczne)
'Czy zakończyć wybór typu dokumentu?'@; 'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@;
_tab.win_act(_sel,,'Okienko',,,,,"
   {? ~__zatw
   || FUN.ask('Czy zakończyć wybór wyceny inwentaryzacji?'@+'\n'+'Uwaga. Wprowadzone zmiany nie zostaną uwzględnione.'@)
   || 1
   ?}");
_tab.win_act(_sel,,'Rekord',,,,"
      _tab:=cur_tab();
      {? _tab.ACCESS='T' | _tab.sel_size()
      || _tab.actions(_tab.win_sel('?'),,'O',1)
      || _tab.actions(_tab.win_sel('?'),,'W',1)
      ?}
   ");
_tab.win_sel(_sel);
{? _tab.select()
|| _res:='';
   _tab.clear();
   {? _tab.first()
   || {!
      |? {? _tab.ACCESS='T'
         || _res+=_tab.SYM
         ?};
         _tab.next()
      !}
   ?}
?};
VAR_DEL.delete('__zatw','__tndx');
obj_del(_tab);
_a.save(_res);
~~


\tab_par_move
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [22.26]
:: OPIS: Akcja Przesuń w oknie z wycen
::   WE: _a - STRING - kierunek przesuwania: 'U','D','N'
::----------------------------------------------------------------------------------------------------------------------
_par:={? var_pres('_a')=type_of('') || _a || 'N' ?};

exec('zmien_lpa','#dragdrop','LP',__tndx,,,_par);
~~


\p500224
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 500224 - domyślny sposób grupowania pozycji dla zamówień sprzedaży
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_wyn:=_a.get();
_edit:=exec('zl_gen_win_grp','zl_gen',0,1);
ZLEC.cntx_psh();
ZLEC.win_edit(_edit);
ZLEC.GRP:=exec('grp_param_convert','zl_gen',_wyn);
{? ZLEC.edit()
|| _a.save(exec('grp_param_convert','zl_gen',ZLEC.GRP))
?};
ZLEC.cntx_pop();
~~


\p500225
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 500225 - domyślny sposób grupowania pozycji dla planu dostaw
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_wyn:=_a.get();
_edit:=exec('zl_gen_win_grp','zl_gen',1,1);
ZLEC.cntx_psh();
ZLEC.win_edit(_edit);
ZLEC.GRP:=exec('grp_param_convert','zl_gen',_wyn);
{? ZLEC.edit()
|| _a.save(exec('grp_param_convert','zl_gen',ZLEC.GRP))
?};
ZLEC.cntx_pop();
~~


\p500226
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 500226 - domyślny sposób grupowania pozycji dla planu sprzedaży
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_wyn:=_a.get();
_edit:=exec('zl_gen_win_grp','zl_gen',2,1);
ZLEC.cntx_psh();
ZLEC.win_edit(_edit);
ZLEC.GRP:=exec('grp_param_convert','zl_gen',_wyn);
{? ZLEC.edit()
|| _a.save(exec('grp_param_convert','zl_gen',ZLEC.GRP))
?};
ZLEC.cntx_pop();
~~


\p500393
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Formuła na redagowanie parametru 500393 - sposób grupowania obiektów
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_names:=obj_new(4);
_names[1]:='Wg terminu realizacji - dziennie'@;
_names[2]:='Wg terminu realizacji - tygodniowo'@;
_names[3]:='Wg indeksu materiałowego'@;
_names[4]:='Wg grupy materiałowej'@;

_vals:=obj_new(4);
_vals[1]:='D';
_vals[2]:='T';
_vals[3]:='I';
_vals[4]:='G';

_edit:=exec('edit_radiobutton','#edit',_interface.get(),'Sposób grupowania'@,_names,_vals,'Parametry zakresu'@);

{? type_of(_edit)=type_of('') & _edit<>''
|| _interface.save(_edit)
?};
~~


\p500713
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 500713 - kolejność rozliczania dostaw do ZW
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=FUN.choice(_interface.name(),,'Wg daty - &rosnąco'@,'Wg daty - &malejąco'@);
{? _choice=1
|| _interface.save('R')
|? _choice=2
|| _interface.save('M')
?};
~~


\p100955
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Formuła na redagowanie parametru 100955 - Diagnostyka synchro podczas wysyłania danych przez API
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;

_names:=obj_new(3);
_names[1]:='Diagnostyka wyłączona'@;
_names[2]:='Rejestrowanie wywołań zwracających niepusty wynik'@;
_names[3]:='Rejestrowanie wszystkich wywołań'@;

_vals:=obj_new(3);
_vals[1]:='N';
_vals[2]:='T';
_vals[3]:='W';

_edit:=exec('edit_radiobutton','#edit',_interface.get(),'Poziom rejestrowania'@,_names,_vals,'Diagnostyka synchro'@);

{? type_of(_edit)=type_of('') & _edit<>''
|| _interface.save(_edit)
?};
~~


\p200138
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [23.25]
:: OPIS: Formuła na redagowanie parametru 200138 - Czy data sprzedaży w pozycji faktury?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p300138
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [23.25]
:: OPIS: Formuła na redagowanie parametru 300138 - Czy data sprzedaży w pozycji faktury?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\p100705
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [23.25]
:: OPIS: Formuła na redagowanie parametru 100705
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_choice:=_interface.get();
_default:=
   {? _choice='Wyznacz datę przed dniem wolnym' || 1
   |? _choice='Wyznacz datę po dniu wolnym' || 2
   |? _choice='Nie aktualizuj' || 3
   || 0
   ?};
_choice:=FUN.choice('Wybierz sposób aktualizacji daty, która jest dniem wolnym:'@,_default,
   'Wyznacz datę przed dniem wolnym'@,'Wyznacz &datę po dniu wolnym'@,'Nie aktualizuj'@);

_choice:=
   {? _choice=1 || 'Wyznacz datę przed dniem wolnym'
   |? _choice=2 || 'Wyznacz datę po dniu wolnym'
   |? _choice=3 || 'Nie aktualizuj'
   || ''
   ?};
{? _choice<>'' || _interface.save(_choice) ?}


\p500121
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Formuła na redagowanie parametru 500121 - Lista kontrolowanych elementów podczas zamykania grupy operacji
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
_interface:=_a;
_par:=_interface.get();

_tab:=tab_tmp(1
   ,'NZL','STRING[1]','Akceptacja limitów'
   ,'PDP','STRING[1]','Akceptacja dokumentów'
   ,'LIM','STRING[1]','Rozliczenie limitów'
   ,'NLI','STRING[1]','Rozliczenie nielimitów'
   ,'ILO','STRING[1]','Rozliczenie robocizny'
);

_tab.NZL:=1+_par;
_tab.PDP:=1+(1-_par);
_tab.LIM:=1+(2-_par);
_tab.NLI:=1+(3-_par);
_tab.ILO:=_par+1;
_tab.add();

_sep:=8*' ';

_edit:=_tab.mk_edit('Kontrole podczas zamykania grup operacji'@,,'p500121');
_tab.win_esep(_edit,'Kontrola akceptacji'@);
_tab.win_efld(_edit,,'NZL',,,,,,_sep,,,'check-box','check_label="%1"'['limitów'@],"'T'","'N'");
_tab.win_efld(_edit,,'PDP',,,,,,_sep,,,'check-box','check_label="%1"'['dokumentów'@],"'T'","'N'");
_tab.win_esep(_edit,'Kontrola rozliczenia'@);
_tab.win_efld(_edit,,'LIM',,,,,,_sep,,,'check-box','check_label="%1"'['surowców limitowanych'@],"'T'","'N'");
_tab.win_efld(_edit,,'NLI',,,,,,_sep,,,'check-box','check_label="%1"'['surowców nielimitowanych'@],"'T'","'N'");
_tab.win_efld(_edit,,'ILO',,,,,,_sep,,,'check-box','check_label="%1"'['robocizny (ilości)'@],"'T'","'N'");
exec('ok_esc','#window',_tab,_edit);
_tab.win_edit(_edit);

{? _tab.edit()
|| _interface.save(_tab.NZL+_tab.PDP+_tab.LIM+_tab.NLI+_tab.ILO)
?};
~~


\p600061
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [23.25]
:: OPIS: Formuła na redagowanie parametru 600061
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)


\tak_nie
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [23.25]
:: OPIS: Formuła na redagowanie parametru: Tak/Nie
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - dodatkowa treść pytania
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_msg0:={? var_pres('_b')=type_of('') || _b || '' ?};

_msg:=_a.name();
{? _msg0<>''
|| _msg:=_msg0+'\n'+_msg
?};

_choice:=FUN.choice(_msg,,'Tak'@,'Nie'@);

_choice:={? _choice=1 || 'T'
         |? _choice=2 || 'N'
         || ''
         ?};
{? var_pres('__PAR_WYNIK')>0
|| __PAR_WYNIK:=_choice
?};
{? _choice<>''
|| _a.save(_choice)
?};
~~


\p6050
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [23.25]
:: OPIS: Formuła na redagowanie parametru 6050 - Wyceniać dokumenty magazynowe na podstawie dokumentów zakupu?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_p200301_v:=exec('get','#params',200301,2);
{? _p200301_v='T' | _p200301_v='P'
|| _msg0:='Po ustawieniu parametru 6050 na "Tak"\n'+
         'parametr "200301 '+exec('name','#params',200301,'A')+'"\n zostanie ustawiony na "Nie".\n'
|| _msg0:=''
?};
VAR_DEL.delete('__PAR_WYNIK');
__PAR_WYNIK:='';
exec('tak_nie','params',_a,_msg0);
{? (_p200301_v='T' | _p200301_v='P') & __PAR_WYNIK='T'
|| exec('set','#params',200301,'N')
?};
VAR_DEL.delete('__PAR_WYNIK');
~~


\p600919
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [RR.xx]
:: OPIS: Formuła na redagowanie parametru 600919
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a);
~~


\p300218
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [RR.XX]
:: OPIS: Formuła na redagowanie parametru 300218 - Czy drukować dokument z rezerwacją bez wydania z magazynu?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('tak_nie_pytaj','params',_a)

\p300219
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [RR.xx]
:: OPIS: Formuła na redagowanie parametru 300219 - Czy drukować dokument wystawiany jako e-dokument?
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
exec('nie_pytaj','params',_a)


\nie_pytaj
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MW [RR.xx]
:: OPIS: Formuła na redagowanie parametru: Nie/Pytaj
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - dodatkowa treść pytania
::  TAG: <PRYWATNA>
::----------------------------------------------------------------------------------------------------------------------
_msg0:={? var_pres('_b')=type_of('') || _b || '' ?};

_msg:='Wybierz sposób obsługi:'@;
{? _msg0<>''
|| _msg:=_msg0+'\n'+_msg
?};

_choice:=FUN.choice(_msg,,'Nie'@,'Pytaj'@);

_choice:={? _choice=1 || 'N'
         |? _choice=2 || 'P'
         || ''
         ?};
{? var_pres('__PAR_WYNIK')>0
|| __PAR_WYNIK:=_choice
?};
{? _choice<>''
|| _a.save(_choice)
?};
~~


\p600922
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [RR.xx]
:: OPIS: Formuła na redagowanie parametru 600922
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::       [_b] - etykieta okienka (domyślnie obsługa palet)
::----------------------------------------------------------------------------------------------------------------------
_par:=_a.get();
_etyk:='p600922';
_desc:={? var_pres('_b')=type_of('') || _etyk:='p600923'; _b || 'Podpowiadanie lokalizacji dla operacji paletowych'@ ?};

_wyd:=exec('get','#params',600913,2);
_inw:=exec('get','#params',600917,2);

_tab:=tab_tmp(1,'OP_W','STRING[1]',''
       ,'OP_I','STRING[1]',''
       ,'OP_R','STRING[1]',''
       ,'OP_K','STRING[1]','');

_ll:=_tab.fld_num();
{! _ii.._ll |! _buf:=1+((2*(_ii-1)+1)-_par); _tab[_ii]:={? (';TN'*_buf)>1 || _buf || 'N' ?} !};


_red:=_tab.mk_edit(_desc,,_etyk);
_tab.win_esep(_red,'Operacje'@);
_tab.win_efld(_red,_tab,'OP_W',,,,,,'Wydanie w magazynie'@,,,'check-box',,"'T'", "'N'");
_tab.win_efld(_red,_tab,'OP_I',,,,,,'Inwentaryzacja'@,,,'check-box',,"'T'", "'N'");
_tab.win_efld(_red,_tab,'OP_R',,,,,,'Reorganizacja'@,,,'check-box',,"'T'", "'N'");
_tab.win_efld(_red,_tab,'OP_K',,,,,,'Kompletacja wysyłki'@,,,'check-box',,"'T'", "'N'");
_tab.win_ebtn(_red,'text=%1'['Zapisz'@],'key:F2');
_tab.win_ebtn(_red,'text=%1'['Anuluj'@],'key:Esc');
_tab.win_edit(_red);

{? _tab.edit()
|| _value:='W%1I%2R%3K%4'[_tab.OP_W,_tab.OP_I,_tab.OP_R,_tab.OP_K];
   _a.save(_value);
   {? _etyk='p600922'
   || exec('set','#params',600913,_tab.OP_W);
      exec('set','#params',600917,_tab.OP_I)
   ?}
?};
obj_del(_tab)


\p600923
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [RR.xx]
:: OPIS: Formuła na redagowanie parametru 600923
::   WE: _a - obj_new - obiekt umożliwiający zapis parametru
::----------------------------------------------------------------------------------------------------------------------
exec('p600922','params',_a,'Podpowiadanie lokalizacji dla operacji bez obsługi palet'@)

:Sign Version 2.0 jowisz:1045 2024/02/14 14:27:37 68a6116cd73894d7216270f2bfd165fd2c3da1a75c893ee7fb4db329a4b5019ca3570780ad724b9f8f3f8109b1ad12742e181d286dca4812fc3404c4b563ea5ff31eb481b9754df4681e8631c42d66b5215cae438b37af91f1d60b46545f3bc9dbd548b85c80516c26bbe38ce9fb9b3f76777dec15b392d856f80be542dbc84b
