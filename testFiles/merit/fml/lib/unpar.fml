:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzezone
::======================================================================================================================
:: Nazwa pliku: unpar.fml
:: Utworzony: 20.06.2002
:: Autor: AMA
::======================================================================================================================
:: Zawartosc:  Formuly do obslugi uniwersalnych parametrow
::======================================================================================================================


\be_par
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AMA] [7.60]
:: OPIS: Formula przed redakcja parametru
::   WE: _a - akronim tabeli
::       _b - akronim pola
::  OLD: \be_par/skid_unp.fml
::----------------------------------------------------------------------------------------------------------------------
{? _=2 & _a='UNPAR' & 1+_b='P'
|| _vf:='{? UNPAR.P'+(1-_b)+'_BE<>\'\' || ($(UNPAR.P'+(1-_b)+'_BE))()'
       +'|| 1 ?}'; ($(_vf))()
?}


\f3_par
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MB] [2008]
:: OPIS: Klawisz F3 dla parametru
::   WE: _a - akronim tabeli
::       _b - akronim pola
::  OLD: \roczne/skid_unp.fml
::----------------------------------------------------------------------------------------------------------------------
{? _=2 & _a='UNPAR' & 1+_b='P'
|| _vf:='{? UNPAR.P'+(1-_b)+'_F3<>\'\' || ($(UNPAR.P'+(1-_b)+'_F3))()'
       +'|| 1 ?}'; ($(_vf))()
?}


\ae_par
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [AMA] [7.60]
:: OPIS: Formula po redakcji parametru
::   WE: _a - akronim tabeli
::       _b - akronim pola
::  OLD: \ae_par/skid_unp.fml
::----------------------------------------------------------------------------------------------------------------------
{? _=2 & _a='UNPAR' & 1+_b='P'
|| _vf:='{? UNPAR.P'+(1-_b)+'_AE<>\'\' || ($(UNPAR.P'+(1-_b)+'_AE))()'+'|| 1 ?}';
   ($(_vf))()
?}


\bv_par
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MM [8.60]
:: OPIS: Formula przed wyswietleniem parametru
::   WE: _a - akronim tabeli
::       _b - akronim pola
::  OLD: \bv_par/skid_unp.fml
::----------------------------------------------------------------------------------------------------------------------
{? _=2 & _a='UNPAR' & 1+_b='P'
|| _vf:='{? UNPAR.P'+(1-_b)+'_BV<>\'\' || ($(UNPAR.P'+(1-_b)+'_BV))()'
       +'|| 1 ?}'; ($(_vf))()
?}


\clear
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MM [8.60]
:: OPIS: Formula czysci zmienna i formuly przed i po redakcji oraz formule
::       przed wyswietleniem
::   WE: _a - string oznaczajacy czy maja byc czyszczone formuly na:
::            'BL' - blank
::            'BE' - przed edycja
::            'AE' - po redakcji
::            'BV' - przed wyswietl
::       _b - numer parametru w postaci stringu
::       [_c,_d...] - numery nastepnych parametrow w postaci stringow
::  OLD: \clear/skid_unp.fml
::----------------------------------------------------------------------------------------------------------------------
{! _it:=2 .. _
|! _vp:={? _a*'BL' || ($('var_pres(\'P'+_[_it]+'\',UNPAR)'))() ?};
   {? _vp
   || _vf:='UNPAR.P'+_[_it]+':='+
                             {? _vp=27
                             || '\'\''
                             |? _vp=20 | _vp=22
                             || '0'
                             |? _vp=21
                             || 'date(0,0,0)'
                             |? _vp=29
                             || 'time(0,0,0)'
                             ||'null'
                             ?};
      ($(_vf))();
      _vp:={? _a*'BV' || ($('var_pres(\'P'+_[_it]+'_BV\',UNPAR)'))() ?};
      {? _vp || ($('UNPAR.P'+_[_it]+'_BV:=\'\''))() ?};
      _vp:={? _a*'BE' || ($('var_pres(\'P'+_[_it]+'_BE\',UNPAR)'))() ?};
      {? _vp || ($('UNPAR.P'+_[_it]+'_BE:=\'\''))() ?};
      _vp:={? _a*'AE' || ($('var_pres(\'P'+_[_it]+'_AE\',UNPAR)'))() ?};
      {? _vp || ($('UNPAR.P'+_[_it]+'_AE:=\'\''))() ?}
   ?}
!}

:Sign Version 2.0 jowisz:1028 2019/06/07 16:00:03 a9ddb11c96718dad1a9e636185be34fe8e6cd2d43e153edb33c1b4c44ada3404a196cb16491552b9aeeea97c416e6e8a169239a569042a6fe65113eb9719d02b001670f1b1d36965e84e9602db70f560056f5beee136ea9e86bcb0c7d74b7c21fee99e56f759bcb498d3e62eafefc8a34fc0402099a5d64bcf01869d6558a646
