:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: rpm_pdf.fml
:: Utworzony: 04.08.2015
:: Autor: MB
::======================================================================================================================
:: Zawartość:  Formuły do obsługi wydruków na pdf
::======================================================================================================================


\rpm_as_pdf_ok
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [12.30]
:: OPIS: Procedura zwraca informacje, czy bieżący modul wykonawczy obsługuje wydruki na formularzach PDF.
::   WY: 1 - Bieżący modul wykonawczy obsługuje wydruki na formularzach PDF.
::       0 - Bieżący modul wykonawczy NIE obsługuje wydrukow na formularzach PDF.
::  OLD: \rpm_as_pdf_ok/skid.fml
::----------------------------------------------------------------------------------------------------------------------
_rt:=user(11);
(#_rt=0 & _rt>='N.10') | #_rt>=12.40


\rpm_as_pdf
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MB [12.30]
:: OPIS: Czy wydruki VAT na bazie pdf-a
::   WY: 1- tak 0-nie
::  OLD: \rpm_as_pdf/skid.fml
::----------------------------------------------------------------------------------------------------------------------
1


\rpm_as_pdf_ini
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [12.30]
:: OPIS: Formuła inicjująca wydruków opartych o pdf-a
::  OLD: \rpm_as_pdf_ini/skid.fml
::----------------------------------------------------------------------------------------------------------------------
: Kratki(str,wx,dx,wy)
: Funkcja do wykorzystania w konstrukcji REP, wypełniająca pola z "kratkami" - np.rok:
: +---+---+---+---+
: | 2 | 0 | 1 | 3 |
: +---+---+---+---+
: Dzieli łańcuch znakowy na kolejne znaki i wypisuje w kolejne "kratki".
: Parametry:
:  str   _a - łańcuch znakowy do podziału
:  wx    _b - odległość (w mm) od lewego marginesu I-szego znaku
:  dx    _c - przesuniecie - odległość miedzy znakami
:  wy    _d - odległość (w mm) od górnego marginesu
VAR_DEL.delete('Kratki','__Stopka');
Kratki:="
   {? _a='' || return('{~~}') ?};
   _str:=_a;
   _wx:=_b;
   _dx:=_c;
   _wy:=_d;
   _rep:='';
   {!
   |? +_str
   |! _rep+='{GRAPHICTEXT:\\\''+(1+_str)+'\\\';'+
             form(_wx,,,'9.')+';'+form(_wy,,,'9.')+';'+form(_dx,,,'9.')+';\\\'center\\\';0}';
      _str:=1-_str;
      _wx+=_dx
   !};
   _rep
";
__Stopka:=
   'Wypełniono i wydrukowano z oprogramowania %1 firmy %2, %3'@
   [exec('nazwa','#system'),exec('producent','#system'),exec('www','#system')];
~~


\rpm_as_pdf_end
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MB [12.30]
:: OPIS: Formuła kończąca wydruki opartych o pdf-a
::  OLD: \rpm_as_pdf_end/skid.fml
::----------------------------------------------------------------------------------------------------------------------
VAR_DEL.delete('Kratki','__Stopka')

:Sign Version 2.0 jowisz:1028 2019/06/07 16:00:01 29f70490ec72d30b3956bdd13100addbaa85bbb4ef7c042f232b99cd4e34f00c224a3ee0c50977d39da0297ff9ac6d7834fd583dbeefd0c9e50b90c17b638952cc9b47825e40c69e37f23380d159e3940c4a926129cb7bd664638a0724fa46884fe47b59048adba2e8775c8c6714a22f2ab54c3ea57a7da1d8d8508b7824ce67
