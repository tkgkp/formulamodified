:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: system.fml
:: Utworzony: 01.12.2006
:: Autor: Mario
::======================================================================================================================
:: Zawartość:  Procedury startowe wszystkich systemów
::======================================================================================================================

:: TODO: Plik służy do startu systemu, otwarcia tabel, ustawienia zmiennych w param. pracy

\open_all_tab_pr
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Mario [2010]
:: OPIS: otwieranie maskowalnych tabel systemu
::----------------------------------------------------------------------------------------------------------------------
_il_tab:=tab_num;
{! _ndx:=1..tab_num
|! {? tab_real(_ndx)
   || _acr:=tab_acr(_ndx);
      _mask:=($(_acr+'.name(1)'))();
      {? _mask*'?'>0 & _acr<>'SYSMEMO'
      ||
         echo('Otwieranie tabeli: '+_acr+' ('+$_ndx+'/'+$_il_tab+')');
         _mask:=gsub(_mask,'?','_');
         ($(_acr+'.use('''+_mask+''')'))()
      ?}
   ?}
!};
echo();

SYSSLG.comm_val('fill',REF.FIRMA().SYMBOL);

:: ustawienie dla tabeli pozycji palet
PAL.use('palety');
PAL_POZ.use('paletyp');

SER_POZ.use('ser_pxx');
:: ustawienie dla tabeli pracowników i wzorców czasu pracy
P.use('pracowni');
R_WZCZ.use('r_wzczas');
A_SCPP.use('x_scpi');
P.clear();
{? P.first() || VAR.P_PRES:='T' || VAR.P_PRES:='N' ?};
OV_UPR.use('ov_upr');
ZLBS.use('zlbrskll');

KAL_DEF.use('kal_d'+($REF.FIRMA+2));

ZZ_DOK.use('zz_do'+($REF.FIRMA+1));
ZZ_WIDOK.use('zz_widok');

:: ustawienie zmiennej na podstawie lat bilansowych
ROK_F.index('ROKPOCZ'); ROK_F.prefix(REF.FIRMA);
{? exec('first_rok_obsz1','zam_okr_rok','FKS') || VAR.FJ_PRES:='T' || VAR.FJ_PRES:='N' ?};
''

:Sign Version 2.0 jowisz:1048 2023/06/23 14:14:35 6bc0a8ee9f739b59c265a7be332baf2f4a31b31f716acdd24d38082d23bca27b089147a88b48f32081afec0433a2d3f363f7ad73dc3d90de8a6a927ec26cd711afeed2163b5eca9b67789709aba3a9440ca6e261dd998a0658c98b78842687608fcdea95a8c2ee18d1d17d33aa095f51b05a391ef4ab0002384034d5709c9df7
