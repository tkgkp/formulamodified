:!UTF-8
:: (c) Asseco Business Solutions S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: ppl_formulyr.fml [23.25]
:: Utworzony: 25.04.2023
:: Autor: DRO
::======================================================================================================================
:: Zawartość: Formuły obliczeniowe list płac.
:: Wymagania:
::    - format pliku UTF-8 BOM
::    - znak końca linii CRLF
::    - nazwa formuły składnika w formacie _rn, gdzie rn to R.RN
::======================================================================================================================


\_4
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 4 - "Choroba szpital 70%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_5
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 5 - "Urlop macierzyński".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_6
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 6 - "Opieka na dziecko".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_7
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7 - "Choroba 100%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_8
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 8 - "Choroba 80%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_17
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 17 - "Choroba wypadek".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_19
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 19 - "Świad. rehab. 75%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_20
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 20 - "Świad. rehab. 100%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_23
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 23 - "Świad. rehab. 90%".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_26
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 26 - "Dod. urlop  macierz.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_28
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 28 - "Urlop ojcowski".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_31
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 31 - "Podatek ryczałtowy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
ZC.RC='T'


\_32
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 32 - "Urlop rodzicielski".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_54
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 54 - "Liczba godzin przepr".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('plf_nadgzc','zlec_rh');~~


\_71
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 71 - "% podatku".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZAS<>'T' || RH.PPD ?}


\_200
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 200 - "Kwota rachunku".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('zasilki','os_nieob'); FUNKCJE.Z(200)


\_500
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 500 - "Brutto".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(100,499)+FUNKCJE.Z_SYS(48)


\_510
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 510 - "Zas.chorobowy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_511
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 511 - "Wyr zas.chor.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_512
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 512 - "Zas.chorob.-wypadek".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_513
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 513 - "Wyr.zas.chor.-wyp.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_516
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 516 - "Zas.choroba szpital".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_517
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 517 - "Wyr.zas.chor.szpital".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_523
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 523 - "Zas.macierzyński".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_524
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 524 - "Wyr zas.mac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_529
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 529 - "Zasiłek opiekuńczy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_530
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 530 - "Wyr.zas.opiek.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_531
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 531 - "Świadczenie rehab.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_537
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 537 - "Wyr.świadcz.rehab.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_650
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 650 - "Zasiłki ZUS-razem".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(510,649)+FUNKCJE.Z_SYS(331)


\_655
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 655 - "Nadpłacone skł.prac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('kor_zc_skl','korekty_zus',765,766,767)*-1


\_740
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 740 - "Dodatki razem".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(650,739)+FUNKCJE.Z_SYS(332)


\_753
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 753 - "Podst. emer. i rent.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('podst_sk','zlec_rh')+
{? RH.ZC_INFO().ZUS='T' ||FUNKCJE.Z(751)?}


\_754
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 754 - "Podst. chor. i wyp.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().FW='T'
|| exec('podstawa_sk','oddelegowanie','.ZUS',754,1)+FUNKCJE.Z(752)
?}


\_756
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 756 - "Podst. chor. um-zlec".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().FC='T' ||
     exec('licz_pchor','zlec_rh')
?}


\_765
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 765 - "Fund. emeryt. prac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().ZUS='T' ||
      ((DoList.z[1]+FUNKCJE.Z(753))*KST.PRFE*0.005)$2-DoList.z[4]
?}


\_766
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 766 - "Fund. rent. prac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().ZUS='T'
||  ((FUNKCJE.Z(753)+DoList.z[1])*KST.PRFRP*0.01)$2-DoList.z[5]
?}


\_767
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 767 - "Fund. chorobowy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().FC='T' ||
   ((FUNKCJE.Z(756)+DoList.z[2])*KST.PRFC*0.01)$2-DoList.z[6]
?}


\_780
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 780 - "Podst. opodatkowania".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('przychod','zlec_rh')


\_790
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 790 - "Podatek nominalny".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
DoList.z[12]:={? RH.ZC_INFO().KC='T'
              || exec('podstawa_sk','oddelegowanie','.UBZ',791,1)-FUNKCJE.Z(765,767)
              ?};
exec('podatek','zlec_rh')


\_791
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 791 - "Podst. ub. zdrow.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
DoList.z[12]


\_792
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 792 - "Skł. zdrow. - pobr.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
DoList.z[9]


\_793
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 793 - "Skł. zdrow. - odl.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.DWY~1<2022 || DoList.z[10] ?}


\_795
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 795 - "Zaniechany podatek".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
_pod:=FUNKCJE.Z(790)-FUNKCJE.Z(793);
_zanpod:=DoList.p[1]-DoList.p[2];
{? _zanpod<=0
  || 0
|? _pod>_zanpod
  || _zanpod
  || _pod
?}$(RH.DWY~1<2006)


\_797
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 797 - "Zal. pod. doch.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('zal_pod_doch','zlec_rh')


\_798
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 798 - "Wyrównanie podatku".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
_zal_st:=FUNKCJE.SZ(798);
{?  _zal_st & FUNKCJE.Z(798,,0)<>_zal_st
|| _zal_st
|| FUNKCJE.Z(798)
?}


\_800
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 800 - "Zwolniony dochód".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('_800','ppl_formuly')


\_950
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 950 - "Potrącenia razem".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('potracenie_komornik','lista_licz',0);
FUNKCJE.Z(765,767)+FUNKCJE.Z(789)+FUNKCJE.Z(792)+FUNKCJE.Z(797,799)+FUNKCJE.Z(801,948)+FUNKCJE.Z_SYS(333)


\_951
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 951 - "Nadp. skł.E/R. b.rok".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('kor_zc_zwrot','korekty_zus')


\_958
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 958 - "Fund. emeryt. zakł.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(765)


\_959
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 959 - "Fund. rent. zakł.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().ZUS='T'
||  ((FUNKCJE.Z(753)+DoList.z[1])*KST.PRFRF*0.01)$2-DoList.z[16]
?}


\_960
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 960 - "Fund. wypadkowy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().FW='T' ||
         _skl:=((FUNKCJE.Z(754)+DoList.z[3])*KST.PRFW*0.01)$2;
         _skl-=DoList.z[7]
?}


\_961
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 961 - "Podstawa składek FEP".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.DWY~1>2009 & RH.FEP='T' || FUNKCJE.Z(753) ?}


\_962
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 962 - "Składka FEP".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
KST.FEP/100*FUNKCJE.Z(961)$2


\_970
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 970 - "Podst. skł. zas.mac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? date(O.RU,O.MU,1)>=date(2001,6,1)
|| exec('podst_bp','zlec_rh')+
   {? RH.ZC_INFO().ZUS='T' || FUNKCJE.Z(7217) ?}
?}


\_971
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 971 - "Fund. emer. zas.mac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? date(O.RU,O.MU,1)>=date(2001,6,1)
|| {? RH.ZC_INFO().ZUS='T'
   || ((FUNKCJE.Z(970,,0)+FUNKCJE.Z(970))*KST.PRFE*0.01)$2-FUNKCJE.Z(971,,0)
   ?}
?}


\_972
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 972 - "Fund. rent. zas.mac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? date(O.RU,O.MU,1)>=date(2001,6,1)
|| {? RH.ZC_INFO().ZUS='T'
   || ((FUNKCJE.Z(970,,0)+FUNKCJE.Z(970))*KST.PRFR*0.01)$2-FUNKCJE.Z(972,,0)
   ?}
?}


\_980
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 980 - "Zas.ZUS razem".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(650)


\_981
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 981 - "Podst. FP i FGŚP".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.ZC_INFO().FP='T' | RH.ZC_INFO().FG='T' || exec('podstawa_sk','oddelegowanie','.ZUS',981,1) ?}


\_982
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 982 - "Fundusz pracy".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
blokada:=exec('spr_fp','zlec_rh');
__blLS:=0;
{? RH.ZC_INFO().FP='T' & ~blokada
|| _podstLS:=DoList.z[17];
   _sklLS:=DoList.z[18];
   {? _podstLS<>0
   || __blLS:=exec('fp_fgsp_podst_sk','lista_licz',0);
      {? __blLS || _podstLS:=_sklLS:=0 ?}
   ?};
   {? PAR_SKID.get(181)='T'
   || {? ~exec('blok_fp_podst_sk','lista_licz',0)
      || ((DoList.z[13]+FUNKCJE.Z(981)+_podstLS)*KST.FP*0.01)$2-DoList.z[14]-_sklLS
      ?}
   || ((DoList.z[13]+FUNKCJE.Z(981)+_podstLS)*KST.FP*0.01)$2-DoList.z[14]-_sklLS
   ?}$2
?}


\_983
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 983 - "Fundusz gwarancyjny".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
_blLS:=&__blLS;
{? RH.ZC_INFO().FG='T' & ~(&blokada)
|| _podstLS:=DoList.z[17];
   _sklLS:=DoList.z[19];
   {? _podstLS<>0 & _blLS
   || _podstLS:=_sklLS:=0
   ?};
   ((DoList.z[13]+FUNKCJE.Z(981)+_podstLS)*KST.FGSP*0.01)$2-DoList.z[15]-_sklLS
?}$2


\_985
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 985 - "Na dobro ZUS".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(765,767)+FUNKCJE.Z(792)+FUNKCJE.Z(958,960)+FUNKCJE.Z(962)-FUNKCJE.Z(980)+FUNKCJE.Z(982,983)


\_986
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 986 - "Nadpłacone skł.zakł.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('kor_zc_skl','korekty_zus',958,959,960,982,983,962)*-1


\_990
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 990 - "Netto".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')=type_of(SYSLOG) & ~FUNKCJE.Z_SYS(741) || exec('del_O_RH','ppk_kwn',P.ref,O.ref,RH.ref,'Z') ?};
FUNKCJE.Z(500)+FUNKCJE.Z(740)-FUNKCJE.Z(950)+FUNKCJE.Z_SYS(334)


\_994
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 994 - "Konto 1".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('rachreal','zlec_rh');
VAR.P:=1;
exec('rhprpor','zlec_rh',1)


\_999
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 999 - "Do wypłaty".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
FUNKCJE.Z(990)-FUNKCJE.Z(994)


\_7087
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7087 - "Podstawa PPK".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
exec('licz_pod','ppk','z')


\_7088
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7088 - "Pod.wpł. PPK firma".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
   _od:=date(O.R,O.M,0);
   exec('licz_skl','ppk',__RUB.sys_kod(710,_od),__RUB.sys_kod(720,_od),'z',__RUB.sys_kod(751,_od))


\_7089
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7089 - "Dod.wpł. PPK firma".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
   _od:=date(O.R,O.M,0);
   exec('licz_skl','ppk',__RUB.sys_kod(711,_od),__RUB.sys_kod(721,_od),'z',__RUB.sys_kod(752,_od))


\_7090
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7090 - "Pod.wpł. PPK zatr.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
   _od:=date(O.R,O.M,0);
   exec('licz_skl','ppk',__RUB.sys_kod(712,_od),__RUB.sys_kod(722,_od),'z',__RUB.sys_kod(753,_od))


\_7091
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7091 - "Dod.wpł. PPK zatr.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
   _od:=date(O.R,O.M,0);
   exec('licz_skl','ppk',__RUB.sys_kod(713,_od),__RUB.sys_kod(723,_od),'z',__RUB.sys_kod(754,_od))


\_7092
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7092 - "Nadpłata PPK zatr.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('_7092','ppl_formuly')


\_7093
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7093 - "Nadpłata PPK firma".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('_7093','ppl_formuly')


\_7094
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7094 - "ZP: Przychód".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('__ZW_PRZ')>100 & __ZW_PRZ.JEST_PL  || __ZW_PRZ.create() ?};
exec('przychod_U26','zlec_rh')


\_7095
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7095 - "ZP: Podatek nomin.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
DoList.p[15]


\_7098
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7098 - "ZP: Skł. prz. zwol.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('zp_skl_U26','zlec_rh')


\_7108
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7108 - "ZP: Skł. zdrow.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('__ZW_PRZ')>100 & __ZW_PRZ.JEST_PL  || __ZW_PRZ.add() ?};
DoList.z[11]


\_7109
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7109 - "Przychód - wpł. PPK".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('KST_PPK')<>type_of(SYSLOG) || return(0) ?};
exec('licz_prz','ppk','z')


\_7118
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7118 - "Opieka zas. dod.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_7122
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7122 - "Kwarantanna zas.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_7125
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7125 - "Izolacja zas.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
'wyliczenie znajduje sie w formule: zasilki, wywołanie w 200';~~


\_7136
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7136 - "PA: Korzyści".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('pa_korzysci','zlec_rh')


\_7145
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7145 - "ZDR: Podst. opodatk.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('ZDR_przychod','zlec_rh')


\_7149
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7149 - "ZDR: skł. zdr. odl.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
{? RH.DWY~1>2021 || DoList.z[10] ?}


\_7177
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7177 - "OLD: Podatek nomin.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
DoList.p[18]


\_7183
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7183 - "ZP: Prz. um. zlec.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('ZP_umowa_zlecenie','zlec_rh')


\_7184
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7184 - "ZP: Prz. zas. mac.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('ZP_mac','zlec_rh')


\_7190
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7190 - "Zwrot skł. PPK firma".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('_7190','ppl_formuly')


\_7195
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7195 - "OZ: Sk. nst. ob. p.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('skl_n_p_op','zlec_rh',90103,90104,1)


\_7197
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7197 - "OZ: Diety pomn. prz.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('dieta2podatek','oddelegowanie',90103,1,,,1)


\_7198
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7198 - "ZDR: Diety pom. prz.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('dieta2podatek','oddelegowanie',9068,0,,,1)


\_7199
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7199 - "ZDR: Sk. nst. ob. p.".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('skl_n_p_op','zlec_rh',9068,9069,0)


\_7200
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [23.25]
:: OPIS: Wyliczenie składnika 7200 - "Przychód do wyliczeń".
::   WE:
::   WY: kwota składnika listy płac
::----------------------------------------------------------------------------------------------------------------------
exec('przych_do_wyl','zlec_rh')

:Sign Version 2.0 jowisz:1045 2023/10/13 14:03:11 e2082a20e50edbcfe6fcee73338e92ffc8f9ffd42639e04f38254f49cb42ca52b77d7cb69d08cfd33e760a1fa772e9a21bb178d09129da40b8e5e9a5f36eeb413b5faf2eb155fdb6065b040708a8ff5ab30b1ef4b9312553c988ccdc4d3aed04c4898bfe3842145b58c5b8d1c4a6615bebbe4298102a3ba6e4aa1fac3cb8fd0b
