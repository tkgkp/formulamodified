:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: r_kart.fml
:: Utworzony: 29.05.2017
:: Autor: areKc
::======================================================================================================================
:: Zawartość: Definicje funkcji obsługi kartotek dodatkowych źródeł danych.
::======================================================================================================================


\add_zap
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.28]
:: OPIS: Dołączanie zapisów z odczytów do kartoteki zdarzeń dla dodatkowych źródeł danych.
::   WE: _a - Symbol kartoteki dodatkowej
::   WY: 1 - sukces, 0 - porażka
::----------------------------------------------------------------------------------------------------------------------
_ret:=0;

R_KDEF.index('SYMBOL');
R_KDOD.index('R_KDOD');
R_KDEF.clear();
R_KDOD.clear();
{? R_KDEF.find_key(_a,)
|| R_KDOD.blank(1);
   R_KDOD.R_KDEF:=R_KDEF.ref();
   R_KDOD.OSOBA:=R_REJ_WW.P().OSOBA;
   R_KDOD.MASKA:=P.name()+1;
   R_KDOD.DT:=R_REJ_WW.DZ;
   R_KDOD.GD:=R_REJ_WW.GD;
   R_KDOD.CZ:=R_REJ_WW.CZ;
   R_KDOD.ST:=R_REJ_WW.ST;
   R_KDOD.TP:=R_REJ_WW.TP;
   R_KDOD.RD:=R_REJ_WW.RD;
   _ret:=R_KDOD.add()
?};

_ret

:Sign Version 2.0 jowisz:1028 2019/06/07 16:00:01 056315745741f73b997c27d2b9e80e4cc04745ead31f659356c5b94527c50178b4f9947a8d853f7916ceba13b8e8edaf9cc4bde3b89b40dd9ccfd45c3e5fefe222ec41a5f781f4e4ca56e6820cbc14cca8ae1216d505c14beaa225274575fcef1875f6cea491a04976d693a8a0b812d45521842b0b7cf37676ff9fb7e887abd8
