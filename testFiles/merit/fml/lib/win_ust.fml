:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: win_ust.fml
:: Utworzony: 21.08.2015
:: Autor: AWI
::======================================================================================================================
:: Zawartość: Ustawienia dokładności pól w oknach
::======================================================================================================================


\fld_prec
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [2011]
:: OPIS: ustawia precyzje na polach
::----------------------------------------------------------------------------------------------------------------------

exec('doklwg_m','material');
exec('editwg_a','mat_atr');

:: dokumenty magazynowe
DK.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");
DK.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");
DK.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                           || $exec(\'ustdokil\',\'jm\',\'M\')
                                           || $ST.DOKL
                                           ?}");
DK.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                               || $exec(\'ustdokil\',\'jm\',\'M\')
                                               || $ST.DOKL
                                               ?}");
DK.fld_fml('IL_B','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");
DK.fld_fml('IL_B','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");
DK.fld_fml('IL_PT','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");
DK.fld_fml('IL_PT','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL || $ST.DOKL ?}");

DK.fld_fml('C','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}");
DK.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}");
DK.fld_fml('C2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}");
DK.fld_fml('C2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}");
DK.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK.fld_fml('SCC','EDIT_FORMAT',"'in_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   || '2'
   ?}");
DK.fld_fml('SCC','DISPLAY_FORMAT',"'out_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   || '2'
   ?}");
DK.fld_fml('CN','EDIT_FORMAT',"'in_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK.fld_fml('CN','DISPLAY_FORMAT',"'out_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK.fld_fml('CB','EDIT_FORMAT',"'in_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK.fld_fml('CB','DISPLAY_FORMAT',"'out_prec='+
   {? DK.PLUS='T'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_C || $ST.DOKL_C ?}
   |? DK.PLUS='N'
   || {? (2+cur_kwin())='e_' || $DK.M().DOKL_S || $ST.DOKL_S ?}
   || '2'
   ?}");
DK_L.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                            || {? DK_L.DK<>null || $DK_L.DK().M().DOKL || $ST.DOKL ?}
                                            || $ST.DOKL ?}");
DK_L.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                                || {? DK_L.DK<>null || $DK_L.DK().M().DOKL || $ST.DOKL ?}
                                                || $ST.DOKL ?}");
DISP.fld_fml('SMIL','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
DISP.fld_fml('SKIL','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
DISP.fld_fml('SPIL','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
DISP.fld_fml('SRIL','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
DISP.fld_fml('SMW','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL_C");
DISP.fld_fml('SKW','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL_C");
DISP.fld_fml('SPW','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL_C");
DISP.fld_fml('SRW','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL_C");

:: poprawa na dokumencie magazynowym
ZMIENNE.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL || $ST.DOKL ?}");
ZMIENNE.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL || $ST.DOKL ?}");
ZMIENNE.fld_fml('C','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL_C || $ST.DOKL_C ?}");
ZMIENNE.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL_C || $ST.DOKL_C ?}");
ZMIENNE.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL_C || $ST.DOKL_C ?}");
ZMIENNE.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZMIENNE.M().DOKL_C || $ST.DOKL_C ?}");

DPOZ.fld_fml('OCZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL_C || $ST.DOKL_C ?}");

:: stany dostaw
SC.fld_fml('S','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL || $ST.DOKL ?}");
SC.fld_fml('S','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL || $ST.DOKL ?}");
BO.fld_fml('CEN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL_C || $ST.DOKL_C ?}");
BO.fld_fml('CEN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL_C || $ST.DOKL_C ?}");
SC.fld_fml('C','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL_C || $ST.DOKL_C ?}");
SC.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SC.M().DOKL_C || $ST.DOKL_C ?}");

:: stany wg wymiarow
SL.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SL.M().DOKL || $ST.DOKL ?}");
SL.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SL.M().DOKL || $ST.DOKL ?}");
SLD.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SLD.SL().M().DOKL || $ST.DOKL ?}");
SLD.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SLD.SL().M().DOKL || $ST.DOKL ?}");
EANX.fld_fml('SLSUM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SL.M().DOKL || $ST.DOKL ?}");
EANX.fld_fml('SLSUM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SL.M().DOKL || $ST.DOKL ?}");

:: stany na magazynie
SM.fld_fml('S','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('S','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('W','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('W','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('R','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('R','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('P','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('P','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('Z','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('Z','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('D','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('D','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('SD','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('SD','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('SP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SM.fld_fml('SP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SM.M().DOKL || $ST.DOKL ?}");
SUM.fld_fml('S','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
SUM.fld_fml('S','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");

:: pozycje inwentury
BEER.fld_fml('SS','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SS','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('RIM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('RIM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('RIP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('RIP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SIM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SIM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SIP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('SIP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");

BEER.fld_fml('RIM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('RIP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");

BEER.fld_fml('ST_MG','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");

INP.fld_fml('SS','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
INP.fld_fml('SS','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL || $ST.DOKL ?}");
INP.fld_fml('SE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                           || {? INP.win_edit('?')<>'WYC'
                                              || $INP.M().DOKL
                                              || $INP.M().DOKL_C
                                              ?}
                                           || {? INP.win_sel('?')<>'WYC'
                                              || $ST.DOKL
                                              || $ST.DOKL_C
                                              ?}
                                           ?}");
INP.fld_fml('SE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                           || {? INP.win_edit('?')<>'WYC'
                                              || $INP.M().DOKL
                                              || $INP.M().DOKL_C
                                              ?}
                                           || {? INP.win_sel('?')<>'WYC'
                                              || $ST.DOKL
                                              || $ST.DOKL_C
                                              ?}
                                           ?}");
INP.fld_fml('C','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL_C || $ST.DOKL_C ?}");
INP.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INP.M().DOKL_C || $ST.DOKL_C ?}");

INY.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $INY.M().DOKL || $ST.DOKL ?}");
INY.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $INY.M().DOKL || $ST.DOKL ?}");

:: rezerwacje
REZ.fld_fml('ILR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");
REZ.fld_fml('ILR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");
REZ.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");
REZ.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('CSP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL_S || $ST.DOKL_S ?}");
BEER.fld_fml('CSP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL_S || $ST.DOKL_S ?}");
BEER.fld_fml('CWL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL_S || $ST.DOKL_S ?}");
BEER.fld_fml('CWL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL_S || $ST.DOKL_S ?}");
BEER.fld_fml('TYMREA','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");
BEER.fld_fml('TYMREA','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $REZ.M().DOKL || $ST.DOKL ?}");

:: pozycje zamowien sprzedazy/wewnetrznych
ZK_P.fld_fml('ILZ','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('DOR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('DOR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRB','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRB','DISPLAY_FORMAT',"{? ZK_P.ILRB<=0 || 'empty=1' || 'empty=0' ?}+
 ',out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRW','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRW','DISPLAY_FORMAT',"{? ZK_P.ILRW<=0 || 'empty=1' || 'empty=0' ?}+
 ',out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRD','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILRD','DISPLAY_FORMAT',"{? ZK_P.ILRD<=0 || 'empty=1' || 'empty=0' ?}+
 ',out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILBEZ','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('ILBEZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('SR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('SR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");
ZK_P.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                             || $exec(\'ustdokil\',\'jm\',\'Z\')
                                             || $ST.DOKL
                                             ?}");
ZK_P.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                             || $exec(\'ustdokil\',\'jm\',\'Z\')
                                             || $ST.DOKL
                                             ?}");
ZK_P.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+{? ZK_P.RODZ='Z'
                                              || {? (2+cur_kwin())='e_'
                                                 || $ZK_P.M().DOKL_S
                                                 || $ST.DOKL_S
                                                 ?}
                                              || '2'
                                              ?}");
ZK_P.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+{? ZK_P.RODZ='Z'
                                                  || {? (2+cur_kwin())='e_'
                                                     || $ZK_P.M().DOKL_S
                                                     || $ST.DOKL_S
                                                     ?}
                                                  || '2'
                                                  ?}");
ZK_P.fld_fml('CENA','EDIT_FORMAT',"'in_prec='+{? ZK_P.RODZ='Z'
                                              || {? (2+cur_kwin())='e_'
                                                 || $ZK_P.M().DOKL_S
                                                 || $ST.DOKL_S
                                                 ?}
                                              || '2'
                                              ?}");
ZK_P.fld_fml('CENA','DISPLAY_FORMAT',"'out_prec='+{? ZK_P.RODZ='Z'
                                                  || {? (2+cur_kwin())='e_'
                                                     || $ZK_P.M().DOKL_S
                                                     || $ST.DOKL_S
                                                     ?}
                                                  || '2'
                                                  ?}");
ZK_P.fld_fml('CN','EDIT_FORMAT',"'in_prec='+{? ZK_P.RODZ='Z'
                                            || {? (2+cur_kwin())='e_'
                                               || $ZK_P.M().DOKL_S
                                               || $ST.DOKL_S
                                               ?}
                                            || '2'
                                            ?}");
ZK_P.fld_fml('CN','DISPLAY_FORMAT',"'out_prec='+{? ZK_P.RODZ='Z'
                                                || {? (2+cur_kwin())='e_'
                                                   || $ZK_P.M().DOKL_S
                                                   || $ST.DOKL_S
                                                   ?}
                                                || '2'
                                                ?}");
ZK_P.fld_fml('CB','EDIT_FORMAT',"'in_prec='+{? ZK_P.RODZ='Z'
                                            || {? (2+cur_kwin())='e_'
                                               || $ZK_P.M().DOKL_S
                                               || $ST.DOKL_S
                                               ?}
                                            || '2'
                                            ?}");
ZK_P.fld_fml('CB','DISPLAY_FORMAT',"'out_prec='+{? ZK_P.RODZ='Z'
                                                || {? (2+cur_kwin())='e_'
                                                   || $ZK_P.M().DOKL_S
                                                   || $ST.DOKL_S
                                                   ?}
                                                || '2'
                                                ?}");

BEER.fld_fml('SRT','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRT','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SD','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SD','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SW','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SW','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('S','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('S','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRA','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRA','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SRP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SSZ','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SSZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('SP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('WDR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");
BEER.fld_fml('WDR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $M.DOKL || $ST.DOKL ?}");

:: pozycje ofert
OFP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL || $ST.DOKL ?}");
OFP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL || $ST.DOKL ?}");
OFP.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('C','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('CN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('CN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('CB','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('CB','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_S || $ST.DOKL_S ?}");
OFP.fld_fml('ZCWAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_Z || $ST.DOKL_Z ?}");
OFP.fld_fml('ZCWAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_Z || $ST.DOKL_Z ?}");
OFP.fld_fml('CZAK','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_Z || $ST.DOKL_Z ?}");
OFP.fld_fml('CZAK','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OFP.M().DOKL_Z || $ST.DOKL_Z ?}");

:: pozycje faktur
DISP.fld_fml('ILF','EDIT_FORMAT',"'in_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                             || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                || $FAP.M().DOKL
                                                || $ST.DOKL
                                                ?}
                                             || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                                || $ST.DOKL
                                                ?}
                                             ?}");
DISP.fld_fml('ILF','DISPLAY_FORMAT',"'out_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                    || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                                    || $ST.DOKL
                                                    ?}
                                                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                    || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                                    || $ST.DOKL
                                                    ?}
                                                 ?}");
FAP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                           || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                              || $FAP.M().DOKL
                                              || $ST.DOKL
                                              ?}
                                           || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                              || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                              || $ST.DOKL
                                              ?}
                                           ?}");
FAP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                  || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                                  || $ST.DOKL
                                                  ?}
                                               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                  || $exec(\'ustdokil\',\'jm\',\'S\',\'IL\')
                                                  || $ST.DOKL
                                                  ?}
                                               ?}");
FAP.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                            || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                               || $exec(\'ustdokil\',\'jm\',\'F\')
                                               || $ST.DOKL
                                               ?}
                                            || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                               || $exec(\'ustdokil\',\'jm\',\'S\',\'IL2\')
                                               || $ST.DOKL
                                               ?}
                                            ?}");
FAP.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? FAKS.cntx_psh; _war:=FAP.FAKS().SZ='Z'; FAKS.cntx_pop; _war
                                                || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                   || $exec(\'ustdokil\',\'jm\',\'F\')
                                                   || $ST.DOKL
                                                   ?}
                                                || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null()
                                                   || $exec(\'ustdokil\',\'jm\',\'S\',\'IL2\')
                                                   || $ST.DOKL
                                                   ?}
                                                ?}");
FAP.fld_fml('CPR','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FAP.fld_fml('CPR','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FAP.fld_fml('CN','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FAP.fld_fml('CN','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FAP.fld_fml('CB','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FAP.fld_fml('CB','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FAP.fld_fml('CWAL','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FAP.fld_fml('CWAL','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('CPR','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
               || {? _his & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('CPR','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
              || {? _his & exec('get','#params',300215,2)='N'
                 || '-1'
                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                 ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FKOR.fld_fml('CN','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
               || {? _his & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('CN','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                 || '-1'
                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                 ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FKOR.fld_fml('CB','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('CB','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                 || '-1'
                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                 ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FKOR.fld_fml('CWAL','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
               || {? _his & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('CWAL','EDIT_FORMAT'
 ,"'in_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
              || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                 || '-1'
                 || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                 ?}
              |? ~_spr
              || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
              || '2'
              ?}");
FKOR.fld_fml('BCPR','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('BCN','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
               || {? _his & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('BCB','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; FAKS.cntx_pop; _spr)
               || {? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml ('BCWAL','DISPLAY_FORMAT'
 ,"'out_prec='+{? (FAKS.cntx_psh; _spr:=FAP.FAKS().SZ='S'; _his:=FAP.FAKS().T().HIS='T'; FAKS.cntx_pop; _spr)
               || {? _his & exec('get','#params',300215,2)='N'
                  || '-1'
                  || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_S || $ST.DOKL_S ?}
                  ?}
               |? ~_spr
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL_Z || $ST.DOKL_Z ?}
               || '2'
               ?}");
FKOR.fld_fml('BIL','DISPLAY_FORMAT'
 ,"'out_prec='+{? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
               || '-1'
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL || $ST.DOKL ?}
               ?}");
FKOR.fld_fml('IL','DISPLAY_FORMAT'
 ,"'out_prec='+{? FAKS.T().HIS='T' & exec('get','#params',300215,2)='N'
               || '-1'
               || {? ((2+cur_kwin())='e_' | DPOZ.DISPLAY) & FAP.M<>null() || $FAP.M().DOKL || $ST.DOKL ?}
               ?}");
FZ.fld_fml('GIL','DISPLAY_FORMAT',"'out_prec='+$exec(\'ustdokil\',\'jm\',\'S\',\'IL2\')");
FZ.fld_fml('GIL','EDIT_FORMAT',"'in_prec='+$exec(\'ustdokil\',\'jm\',\'S\',\'IL2\')");
FZ.fld_fml('GIL2','DISPLAY_FORMAT',"'out_prec='+$exec(\'ustdokil\',\'jm\',\'S\',\'IL\')");
FZ.fld_fml('GIL2','EDIT_FORMAT',"'in_prec='+$exec(\'ustdokil\',\'jm\',\'S\',\'IL\')");
PROJ2FAP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+$PROJ2FAP.FAP_M().DOKL");
PROJ2FAP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+$PROJ2FAP.FAP_M().DOKL");
PROJ2FAP.fld_fml('W','EDIT_FORMAT',"'in_prec=2'");
PROJ2FAP.fld_fml('W','DISPLAY_FORMAT',"'out_prec=2'");

:: rezerwacje dla faktur typu G i rezerwacje tymczasowe
FZ.fld_fml('FAP_CZKP','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL_C");
ZK_P.fld_fml('ILR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZK_P.M().DOKL || $ST.DOKL ?}");

:: zamowienia dostaw
ZD_POZ.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_ZAM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_ZAM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_KOR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_KOR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_ZRE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_ZRE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_POZ','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL_POZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL || $ST.DOKL ?}");
ZD_POZ.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                               || $exec(\'ustdokil\',\'jm\',\'D\')
                                               || $ST.DOKL
                                               ?}");
ZD_POZ.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                                || $exec(\'ustdokil\',\'jm\',\'D\')
                                                || $ST.DOKL
                                                ?}");
ZD_POZ.fld_fml('CENA','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");
ZD_POZ.fld_fml('CENA','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");
ZD_POZ.fld_fml('CENA2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");
ZD_POZ.fld_fml('CENA2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");
ZD_POZ.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");
ZD_POZ.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_POZ.M().DOKL_Z || $ST.DOKL_Z ?}");

ZD_RP.fld_fml('IL_ZRE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZD_RP.M().DOKL || $ST.DOKL ?}");
ZD_RP.fld_fml('IL_ZRE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZD_RP.M().DOKL || $ST.DOKL ?}");

:: potwierdzenia zamowien dostaw
POMOC.fld_fml('IL_ZAM','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
POMOC.fld_fml('IL_PTW','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
POMOC.fld_fml('IL_REA','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
POMOC.fld_fml('IL_ZRE','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
ZDP_POZ.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZDP_POZ.M().DOKL || $ST.DOKL ?}");
ZDP_POZ.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZDP_POZ.M().DOKL || $ST.DOKL ?}");
POMOC.fld_fml('REA','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");

:: plany dostaw
PD_K.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                              || $exec('ustdokil','jm','K')
                                              || $ST.DOKL
                                              ?}");
PD_K.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                                   || $exec('ustdokil','jm','K')
                                                   || $ST.DOKL
                                                   ?}");
PD_K.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                                || $exec('ustdokil','jm','K')
                                                || $ST.DOKL
                                                ?}");
PD_K.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                                || $exec('ustdokil','jm','K')
                                                || $ST.DOKL
                                                ?}");
PD_K.fld_fml('CENA','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? PD_K.TYPYZAM().R='D' || $PD_K.M().DOKL_C || '2' ?} || $ST.DOKL_C ?}");
PD_K.fld_fml('CENA','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? PD_K.TYPYZAM().R='D' || $PD_K.M().DOKL_C || '2' ?} || $ST.DOKL_C ?}");
PD_K.fld_fml('CWAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? PD_K.TYPYZAM().R='D' || $PD_K.M().DOKL_C || '2' ?} || $ST.DOKL_C ?}");
PD_K.fld_fml('CWAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? PD_K.TYPYZAM().R='D' || $PD_K.M().DOKL_C || '2' ?} || $ST.DOKL_C ?}");

:: surowce technologii
TMAT.fld_fml('WARN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TMAT.GRKTM='K' || $TMAT.PT().DOKL || $TMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TMAT.fld_fml('WARN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TMAT.GRKTM='K' || $TMAT.PT().DOKL || $TMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TMAT.fld_fml('WARB','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TMAT.GRKTM='K' || $TMAT.PT().DOKL || $TMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TMAT.fld_fml('WARB','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TMAT.GRKTM='K' || $TMAT.PT().DOKL || $TMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TMAT.fld_fml('DWARN','EDIT_FORMAT',"'in_prec='+$ST.DOKL");
TMAT.fld_fml('DWARN','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
TMAT.fld_fml('DWARB','EDIT_FORMAT',"'in_prec='+$ST.DOKL");
TMAT.fld_fml('DWARB','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
TCHMAT.fld_fml('WARN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TCHMAT.GRKTM='K' || $TCHMAT.PT().DOKL || $TCHMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TCHMAT.fld_fml('WARN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TCHMAT.GRKTM='K' || $TCHMAT.PT().DOKL || $TCHMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TCHMAT.fld_fml('WARB','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TCHMAT.GRKTM='K' || $TCHMAT.PT().DOKL || $TCHMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TCHMAT.fld_fml('WARB','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TCHMAT.GRKTM='K' || $TCHMAT.PT().DOKL || $TCHMAT.TGDFLT().PT().DOKL ?} || $ST.DOKL ?}");
TCHMAT.fld_fml('DWARN','EDIT_FORMAT',"'in_prec='+$ST.DOKL");
TCHMAT.fld_fml('DWARN','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");
TCHMAT.fld_fml('DWARB','EDIT_FORMAT',"'in_prec='+$ST.DOKL");
TCHMAT.fld_fml('DWARB','DISPLAY_FORMAT',"'out_prec='+$ST.DOKL");

:: zlecenia
ZL.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZL.KTM().DOKL || $ST.DOKL_P ?}");
VAR.fld_fml('SERIATCH','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZL.KTM().DOKL || $ST.DOKL ?}");

:: powiazania zlecen z pozycjami zamowien (i innych zrodel)
ZLZAM.fld_fml('ILPOZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZL.KTM().DOKL || $ST.DOKL_P ?}");
ZLZAM.fld_fml('ILZL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZL.KTM().DOKL || $ST.DOKL_P ?}");

:: limity zlecen
ZLIM.fld_fml('LIL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");
ZLIM.fld_fml('LIL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");
VAR.fld_fml('LIL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");
VAR.fld_fml('LIL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");
VAR.fld_fml('LILP','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");
VAR.fld_fml('LILP','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLIM.KTM().DOKL || $ST.DOKL ?}");

:: pozycje palet
PAL_POZ.fld_fml('IL','EDIT_FORMAT',"'in_prec='+$PAL_POZ.M().DOKL");
PAL_POZ.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+$PAL_POZ.M().DOKL");
PAL_POZ.fld_fml('ILP','EDIT_FORMAT',"'in_prec='+$PAL_POZ.M().DOKL");
PAL_POZ.fld_fml('ILP','DISPLAY_FORMAT',"'out_prec='+$PAL_POZ.M().DOKL");
PAL_POZ.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+$exec(\'ustdokil\',\'jm\',\'P\')");
PAL_POZ.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+$exec(\'ustdokil\',\'jm\',\'P\')");
PAL_POZ.fld_fml('C','EDIT_FORMAT',"'in_prec='+$PAL_POZ.M().DOKL_C");
PAL_POZ.fld_fml('C','DISPLAY_FORMAT',"'out_prec='+$PAL_POZ.M().DOKL_C");

EANX.fld_fml('ILMPAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL || $ST.DOKL ?}");
EANX.fld_fml('ILMPAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL || $ST.DOKL ?}");
EANX.fld_fml('ALLPAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL || $ST.DOKL ?}");
EANX.fld_fml('ALLPAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL || $ST.DOKL ?}");
EANX.fld_fml('CMPAL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL_C || $ST.DOKL_C ?}");
EANX.fld_fml('CMPAL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $EANX.MPAL().DOKL_C || $ST.DOKL_C ?}");

:: kartoteka stanow minimalnych / maksymalnych
MST.fld_fml('MIN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");
MST.fld_fml('MIN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");
MST.fld_fml('MAX','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");
MST.fld_fml('MAX','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");
MST.fld_fml('ZI','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");
MST.fld_fml('ZI','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MST.M().DOKL || $ST.DOKL ?}");

:: kartoteka dostawcow / cen
MDOST.fld_fml('C1','EDIT_FORMAT',"'in_prec='+{? MDOST.SD='S'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                             |? MDOST.SD='D'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                             ?}");
MDOST.fld_fml('C1','DISPLAY_FORMAT',"'out_prec='+{? MDOST.SD='S'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? MDOST.SD='D'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                                 ?}");
MDOST.fld_fml('C2','EDIT_FORMAT',"'in_prec='+{? MDOST.SD='S'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                             |? MDOST.SD='D'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                             ?}");
MDOST.fld_fml('C2','DISPLAY_FORMAT',"'out_prec='+{? MDOST.SD='S'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? MDOST.SD='D'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                                 ?}");
MDOST.fld_fml('C3','EDIT_FORMAT',"'in_prec='+{? MDOST.SD='S'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                             |? MDOST.SD='D'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                             ?}");
MDOST.fld_fml('C3','DISPLAY_FORMAT',"'out_prec='+{? MDOST.SD='S'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? MDOST.SD='D'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                                 ?}");
MDOST.fld_fml('C4','EDIT_FORMAT',"'in_prec='+{? MDOST.SD='S'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                             |? MDOST.SD='D'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                             ?}");
MDOST.fld_fml('C4','DISPLAY_FORMAT',"'out_prec='+{? MDOST.SD='S'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? MDOST.SD='D'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                                 ?}");
MDOST.fld_fml('CMIN','EDIT_FORMAT',"'in_prec='+{? MDOST.SD='S'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                             |? MDOST.SD='D'
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                             || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                             ?}");
MDOST.fld_fml('CMIN','DISPLAY_FORMAT',"'out_prec='+{? MDOST.SD='S'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? MDOST.SD='D'
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || {? (2+cur_kwin())='e_' || $MDOST.M().DOKL_C || $ST.DOKL_C ?}
                                                 ?}");
MDOST.fld_fml('EWZ','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MDOST.M().DOKL || $ST.DOKL ?}");
MDOST.fld_fml('EWZ','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MDOST.M().DOKL || $ST.DOKL ?}");

:: cenniki
exec('fld_prec_tap','win_ust',1);
TAP.fld_fml('GRA_CEN','EDIT_FORMAT',"'in_prec='+{? TAP.TAR().SD='G'
                                                || {? (2+cur_kwin())='e_'
                                                   || {? TAP.GRATIS || $TAP.GRATIS().DOKL_S
                                                      || $ST.DOKL_S
                                                      ?}
                                                   || $ST.DOKL_S
                                                   ?}
                                                || $ST.DOKL_S
                                                ?}");
TAP.fld_fml('GRA_CEN','DISPLAY_FORMAT',"'out_prec='+{? TAP.TAR().SD='G'
                                                    || {? (2+cur_kwin())='e_'
                                                       || {? TAP.GRATIS || $TAP.GRATIS().DOKL_S
                                                          || $ST.DOKL_S
                                                          ?}
                                                       || $ST.DOKL_S
                                                       ?}
                                                    || $ST.DOKL_S
                                                    ?}");
HELP.fld_fml('WARZM','EDIT_FORMAT',"'in_prec='+{? HELP.TYPZM='P'
                                               || '2'
                                               || {? (';SG'*TAP.TAR().SD)>1 || $ST.DOKL_S || $ST.DOKL_Z ?}
                                               ?}");
HELP.fld_fml('WARZM','DISPLAY_FORMAT',"'out_prec='+{? HELP.TYPZM='P'
                                                   || '2'
                                                   || {? (';SG'*TAP.TAR().SD)>1 || $ST.DOKL_S || $ST.DOKL_Z ?}
                                                   ?}");

TAP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TAP.M & TAP.M().J=TAP.JM || $TAP.M().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TAP.M & TAP.M().J=TAP.JM || $TAP.M().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('IL_DO','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TAP.M & TAP.M().J=TAP.JM || $TAP.M().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('IL_DO','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TAP.M & TAP.M().J=TAP.JM || $TAP.M().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('GRA_IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || {? TAP.GRATIS & TAP.GRATIS().J=TAP.JM || $TAP.GRATIS().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('GRA_IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || {? TAP.GRATIS & TAP.GRATIS().J=TAP.JM || $TAP.GRATIS().DOKL || $ST.DOKL ?} || $ST.DOKL ?}");
TAP.fld_fml('PRC','EDIT_FORMAT',"'in_prec=2'");
TAP.fld_fml('PRC','DISPLAY_FORMAT',"'out_prec=2'");
DISP.fld_fml('RABP','EDIT_FORMAT',"'in_prec='+{? exec('czyrabp','ceny',TAZ.RAB_TYP)
                                              || $2
                                              || {? BEER.SZ='S'
                                                 || {? cur_tab.M<>null() || $cur_tab.M().DOKL_S || $ST.DOKL_S ?}
                                                 |? BEER.SZ='Z'
                                                 || {? cur_tab.M<>null() || $cur_tab.M().DOKL_Z || $ST.DOKL_Z ?}
                                                 || $2
                                                 ?}
                                              ?}");
DISP.fld_fml('RABP','DISPLAY_FORMAT',"'out_prec='+{? exec('czyrabp','ceny',TAZ.RAB_TYP)
                                                  || $2
                                                  || {? BEER.SZ='S'
                                                     || {? cur_tab.M<>null() || $cur_tab.M().DOKL_S || $ST.DOKL_S ?}
                                                     |? BEER.SZ='Z'
                                                     || {? cur_tab.M<>null() || $cur_tab.M().DOKL_Z || $ST.DOKL_Z ?}
                                                     || $2
                                                     ?}
                                                  ?}");
DISP.fld_fml('RAB','EDIT_FORMAT',"'in_prec='+{? exec('czyrabp','ceny',TAZ.RAB_TYP)
                                             || $2
                                             || {? BEER.SZ='S'
                                                || {? cur_tab.M<>null() || $cur_tab.M().DOKL_S || $ST.DOKL_S ?}
                                                |? BEER.SZ='Z'
                                                || {? cur_tab.M<>null() || $cur_tab.M().DOKL_Z || $ST.DOKL_Z ?}
                                                || $2
                                                ?}
                                             ?}");
DISP.fld_fml('RAB','DISPLAY_FORMAT',"'out_prec='+{? exec('czyrabp','ceny',TAZ.RAB_TYP)
                                                 || $2
                                                 || {? BEER.SZ='S'
                                                    || {? cur_tab.M<>null() || $cur_tab.M().DOKL_S || $ST.DOKL_S ?}
                                                    |? BEER.SZ='Z'
                                                    || {? cur_tab.M<>null() || $cur_tab.M().DOKL_Z || $ST.DOKL_Z ?}
                                                    || $2
                                                    ?}
                                                 ?}");
ND.fld_fml('RAB','EDIT_FORMAT',"'in_prec=2'");
ND.fld_fml('RAB','DISPLAY_FORMAT',"'out_prec=2'");
FAKS.fld_fml('RAB','EDIT_FORMAT',"'in_prec=2'");
FAKS.fld_fml('RAB','DISPLAY_FORMAT',"'out_prec=2'");
FAKS.fld_fml('KW_ZAL','EDIT_FORMAT',"'in_prec=2'");
FAKS.fld_fml('KW_ZAL','DISPLAY_FORMAT',"'out_prec=2'");
FAKS.fld_fml('KRS','EDIT_FORMAT',"'in_prec=4'");
FAKS.fld_fml('KRS','DISPLAY_FORMAT',"'out_prec=4'");
FAKS.fld_fml('NKRS','EDIT_FORMAT',"'in_prec=4'");
FAKS.fld_fml('NKRS','DISPLAY_FORMAT',"'out_prec=4'");
ZK_N.fld_fml('RAB','EDIT_FORMAT',"'in_prec=2'");
ZK_N.fld_fml('RAB','DISPLAY_FORMAT',"'out_prec=2'");
ZK_N.fld_fml('KRS','EDIT_FORMAT',"'in_prec=4'");
ZK_N.fld_fml('KRS','DISPLAY_FORMAT',"'out_prec=4'");
ND.fld_fml('KRS','EDIT_FORMAT',"'in_prec=4'");
ND.fld_fml('KRS','DISPLAY_FORMAT',"'out_prec=4'");
ZD_NAG.fld_fml('KRS','EDIT_FORMAT',"'in_prec=4'");
ZD_NAG.fld_fml('KRS','DISPLAY_FORMAT',"'out_prec=4'");
:: Oferty
OFE.fld_fml('RAB','EDIT_FORMAT',"'in_prec=2'");
OFE.fld_fml('RAB','DISPLAY_FORMAT',"'out_prec=2'");
OFE.fld_fml('KRS','EDIT_FORMAT',"'in_prec=4'");
OFE.fld_fml('KRS','DISPLAY_FORMAT',"'out_prec=4'");

:: kody towarowe
MKODK.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MKODK.M().DOKL || $ST.DOKL ?}");
MKODK.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MKODK.M().DOKL || $ST.DOKL ?}");

M.fld_fml('DOKL_C','DISPLAY_FORMAT',"{? M.RODZ='U' || 'empty=1' || 'empty=0' ?}");

:: opakowania
OPAK_P.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OPAK_P.M().DOKL || $ST.DOKL ?}");
OPAK_P.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OPAK_P.M().DOKL || $ST.DOKL ?}");
OPAK_P.fld_fml('KAUCJA','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $OPAK_P.M().DOKL_S || $ST.DOKL_S ?}");
OPAK_P.fld_fml('KAUCJA','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $OPAK_P.M().DOKL_S || $ST.DOKL_S ?}");

:: propozycje cen
MPTZ.fld_fml('PRICE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $MPTZ.KTM().DOKL_C || $ST.DOKL_C ?}");
MPTZ.fld_fml('PRICE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $MPTZ.KTM().DOKL_C || $ST.DOKL_C ?}");

:: ceny do kalkulacji
PTC.fld_fml('PRICE','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $PTC.PT().DOKL_C || $ST.DOKL_C ?}");
PTC.fld_fml('PRICE','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $PTC.PT().DOKL_C || $ST.DOKL_C ?}");

:: Precyzja pól liczbowych
FAKZ.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL || $ST.DOKL ?}");
FAKZ.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL || $ST.DOKL ?}");
FAKZ.fld_fml('CN','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL_S || $ST.DOKL_S ?}");
FAKZ.fld_fml('CN','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL_S || $ST.DOKL_S ?}");
FAKZ.fld_fml('WN','EDIT_FORMAT',"'in_prec=2'");
FAKZ.fld_fml('WN','DISPLAY_FORMAT',"'out_prec=2'");
FAKZ.fld_fml('CB','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL_S || $ST.DOKL_S ?}");
FAKZ.fld_fml('CB','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' & FAKZ.M || $FAKZ.M().DOKL_S || $ST.DOKL_S ?}");
FAKZ.fld_fml('WB','EDIT_FORMAT',"'in_prec=2'");
FAKZ.fld_fml('WB','DISPLAY_FORMAT',"'out_prec=2'");

SAMDOD.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SAMDOD.M().DOKL || $ST.DOKL ?}");
SAMDOD.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SAMDOD.M().DOKL || $ST.DOKL ?}");
SAMDOD.fld_fml('WAR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $SAMDOD.M().DOKL_C || $ST.DOKL_C ?}");
SAMDOD.fld_fml('WAR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $SAMDOD.M().DOKL_C || $ST.DOKL_C ?}");

UP.fld_fml('DILM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $UP.DM().DOKL || $ST.DOKL ?}");
UP.fld_fml('DILM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $UP.DM().DOKL || $ST.DOKL ?}");
UP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $UP.MJ().DOKL || $ST.DOKL ?}");
UP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $UP.MJ().DOKL || $ST.DOKL ?}");
UP.fld_fml('IL2','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_'
                                           || $exec(\'jaka_dok_mjm\',\'jm\',UP.MJ,UMO.JM2,UMO.JM1)
                                           || $ST.DOKL
                                           ?}");
UP.fld_fml('IL2','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_'
                                               || $exec(\'jaka_dok_mjm\',\'jm\',UP.MJ,UMO.JM2,UMO.JM1)
                                               || $ST.DOKL
                                               ?}");
UP.fld_fml('ILD','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $UP.M_D().DOKL || $ST.DOKL ?}");
UP.fld_fml('ILD','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $UP.M_D().DOKL || $ST.DOKL ?}");
UP.fld_fml('ILM','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $UP.M().DOKL || $ST.DOKL ?}");
UP.fld_fml('ILM','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $UP.M().DOKL || $ST.DOKL ?}");

ZLP.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLP.MJ().DOKL || $ST.DOKL ?}");
ZLP.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLP.MJ().DOKL || $ST.DOKL ?}");
ZLP.fld_fml('ILD','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLP.M_D().DOKL || $ST.DOKL ?}");
ZLP.fld_fml('ILD','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLP.M_D().DOKL || $ST.DOKL ?}");
ZLP.fld_fml('ILR','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $ZLP.M_R().DOKL || $ST.DOKL ?}");
ZLP.fld_fml('ILR','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $ZLP.M_R().DOKL || $ST.DOKL ?}");

:: Zlecenia transportowe
TR_ZL.fld_fml('IL','EDIT_FORMAT',"'in_prec='+{? (2+cur_kwin())='e_' || $TR_ZL.M().DOKL || $ST.DOKL ?}");
TR_ZL.fld_fml('IL','DISPLAY_FORMAT',"'out_prec='+{? (2+cur_kwin())='e_' || $TR_ZL.M().DOKL || $ST.DOKL ?}");

:: Jednostki miary
JM.fld_fml('DOKL','DISPLAY_FORMAT',"{? JM.DOKL=-1 || 'empty=1' || 'empty=0' ?}");
~~


\fld_prec_tap
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [21.37]
:: OPIS: ustawia precyzje na polach - tabela TAP - cenniki
::   WE: [_a] - rodzaj precyzji 1(domyślna)-dokładna 0-pełna
::----------------------------------------------------------------------------------------------------------------------
_prec:={? var_pres('_a')=type_of(0) || _a || 1 ?};
:: cenniki
_in_prec:={? _prec
          || "'in_prec='+{? (';SG'*TAP.TAR().SD)>1
                         || {? (2+cur_kwin())='e_'
                            || {? TAP.M || $TAP.M().DOKL_S
                               |? TAP.MGR || $TAP.MGR().DOKL_S
                               || $ST.DOKL_S
                               ?}
                            || $ST.DOKL_S
                            ?}
                         || {? (2+cur_kwin())='e_'
                            || {? TAP.M || $TAP.M().DOKL_Z
                               |? TAP.MGR || $TAP.MGR().DOKL_Z
                               || $ST.DOKL_Z
                               ?}
                            || $ST.DOKL_Z
                            ?}
                         ?}"
          || "'in_prec='+{? (_sd:={? TAP.TAR().SD='' || TAZ.SD || TAP.TAR().SD ?}; (';SG'*_sd)>1)
                         || $ST.DOKL_S
                         || $ST.DOKL_Z
                         ?}"
          ?};
_outprec:={? _prec
          || "'out_prec='+{? (';SG'*TAP.TAR().SD)>1
                          || {? (2+cur_kwin())='e_'
                             || {? TAP.M || $TAP.M().DOKL_S
                                |? TAP.MGR || $TAP.MGR().DOKL_S
                                || $ST.DOKL_S
                                ?}
                             || $ST.DOKL_S
                             ?}
                          || {? (2+cur_kwin())='e_'
                             || {? TAP.M || $TAP.M().DOKL_Z
                                |? TAP.MGR || $TAP.MGR().DOKL_Z
                                || $ST.DOKL_Z
                                ?}
                             || $ST.DOKL_Z
                             ?}
                          ?}"
          || "'out_prec='+{? (_sd:={? TAP.TAR().SD='' || TAZ.SD || TAP.TAR().SD ?}; (';SG'*_sd)>1)
                          || $ST.DOKL_S
                          || $ST.DOKL_Z
                          ?}"
          ?};
TAP.fld_fml('CEN','EDIT_FORMAT',_in_prec);
TAP.fld_fml('CEN','DISPLAY_FORMAT',_outprec);
TAP.fld_fml('CENB','EDIT_FORMAT',_in_prec);
TAP.fld_fml('CENB','DISPLAY_FORMAT',_outprec);
TAP.fld_fml('CEN_OD','EDIT_FORMAT',_in_prec);
TAP.fld_fml('CEN_OD','DISPLAY_FORMAT',_outprec);
TAP.fld_fml('CENB_OD','EDIT_FORMAT',_in_prec);
TAP.fld_fml('CENB_OD','DISPLAY_FORMAT',_outprec);
TAP.fld_fml('RABNET','EDIT_FORMAT',_in_prec);
TAP.fld_fml('RABNET','DISPLAY_FORMAT',_outprec);
TAP.fld_fml('RABBRT','EDIT_FORMAT',_in_prec);
TAP.fld_fml('RABBRT','DISPLAY_FORMAT',_outprec);
~~

:Sign Version 2.0 jowisz:1048 2023/06/23 14:14:35 312d1fbe2eedbf77e56c46edbefb9c7b41d709182300419be4e7c929bd11d8292340941c1e95127ddd7c0b7a3b85a4961e0c08bb8d96d3ba77b960b6d86685eca70f8db72de99d24ccbe995a5c3818b78f8bf51b035cacd687581028e7f628c493005a5c1c883d76b045100808237b2fb78b23fb5979b50783c40b855bfe0542
