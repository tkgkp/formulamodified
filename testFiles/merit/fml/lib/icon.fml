:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: icon.fml [17.00]
:: Utworzony: 16.12.2015
:: Autor: GZ
::======================================================================================================================
:: Zawartość: Formuły dotyczące obsługi ikon
::======================================================================================================================


\zarejestrowany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Ikona zarejestrowany
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:42'


\zaakceptowany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Ikona zaakceptowany
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:38'


\pl_plan
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Ikona planu operacyjnego
::  OLD: \pl_plan/ikony.fml
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:62'


\px_plan
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Ikona planu strategicznego
::  OLD: \px_plan/ikony.fml
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:69'


\px_queue
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [23.25]
:: OPIS: Ikona planu strategicznego - coś w kolejce, ale jeszcze nie w planie
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:133'


\standardowa
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - standardowa
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:33'


\inwentaryzacja
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - inwentaryzacja
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:70'


\arkuszinw
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - inwentaryzacja wynikająca z arkusza spisowego
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:62'


\depaletyzacja
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - depaletyzacja
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:52'


\paletowa
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - inicjująca palety
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:144'


\czytnik
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona reorganizacji - utworzona na czytniku
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:85'


\lista_ikon
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Mario [2008]
:: OPIS: Tworzy liste ikon dla pliku xwin16.png. Formula wykorzystywana na F3 dla pola typu string.
::   WY: wybrana ikona z tabeli (string)
::  OLD: \lista_ikon/skid_mk.fml
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('MenuIcon')<=100
|| exec('start_MenuIcon','icon');
   _wyn:=MenuIcon.iconlist();
   VAR_DEL.delete('MenuIcon');
   _wyn
|| MenuIcon.iconlist()
?}


\start_MenuIcon
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MM [8.70]
:: OPIS: Deklaracja obiektu do ikon
::  OLD: \start_MenuK/skid_an.fml
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('MenuIcon')<=100
|| exec('C_IKO_declare','icon');
   MenuIcon:=obj_new(@.CLASS.C_IKO)
?};
1


\C_IKO_declare
::----------------------------------------------------------------------------------------------------------------------
::  UTW: JM [2009] (2008/04/28 13:37)
:: OPIS: Deklaracja klasy C_IKO
::  OLD: \C_IKO_declare/skid_mkl.fml
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('C_IKO', @.CLASS)<=0
|| obj_decl('C_IKO',
   obj_fld('ICONTAB' ,'Tabela do wyswietlania ikon z pliku xwin16.png';0),
   obj_meth('ICONTABl','Ladowanie danych do ICONTAB';"
      .ICONTAB:=tab_tmp(1,'NR','INTEGER','Numer'@,
                          'NAZ','STRING[255]','Opis'@,
                          'SYM','STRING[20]','Symbol'@
                       );
      _tab:=.ICONTAB;
      _error:=0;
      on_error(2);
      _fico:=fopen('merit_opis.bmp','r',1);
      _error:=in_error();
      {? _fico
      || {!
         |? (_row:=fread(_fico))<>'\n'
         |! {? 1+_row<>'#'
            || _row:=STR.w952maz(_row);
               _tpos:=_row*'\t';
               {? _tpos
               || _tab.SYM:='xwin16.png:'+$(#((_tpos-1)+_row));
                  _tab.NAZ:=(_tpos)-_row;
                  _tab.add(1)
               ?}
            ?}
         !}
      || _error:=1
      ?};
      on_error();
      {? _error
      || _tab.erase();
        _ileicon:=0;
        _fbmp:=fopen('xwin16.png','br',1);
        {? _fbmp
        || fseek(_fbmp,20);
           _dword:=obj_new(4);
           {! _byte:=1..4 |! _dword[_byte]:=fread(_fbmp) !};
           fclose(_fbmp);
           {! _byte:=1..4     |! _ileicon:=_ileicon*256+_dword[_byte] !}
        ?};
        _ileicon:=_ileicon/16;

        {! _ico:=1.._ileicon
        |! _tab.NAZ:='ikona  '+$_ico;
           _tab.SYM:='xwin16.png:'+$_ico;
           _tab.add()
        !}
      ?};

      _win_sel:=_tab.mk_sel('Ikony'@,'P',,'meritbmpico');
      _tab.win_fld(_win_sel,,'SYM',,,15,3,,'Symbol'@);
      _tab.win_fld(_win_sel,,'NAZ',,,40,,,'Opis'@);
      _tab.win_act(_win_sel,,'Formuła','Wybierz'@@,,'Wybór beżącego zapisu ze słownika'@,$'sel_exit()',,1);
      _tab.win_act(_win_sel,,'Szukaj');
      _tab.win_act(_win_sel,,'Kolejność');
      _tab.win_sel(_win_sel);
      _tab.win_fml(_win_sel,, 'NAZ',,'ICON_BEFORE',$'cur_tab.SYM');
      1
   "),

   obj_meth('iconlist','Wyswietla .ICONTAB i zwraca wybrany xwin16.png:xxx';"
      _fld:={?_=0||fld()||''?};
      {? type_of(.ICONTAB)<7 || .ICONTABl() ?};
      .ICONTAB.first();
      {? _fld<>''
      || .ICONTAB.cntx_psh();
         _ind:=.ICONTAB.ndx_tmp('',1,'SYM',,0,'SYM',,0);
         .ICONTAB.index(_ind);
         _ref:={? .ICONTAB.find_key(_fld,_fld)
               || .ICONTAB.ref()
               || null()
               ?};
         .ICONTAB.cntx_pop();
         .ICONTAB.ndx_drop(_ind);
         {? _ref<>null
         || .ICONTAB.seek(_ref)
         ?}
      || .ICONTAB.first()
      ?};
      {? .ICONTAB.select(,1,5)>0
      || .ICONTAB.SYM
      || _fld
      ?}
   ")
);
~~
?}


\zafakturowany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona zafakturowania dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:190'


\brakdokumentu
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona braku dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:184'


\anulowany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.28]
:: OPIS: Ikona anulowania
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:81'


\zalacznik
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.28]
:: OPIS: Ikona załącznika
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:119'


\zmieniany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Ikona zmieniania dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:18'


\zakonczony
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Ikona zakończenia dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:81'


\zrealizowany
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Ikona realizacji dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:1'


\odpowiedz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [TMR] [20.42]
:: OPIS: Ikona odpowiedzi
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:1'


\pytanie
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [TMR] [20.42]
:: OPIS: Ikona pytania
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:15'


\komentarz
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [TMR] [20.42]
:: OPIS: Ikona komentarza
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:34'


\transpDO
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.42]
:: OPIS: 'transport DO' ikona
::  TAG: <IKONA>
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:162'


\transpZ
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.42]
:: OPIS: 'transport Z' ikona
::  TAG: <IKONA>
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:163'


\transpWymien
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.42]
:: OPIS: 'transport Z' ikona
::  TAG: <IKONA>
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:48'


\niereal_zaplanuj
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [19.22]
:: OPIS: Ikona realizacji dokumentu
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:83'


\selNO
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [20.14]
:: OPIS: Ikona wybrania bez
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:180'


\selPART
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [20.14]
:: OPIS: Ikona wybrania część
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:181'


\selYES
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [20.14]
:: OPIS: Ikona wybrania całość
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:179'


\waitMG
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [20.14]
:: OPIS: Ikona oczekiwania na zaktualizowanie dyspozycji w magazynie
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:4'


\zamkniety0
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [MW] [21.14]
:: OPIS: Ikona zamniętej odrzuconej reklamacji
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:8'


\czesciowo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Ikona częsćiowego powiązania, realizacji, zafakturowania etc.
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:187'


\problem_information
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Ikona problemu informacyjnego
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:42'


\problem_suspensing
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Ikona problemu wstrzymującego
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:5'


\problem_blocking
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [23.25]
:: OPIS: Ikona problemu blokującego
::----------------------------------------------------------------------------------------------------------------------
'xwin16.png:3'


\px_tex_color
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Zwraca kod ikony, który będzie reprezentował kolor etapu
::   WY: STRING - kod ikony
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
'@system|control-box-full'


\px_tex_grid
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Zwraca kod ikony, który będzie reprezentował wykorzystanie zasobu
::   WY: STRING - kod ikony
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
'@system|checkbox-full'


\px_tex_selected
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Zwraca kod ikony, który będzie reprezentował wykorzystanie zasobu - dla zaznaczonego etapu
::   WY: STRING - kod ikony
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
'@system|checkbox-select-full'


\px_tex_grayed
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AKUL [23.25]
:: OPIS: Zwraca kod ikony, który będzie reprezentował niedostępne pola
::   WY: STRING - kod ikony
::  TAG: <PUBLICZNA>
::----------------------------------------------------------------------------------------------------------------------
'|padlock'

:Sign Version 2.0 jowisz:1048 2023/06/23 14:14:36 bf02d0df58477750bab55a7aa572143272adaad5e8708e7bbf6c6c5fceb2c13a78064305d321d97cca853dea72d5ca8549227f2aad260497d1228fb1243acde539fd8085aa0c0476aca1d27184690109cc38b223b34e36928ab7c174694e554b62cf4db554e05ebadc6af2722f240ec752d8b72d1ed5e04fd376c30929f164d4
