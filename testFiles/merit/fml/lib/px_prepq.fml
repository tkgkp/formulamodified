:!UTF-8
::(c) Macrologic S.A. Wszelkie prawa zastrzezone
::======================================================================================================================
:: Nazwa pliku: px_prepQ.fml [12.10]
:: Utworzony: 2011/09/05
:: Autor: jerry
::======================================================================================================================
:: Zawartosc: Formuly dla wdrozeniowca - miejsce wlaczenia w mechanizm modyfikacji wdrozeniowych
::======================================================================================================================


\px_rules_init
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Formuly wdrozeniowe - tutaj dodawac formuly do PX_RULES
::   WE: _a - formula dodajaca regule
::       _b - tablica parametrow formuly dodajacej regule
::----------------------------------------------------------------------------------------------------------------------
_add_rule:=_a;
_add_args:=_b;
~~


\px_tex_init
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Formuly wdrozeniowe - tutaj dodawac przepisy systemowe do PX_TEX
::   WE: _a - formula dodajaca przepis
::       _b - tablica parametrow formuly dodajacej przepis
::----------------------------------------------------------------------------------------------------------------------
_add_tex:=_a;
_add_args:=_b;
~~


\px_obj_init
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Inicjuje/aktualizuje tabele obiektow do planowania - wersja wdrozeniowa
::       Wolane z: exec('px_obj_init','px_obj')
::   WY: 1 - dalej beda przetwarzane obiekty standardowe, 0 - tylko wersja wdrozeniowa
::----------------------------------------------------------------------------------------------------------------------
1


\px_poz_wykon_b
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Rejestracja wykonania do pozycji planu - wersja wdrozeniowa przed standardowa
::       Kontekst: pozycja planu (PX_POZ)
::       Wolane z: exec('px_poz_wykon','px_wyk')
::   WE: [_a] - 1=z dialogami (domyslnie) / 0=bez dialogow
::   WY: 1 - dalej bedzie prowadzona rejestracja standardowa, 0 - pomijana wersja standardowa
::----------------------------------------------------------------------------------------------------------------------
1


\px_poz_wykon_a
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Rejestracja wykonania do pozycji planu - wersja wdrozeniowa po standardowej
::       Kontekst: pozycja planu (PX_POZ)
::       Wolane z: exec('px_poz_wykon','px_wyk')
::   WE: [_a] - 1=z dialogami (domyslnie) / 0=bez dialogow
::----------------------------------------------------------------------------------------------------------------------
~~


\px_cup_wykon_b
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Rejestracja wykonania dla pojemnika planu - wersja wdrozeniowa przed standardowa
::       Kontekst: pojemnik planu (PX_CUP)
::       Wolane z: exec('px_cup_wykon','px_wyk')
::   WY: 1 - dalej bedzie prowadzona rejestracja standardowa, 0 - pomijana wersja standardowa
::----------------------------------------------------------------------------------------------------------------------
1


\px_cup_wykon_a
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Rejestracja wykonania dla pojemnika planu - wersja wdrozeniowa po standardowej
::       Kontekst: pojemnik planu (PX_CUP)
::       Wolane z: exec('px_cup_wykon','px_wyk')
::----------------------------------------------------------------------------------------------------------------------
~~


\px_poz_update
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Aktualizacja pozycji planu - jezeli sa opoznione pozycje, to oznaczanie ich do ponownego zaplanowania
::       - wersja wdrozeniowa
::       Wolane z: exec('px_poz_update','px_poz')
::   WY: 1 - dalej bedzie przetwarzana wersja standardowa, 0 - tylko wersja wdrozeniowa
::----------------------------------------------------------------------------------------------------------------------
1


\obj_kind_set
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Okresla typ obiektu planistycznego - wersja wdrozeniowa przed standardowa
::       Uzycie w: exec('obj_kind_set','px_obj')
::   WE: _a(done,result)
::   WY: _a
::----------------------------------------------------------------------------------------------------------------------
_args:=_a;
_args.done:=0;
_args.result:='';
:: tutaj wstawic wlasna interpretacje rodzaju obiektu
:: jezeli rodzaj zostal ustalony, to _args.done:=1
:: wracamy do obj_kind_set w px_obj
_args


\PX_TEX_list4obj
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Ustala liste technologii dla aktualnego PX_OBJ i wynik wrzuca do _a - wersja wdrozeniowa przed standardowa
::       Wywolanie w: exec('PX_TEX_ist4obj','px_tex',_px_texy)
::   WE: _a - tabela w ktorej maja sie znalesc wyniki
::   WY: 1 - udalo sie ustalic technologie, nie kontynuujemy standardu
::       0 - nie udalo sie ustalic technologii, kontynuujemy standard
::----------------------------------------------------------------------------------------------------------------------
_px_texy:=_a;
_result:=0;
:: rozpoczynamy rozpoznanie
:: rozpoznanie zakonczone
_result


\PX_TEX_list4
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Ustala liste technologii dla podanego _a i wynik wrzuca do _b - wersja wdrozeniowa przed standardowa
::       Wywolanie w: exec('PX_TEX_ist4','px_tex',_cos,_px_texy)
::   WE: _a - cos dla czego ustalana jest lista technologii (PX_TEXow)
::       _b - tabela w ktorej maja sie znalesc wyniki
::   WY: 1 - udalo sie ustalic technologie, nie kontynuujemy standardu
::       0 - nie udalo sie ustalic technologii, kontynuujemy standard
::----------------------------------------------------------------------------------------------------------------------
_cos:=_a;
_px_texy:=_b;
_result:=0;
:: rozpoczynamy rozpoznanie
:: rozpoznanie zakonczone
_result


\PX_TEX_Kinds
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Dodaje rodzaje PX_TEXow na wdrozeniu
::   WE: _a - obiekt zdefiniowany w exec('PX_TEX_Kinds','px_tex')
::UWAGA: Parametry bez [] sa wymagane, formula moze nie sprawdzac czy zostaly podane i moze wystapic blad.
::----------------------------------------------------------------------------------------------------------------------
_array:=_a;
:: _array.add_kind('rodzaj','indeks_z_mbuildera','formula tworzaca index dla PX_TEX')
~~


\gen_px_tex_sym
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.10]
:: OPIS: Podpowiedz PX_TEX.SYMBOL - mozliwosc wlasnej obslugi, gdy zwrocony tekst rozny od '', to standard zatrzymany
::       Wywolany w: exec('gen_px_tex_sym','px_tex')
::   WY: STRING - symbol
::----------------------------------------------------------------------------------------------------------------------
_symbol:='';
::ustalamy na podstawie biezacego bufora propozycje symbolu
::zwracamy symbol
_symbol


\PX_OBJ_added
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.30]
:: OPIS: Formula do wykonania po dodaniu nowego PX_OBJa, np. automatyczne wygenerowanie przepisu, itp.
::       wywolanie w exec('PX_OBJ_added','px_obj',PX_OBJ.ref())
::   WE: PX_OBJ.ref()
::   WY: 1 - kontynuacja przetwarzania standardowego, 0 - tylko wersja wdrozeniowa
::UWAGA: Parametry bez [] sa wymagane, formula moze nie sprawdzac czy zostaly podane i moze wystapic blad.
::----------------------------------------------------------------------------------------------------------------------
_PX_OBJ:=_a;
1


\PX_OBJ_updated
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jerry [12.30]
:: OPIS: Formula do wykonania po aktualizacji PX_OBJa, np. automatyczne wygenerowanie przepisu, itp.
::       wywolanie w exec('PX_OBJ_updated','px_obj',PX_OBJ.ref())
::   WE: PX_OBJ.ref()
::   WY: 1 - kontynuacja przetwarzania standardowego, 0 - tylko wersja wdrozeniowa
::UWAGA: Parametry bez [] sa wymagane, formula moze nie sprawdzac czy zostaly podane i moze wystapic blad.
::----------------------------------------------------------------------------------------------------------------------
_PX_OBJ:=_a;
1


\ver_processed
::----------------------------------------------------------------------------------------------------------------------
:: DOST: PUBLIC
::  UTW: WH [12.30]
:: OPIS: Formula do wykonania po przeliczeniu wersji planu
::   WE: _a - PX_VER.ref() - wersja ktora zostala przeliczona
::----------------------------------------------------------------------------------------------------------------------
~~


\ver_accepted
::----------------------------------------------------------------------------------------------------------------------
:: DOST: PUBLIC
::  UTW: WH [12.30]
:: OPIS: Formula do wykonania po zaakceptowaniu wersji planu
::   WE: _a - PX_VER.ref() - wersja ktora zostala zaakceptowana
::----------------------------------------------------------------------------------------------------------------------
~~

:Sign Version 2.0 jowisz:1028 2019/06/07 16:00:00 0895d98a7b700a90415705262a0bd1b09f88007094b79ab9183e453acd5b080a2d56049b54d472bd47b305148b9c307a2ee8e35a838fe383700985e06f653bbf0edb15b420a07e93648ac1b436ae36190deb351e120d0a27673a9161b474fa6b7e08f7cb41ad1cb215c5c283aed66d878c0965878d4a35881b2a1cdf1a900298
