:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzezone
::======================================================================================================================
:: Nazwa pliku:  px_var.fml [12.10]
:: Utworzony: 2011-07-05
:: Autor: WH
::======================================================================================================================
:: Zawartosc: Zbior funkcji do obslugi zmiennej PX_VAR (plan strategiczny - wielowymiarowy plan pojemnosciowy)
::======================================================================================================================


\px_var_jm_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.JM1
::----------------------------------------------------------------------------------------------------------------------
_dim:=#(cur_afld()+1);
_result:='';
{? PX_VAR.IL_WYM<_dim
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'JM'+$_dim,'KOD')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'JM'+$_dim,'KOD')
?};
_result


\px_var_jm_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.JM1
::----------------------------------------------------------------------------------------------------------------------
_dim:=#(cur_afld()+1);
_result:=1;
{? PX_VAR.IL_WYM<_dim
|| _result:=0
?};
_result


\px_var_eq1_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAPEQ1
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? PX_VAR.IL_WYM<1
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'CAPEQ1')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'CAPEQ1')
?};
_result


\px_var_eq1_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.CAPEQ1
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.IL_WYM<1
|| _result:=0
?};
{? _result>0
|| exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
?};
_result


\px_var_eq2_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAPEQ2
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? PX_VAR.IL_WYM<2
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'CAPEQ2')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'CAPEQ2')
?};
_result


\px_var_eq2_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.CAPEQ2
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.IL_WYM<2
|| _result:=0
?};
{? _result>0
|| exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
?};
_result


\px_var_eq3_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAPEQ3
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? PX_VAR.IL_WYM<3
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'CAPEQ3')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'CAPEQ3')
?};
_result


\px_var_eq3_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.CAPEQ3
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.IL_WYM<3
|| _result:=0
?};
{? _result>0
|| exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
?};
_result


\px_var_eq4_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAPEQ4
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? PX_VAR.IL_WYM<4
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'CAPEQ4')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'CAPEQ4')
?};
_result


\px_var_eq4_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.CAPEQ4
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.IL_WYM<4
|| _result:=0
?};
{? _result>0
|| exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
?};
_result


\px_var_eq5_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAPEQ5
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? PX_VAR.IL_WYM<5
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'CAPEQ5')
||
   PX_VAR.efld_opt('KONT_PAR','label_color=',,'CAPEQ5')
?};
_result


\px_var_eq5_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed edycja PX_VAR.CAPEQ5
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.IL_WYM<5
|| _result:=0
?};
{? _result>0
|| exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
?};
_result


\px_var_cup_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed redakcja zmiennej PX_VAR.CUPEQ
::   WY: 1
::----------------------------------------------------------------------------------------------------------------------
exec('px_rules_prfx','px_param',exec('px_rule_cup','px_param'));
1


\px_var_in_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed redakcja zmiennej PX_VAR.CUP_IN
::   WY: 1
::----------------------------------------------------------------------------------------------------------------------
exec('px_rules_prfx','px_param',exec('px_rule_in','px_param'));
1


\px_var_out_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.10]
:: OPIS: Przed redakcja zmiennej PX_VAR.CUP_OUT
::   WY: 1
::----------------------------------------------------------------------------------------------------------------------
exec('px_rules_prfx','px_param',exec('px_rule_out','px_param'));
1


\wars_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: PUBLIC
::  UTW: WH [12.10]
:: OPIS: Przed wyswietl pol zmiennej PX_VAR.WAR* - kolorowanie wg PX_VAR.KOL*
::   WY: STRING[23] - Kolor w formacie mbase
::----------------------------------------------------------------------------------------------------------------------
_result:='';
($('PX_VAR.KOL'+$(3 - cur_afld())))()


\zakres_init
::----------------------------------------------------------------------------------------------------------------------
:: DOST: PUBLIC
::  UTW: WH [12.10]
:: OPIS: Inicjuje pola zmiennej:
::       - PX_VAR.DATE1
::       - PX_VAR.DATE2
::       - PX_VAR.TIME1
::       - PX_VAR.TIME2
::   WE: _a - DATE - date1
::       _b - TIME - time1
::       _c - DATE - date2
::       _d - TIME - time2
::----------------------------------------------------------------------------------------------------------------------
PX_VAR.STARTD:=_a;
PX_VAR.STARTT:=_b;
PX_VAR.ENDD:=_c;
PX_VAR.ENDT:=_d;
~~


\px_var_fld_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.** (MAXEQ*, MINEQ*, PREC*, CAP_INF*)
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_dim:=#(_fld+1);
_result:='';
{? PX_VAR.IL_WYM<_dim
|| _result:=exec('color_noavail','px_param');
   PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,_fld)
||
   {? (5+_fld='MAXEQ' | 5+_fld='MINEQ') & ($('PX_VAR.CAP_INF'+$_dim+'=1'))()
   || _result:=exec('color_noavail','px_param')
   ?};
   PX_VAR.efld_opt('KONT_PAR','label_color=',,_fld)
?};
_result


\px_var_fld_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Przed edycja PX_VAR.** (MAXEQ*, MINEQ*, PREC*, CAP_INF*)
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_dim:=#(_fld+1);
_result:=1;
{? PX_VAR.IL_WYM<_dim
|| _result:=0
?};
{? (5+_fld='MAXEQ' | 5+_fld='MINEQ') & _result>0
|| {? ($('PX_VAR.CAP_INF'+$_dim+'=1'))()
   || _result:=0
   || exec('px_rules_prfx','px_param',exec('px_rule_cap','px_param'))
   ?}
?};
_result


\px_var_fld_ae
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Po redakcji PX_VAR.** (CUP_INF*)
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
{? _fld='GROPS'
|| PX_VAR.GROPS().PL_RES()
?};
win_disp()


\px_var_suma_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.SUMA*
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_dim:=#(_fld+1);
_result:='';
{? PX_VAR.IL_WYM<_dim
|| _result:=exec('color_noavail','px_param')
?};
_result


\px_var_cap_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.CAP*
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_result:='';
{? _fld='CAPACITY'
||
   _infinity:=exec('infinity_array','px_kont');
   {? PxSelect.PX_WYM.LP=0
   || _result:=exec('color_noavail','px_param')
   |? _infinity[PxSelect.PX_WYM.LP]>0
   || _result:=exec('color_noavail','px_param')
   ?}
||
   _dim:=#(_fld+1);
   {? PX_VAR.IL_WYM<_dim
   || _result:=exec('color_noavail','px_param')
   ?}
?};
_result


\px_var_made_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem PX_VAR.MADE*
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_dim:=#(_fld+1);
_result:='';
{? PX_VAR.IL_WYM<_dim
|| _result:=exec('color_noavail','px_param')
?};
_result


\px_var_ilosc_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem pola PX_VAR.ILOSC, PX_VAR.MADE
::----------------------------------------------------------------------------------------------------------------------
{? PX_VAR.MADE=PX_VAR.ILOSC
|| exec('flddisp','color','PX_POZ#CAP#WIN#01')
|? PX_VAR.MADE>PX_VAR.ILOSC
|| exec('flddisp','color','PX_POZ#CAP#WIN#02')
|| ''
?}


\px_var_fld_fd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Format wyswietlania pol PX_VAR.*
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_fd:='';
:: Zachowanie kontekstu kontenerow, bo inaczej pojawia sie skutek uboczny w postaci niejawnego prefiksowania widoku
PX_KONT.cntx_psh();
{? _fld='ILOSC' | _fld='MADE' | _fld='SUMA' | _fld='CAPACITY'
|| {? PX_VAR.SEL_KONT<>null()
   || PX_VAR.SEL_KONT();
      _fd:='out_prec='+$($('PX_KONT.PREC'+$PxSelect.PX_WYM.LP))()
   || _fd:='empty=1'
   ?}
|? 3+_fld='WAR'
|| _fd:='alignment=center'
?};
PX_KONT.cntx_pop();
_fd


\px_var_zn_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.10]
:: OPIS: Przed wyswietleniem pola PX_VAR.ZNACZNIK
::----------------------------------------------------------------------------------------------------------------------
_result:='';
{? cur_tab(1,1)=PX_OBJ
|| _result:='0:0:0,'+PX_OBJ.KOLOR;
   PX_VAR.ZNACZNIK:={? PX_OBJ.DIR=-1
                    || exec('txt_plan_bck','px_param')
                    |? PX_OBJ.DIR=1
                    || exec('txt_plan_fwd','px_param')
                    || exec('txt_plan_nul','px_param')
                    ?}
|? cur_tab(1,1)=PX_POZ
|| _result:='0:0:0,'+PX_POZ.PX_OBJ().KOLOR;
   PX_VAR.ZNACZNIK:={? PX_POZ.PX_GRP().DIR=-1
                    || exec('txt_plan_bck','px_param')
                    |? PX_POZ.PX_GRP().DIR=1
                    || exec('txt_plan_fwd','px_param')
                    || exec('txt_plan_nul','px_param')
                    ?}
|? var_pres('DIR',cur_tab(1,1))>0
|| PX_VAR.ZNACZNIK:={? cur_tab(1,1).DIR=-1
                    || exec('txt_plan_bck','px_param')
                    |? cur_tab(1,1).DIR=1
                    || exec('txt_plan_fwd','px_param')
                    || exec('txt_plan_nul','px_param')
                    ?};
   {? var_pres('KOLOR',cur_tab(1,1))>0
   || _result:='0:0:0,'+cur_tab(1,1).KOLOR
   ?}
|| PX_VAR.ZNACZNIK:=exec('txt_plan_nul','px_param')
?};
_result


\px_var_nakl_bl
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.30]
:: OPIS: Blank pola zmiennej PX_VAR.NAKL_PRC
::----------------------------------------------------------------------------------------------------------------------
100


\px_var_nakl_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.30]
:: OPIS: Przed wyswietl pola zmiennej PX_VAR.NAKL_PRC
::----------------------------------------------------------------------------------------------------------------------
~~


\px_var_nakl_be
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.30]
:: OPIS: Przed redagowaniem pola zmiennej
::   WY: 0 / 1
::----------------------------------------------------------------------------------------------------------------------
1


\px_var_nakl_ae
::----------------------------------------------------------------------------------------------------------------------
:: DOST: PUBLIC
::  UTW: WH [12.30]
:: OPIS: Po edycji pola zmiennej PX_VAR.NAKL_PRC
::   WY: 0 / 1
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? PX_VAR.NAKL_PRC>100 | PX_VAR.NAKL_PRC<0
|| _result:=0;
   FUN.emsg('Niedozwolona wartość.\nPoprawna wartość musi się zawierać w przedziale 0..100.'@)
?};
_result


\pxvar_pxkont_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Przed wyswietleniem pola PX_VAR.PX_KONT
::----------------------------------------------------------------------------------------------------------------------
{? -menu_txt()<>'dołącz' & PX_KONT.A='T' & ~exec('is_one_version','px_param')
||
   _result:=1;
   PX_KONT.cntx_psh();
   PX_KONT.clear();
   {? PX_KONT.seek(PX_KONT.TREE,)
   || PX_VAR.PX_KONT:=PX_KONT.SYMBOL
   || PX_VAR.PX_KONT:=''
   ?};
   PX_KONT.cntx_pop();
   PX_KONT.efld_opt('RED','label_color=',PX_VAR,'PX_KONT')
|| _result:=exec('color_noavail','px_param');
   PX_KONT.efld_opt('RED','label_color='+((_result*',')-_result),PX_VAR,'PX_KONT')
?};
_result


\pxvar_pxkont_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Przed redakcja pola PX_VAR.PX_KONT
::----------------------------------------------------------------------------------------------------------------------
{? -menu_txt()='popraw' & PX_KONT.A='T' & ~exec('is_one_version','px_param') || 1 || 0 ?}


\pxvar_pxkont_f3
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Obsluga F3 dla pola PX_VAR.PX_KONT
::----------------------------------------------------------------------------------------------------------------------
PX_KONT.cntx_psh();

_wer:=PX_KONT.mk_sel('Zasoby'@,,,'pxkontslo',,,20);
PX_KONT.win_fld(_wer,,'SYMBOL',,,20);
PX_KONT.win_fld(_wer,,'NAZWA',,,40);
PX_KONT.win_act(_wer,,'Formuła','&Wybierz'@@,,,"sel_exit()",,1,,,,'W');
PX_KONT.win_sel(_wer);

_mainver:=exec('get_mainversion','px_ver');
PX_KONT.index('ACT');
PX_KONT.prefix('T',_mainver);
PX_KONT.seek(PX_KONT.TREE,);
{? PX_KONT.select(,1,5) || _res:=PX_KONT.SYMBOL; fld(_res) || _res:=~~ ?};
PX_KONT.cntx_pop();
_res


\pxvar_pxkont_ae
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Po redakcji pola PX_VAR.PX_KONT
::----------------------------------------------------------------------------------------------------------------------
_ref:=0;
_ok:=0;

:: Sprawdzenie dostepnosci zasobu o wprowadzonym symbolu
{? PX_VAR.PX_KONT=''
|| _ok:=1
|| PX_KONT.cntx_psh();
   PX_KONT.index('ACT');
   _mainver:=exec('get_mainversion','px_ver');
   PX_KONT.prefix('T',_mainver,PX_VAR.PX_KONT,);
   {? PX_KONT.first()
   || _ref:=#PX_KONT.ref();
      _ok:=1
   || FUN.info('Brak zasobu o symbolu: %1.'@[PX_VAR.PX_KONT])
   ?};
   PX_KONT.cntx_pop()
?};

{? _ref=PX_KONT.ref()
|| _ok:=0;
   FUN.info('Nie można wybrać tego zasobu jako zasobu nadrzędnego.'@)
?};

:: Mozna jeszcze dodac sprawdzenie, czy wystapi cykl, ale program i tak zglosi uwage 377

{? _ok || PX_KONT.TREE:=_ref ?};
_ok


\px_var_objil_fd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Format wyswietlania pola PX_VAR.OBJ_IL
::----------------------------------------------------------------------------------------------------------------------
'out_prec='+{? (2+cur_kwin())='e_' || $PX_OBJ.M().DOKL || $ST.DOKL ?}+{? fld()=0 || ',empty=1' || ',empty=0' ?}


\px_var_grndt_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Przed wyswietleniem pola PX_VAR.GRN_DATA
::----------------------------------------------------------------------------------------------------------------------
DPOZ.WPR_D:=fld();
{? PX_VAR.ADD_DIR=0 || exec('findfnv','#color') || 1 ?}


\px_var_grndt_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Prze redakcja pola PX_VAR.GRN_DATA
::----------------------------------------------------------------------------------------------------------------------
PX_VAR.ADD_DIR<>0


\px_var_grndt_ae
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [12.41]
:: OPIS: Po redakcji pola PX_VAR.GRN_DATA
::----------------------------------------------------------------------------------------------------------------------
{? DPOZ.WPR_D<>fld() & fld()=date(0,0,0) || PX_VAR.GRN_TIME:=time(0,0,0) || 1 ?}


\px_var_grntm_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Przed wyswietleniem pola PX_VAR.GRN_TIME
::----------------------------------------------------------------------------------------------------------------------
{? PX_VAR.ADD_DIR=0 || exec('findfnv','#color') || 1 ?}


\px_var_grntm_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Przed redakcja pola PX_VAR.GRN_TIME
::----------------------------------------------------------------------------------------------------------------------
PX_VAR.ADD_DIR<>0


\px_var_addir_ae
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.30]
:: OPIS: Po redakcji pola PX_VAR.ADD_DIR
::----------------------------------------------------------------------------------------------------------------------
::{? PX_VAR.ADD_DIR=-1 || PX_VAR.PL_FORCE:='' ?};
win_disp()


\cup_cap_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [12.41]
:: OPIS: Przed wyświetl dla pól PX_VAR.CAP*
::----------------------------------------------------------------------------------------------------------------------
_fld:=cur_afld();
_dim:=#(_fld+1);
_result:='';
_infinity:=exec('infinity_array','px_kont');
{? PX_KONT.IL_WYM<_dim
|| _result:=exec('color_noavail','px_param')
|? (7+_fld='CAP_MAX' | 7+_fld='CAP_MIN') & _infinity[_dim]>0
|| _result:=exec('color_noavail','px_param')
?};
_result


\cup_cap_fd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: WH [12.41]
:: OPIS: Format wyświetlania dla pól PX_VAR.CAP*
::----------------------------------------------------------------------------------------------------------------------
_wymiar:=cur_afld()+1;
{? #_wymiar>PX_KONT.IL_WYM
|| 'empty=1'
|| 'empty=0,out_prec='+$($('PX_KONT.PREC'+_wymiar))()
?}


\px_point_bd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.41]
:: OPIS: Przed wyswietl dla pol PX_VAR.* zwiazanymi z punktami czasowymi
::   WY: STRING - kolor pola
::----------------------------------------------------------------------------------------------------------------------
_result:='';
_fld:=cur_afld();
_result


\px_point_fd
::----------------------------------------------------------------------------------------------------------------------
:: DOST: MBUILDER
::  UTW: WH [12.41]
:: OPIS: Format wyświetlania dla pol PX_VAR.MAX_*, PX_VAR.IS_MAX
::   WY: STRING
::----------------------------------------------------------------------------------------------------------------------
_result:='';

_fld:=cur_afld();

{? _fld='IS_MAX'
|| _result:='empty=1'
|? _fld='IS_MIN'
|| _result:='empty=1'
|? _fld='MOD_DATE' | _fld='MOD_TIME'
|| {? PX_VAR.MOD_DATE=date(0,0,0)
   || _result:='empty=1'
   ?}
|? _fld='POI_TYP'
|| {? PX_VAR.POI_TYP=''
   || _result:='empty=1'
   ?}
?};
_result


\pl_force_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.41]
:: OPIS: Przed wyswietleniem pola PX_VAR.PL_FORCE
::----------------------------------------------------------------------------------------------------------------------
::{? PX_VAR.ADD_DIR=-1
::|| 0
::|| 1
::?}
1


\pl_force_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.41]
:: OPIS: Przed redagowaniem pola PX_VAR.PL_FORCE
::----------------------------------------------------------------------------------------------------------------------
::{? PX_VAR.ADD_DIR=-1
::|| 0
::|| 1
::?}
1


\px_var_set_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.41]
:: OPIS: Przed wyswietleniem pola PX_VAR.RED_SET
::----------------------------------------------------------------------------------------------------------------------
_result:=1;
{? ~exec('is_one_version','px_param')
|| _result:=exec('color_noavail','px_param');
    PX_VAR.efld_opt('KONT_PAR','label_color='+((_result*',')-_result),,'RED_SET')
?};
_result


\px_var_set_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [12.41]
:: OPIS: Przed redakcja pola PX_VAR.RED_SET
::----------------------------------------------------------------------------------------------------------------------
exec('is_one_version','px_param')

:Sign Version 2.0 jowisz:1048 2023/06/23 14:14:35 d5fbce6f8121391d62312813ff9da551abd733cf5dd6181b163033f9937f4e09671e8b8b7f40bf03b66f2170698b79d9969265d9bf15c99cf943d1b6f92bced5f9620681228b374e651023cd86febd0147974dd105a39c91b3d2415d7117855cac8fa943cf2942d6148b0f8256be765aeff8f8a9ab45cf2dcf8ca1c30e7bcd60
