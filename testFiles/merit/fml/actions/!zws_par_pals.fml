:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_pals.fml
:: Utworzony: 23.10.2020
:: Autor: jaws
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_PALS - Parametry list płac.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [21.14]
:: OPIS: Parametry list płac - główna formuła czynności.
::   WE:
::   WY: ~~
::----------------------------------------------------------------------------------------------------------------------
_wnd:=exec('mk_wnd','!zws_par_pals');
_ctx:=obj_new('O_FPAR','O_DPAR');
_ctx.O_FPAR:=null;
_ctx.O_DPAR:=null;
params_set('ctx',_ctx);

O_FPAR.cntx_psh();
O_FPAR.win_sel(_wnd);
O_FPAR.select();
O_FPAR.cntx_pop();
O_FPAR.win_del(_wnd);
~~


\mk_wnd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [21.14]
:: OPIS: Tworzy panel zawierający listy wykorzystania i definicji parametrów list płac.
::   WE:
::   WY: akronim okna grupowego
::----------------------------------------------------------------------------------------------------------------------
:: utwórz panel z zakładkami wykorzystania i definicji
_wnd:=O_FPAR.grp_make('Parametry list płac'@,
:: przed obsługą
   "params_exec('adm_bo','!zws_par_pals')",
:: identyfikator, położenie
   '#zws_par_pals',,,
:: podczas zamykania
   "params_exec('adm_oc','!zws_par_pals')"
);

:: wykorzystanie parametrów w firmie
O_FPAR.grp_sel(_wnd,O_FPAR,'WER','Parametry w firmie %1'@[REF.FIRMA().SYMBOL],,,,,
:: przed obsługą
   "  O_FPAR.prefix(exec('ref_firma','ustawienia'));
      O_FPAR.seek(params_get().ctx.O_FPAR)
   ",
:: po obsłudze
   "params_get().ctx.O_FPAR:=O_FPAR.ref()"
);

:: definicje wszystkich parametrów
O_FPAR.grp_sel(_wnd,O_DPAR,'WER','Wszystkie parametry'@,,,,,
:: przed obługą
   "O_DPAR.seek(params_get().ctx.O_DPAR)",
:: po obsłudze
   "params_get().ctx.O_DPAR:=O_DPAR.ref()"
);

_wnd


\adm_bo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [21.14]
:: OPIS: Przed obsługa panelu parametrów list płac.
::   WE:
::   WY: 1
::----------------------------------------------------------------------------------------------------------------------
O_DPAR.cntx_psh();
O_DPAR.clear();
O_DPAR.index('NAZWA');
O_DPAR.win_patt('WZO');
O_DPAR.win_dict('WER');

O_FPAR.cntx_psh();
O_FPAR.index('NAZWA');
O_FPAR.win_edit('RED');
O_FPAR.win_patt('WZO');
1


\adm_oc
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [21.14]
:: OPIS: Podczas zamykania panelu parametrów list płac.
::   WE:
::   WY: 1
::----------------------------------------------------------------------------------------------------------------------
O_FPAR.cntx_pop();
O_DPAR.cntx_pop();
1

:Sign Version 2.0 jowisz:1048 2021/04/09 15:19:43 b3bb8aa1121ccac235cd3592105152e4026d07e92eeb7071d20afaf6e953760963a4c9fc94b61dd33af70ead7d3a68b59ee45503adc24bf8418fc8643027548db17429653ef2ac7fafee9eb5f119b2c589eb6217f45934a85b1c58d3b4faf98def66e2b90021ba8d004cc3b1cc98555f594430499d397257675588291fe89b6b
