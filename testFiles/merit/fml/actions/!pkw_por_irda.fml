:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !pkw_por_irda.fml
:: Utworzony: 07.06.2016
:: Autor: RWR
::======================================================================================================================
:: Zawartość: Obsługa czynności webTerm-owej PKW_POR_IRDA - Przeglądanie stanu rodzinnego.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Przeglądanie stanu rodzinnego (webTerm) - główna formuła czynności.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
exec('pkw_por__rda','pkw_por')


\s_zus_opis
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [19.02]
:: OPIS: Formuła dla bieżącego rekordu tabeli RD uzupełnia wartości wolnych pól z opisami kodów ZUS.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
S_ZUS.cntx_psh();
S_ZUS.prefix();
_get:="{? ($('RD.'+_a))()<>null() || ($('RD.'+_a+'()'))(); S_ZUS.memo_txt(,1,'OPIS') || '' ?}";
POLA_GRP.TXT_1:=_get('TPID');
POLA_GRP.TXT_2:=_get('STPK');
POLA_GRP.TXT_3:=_get('STNP');
S_ZUS.cntx_pop();
1


\rd_szczegoly_a
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Obsługa akcji "Szczegóły" tabeli RD.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
{? ~exec('exist','#record') || return(~~) ?};

::Konieczne podczytanie złączenia w bieżącej obsłudze
RD.KRAJ();
S_ZUS.cntx_psh();
S_ZUS.prefix();
_get:="{? ($('RD.'+_a))()<>null() || ($('RD.'+_a+'()'))(); S_ZUS.memo_txt(,1,'OPIS') || '' ?}";
POLA_GRP.TXT_1:=_get('TPID');
POLA_GRP.TXT_2:=_get('STPK');
POLA_GRP.TXT_3:=_get('STNP');
S_ZUS.cntx_pop();
exec('s_zus_opis','!pkw_por_irda');

_we:='WEB_RED';
exec('rd_efld_opt','osoba','*',RD,_we);
RD.memo_get(,'UWAGI');
RD.web_display(_we,,"web_top_tab().web_eclose(web_top_win())")


\rd_web_wer_bd
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [19.02]
:: OPIS: Obsługa akcji "Rekord przed" w oknie WEB_WER tabeli RD.
::   WE: _a [NUMBER] - Rekord bieżący? [0 - nie / 1 - tak]
::   WY:
::----------------------------------------------------------------------------------------------------------------------
::Wolne pola (opisy kodów)
exec('s_zus_opis','!pkw_por_irda');
0

:Sign Version 2.0 jowisz:1045 2021/06/08 09:43:30 439a23cedfed96e4e651a6c4bb73918efd7703f9b9f7e861106cc461540de6ce5827f28b17bd514618e69b499dc314b879a9cc36079593aa0fb4debc0fae349380499a892cdcbc2ca98cb7185d9dd713ea36719a1b8abe509e51988de10c7498b1dde117fbc5650e41ee232e52f390bd0d40e20a29c779e429ae87add6ab06d9
