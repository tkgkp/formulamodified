:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_trtz.fml
:: Utworzony: 31.01.2019
:: Autor: TS
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_TRTZ - Typy zasobów remontowych
::            Obsługa tabeli REM_ZTP
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.22]
:: OPIS: Formuła główna czynności parametryzacyjnej (nieprocesowej) - typy zasobów remontowych
::----------------------------------------------------------------------------------------------------------------------
exec('init','tre');
REM_ZTP.cntx_psh();
REM_ZTP.win_sel('WER');
REM_ZTP.index('TYP');
REM_ZTP.prefix();
REM_ZTP.select();
REM_ZTP.cntx_pop();
~~


\action_activate
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.22]
:: OPIS: Aktywacja typu zasobu remontowego
::----------------------------------------------------------------------------------------------------------------------
{? REM_ZTP.ACTIVE='T'
|| FUN.info('Wskazany typ zasobu remontowego jest aktywny.'@)
|? FUN.ask('Aktywować wskazany typ zasobu remontowego?'@)
|| REM_ZTP.ACTIVE:='T';
   REM_ZTP.put()
?};
~~


\action_deactivate
::----------------------------------------------------------------------------------------------------------------------
::  UTW: TS [19.22]
:: OPIS: Dezaktywacja typu zasobu remontowego (możliwa tylko jak nie ma powiązań)
::----------------------------------------------------------------------------------------------------------------------
{? REM_ZTP.ACTIVE='N'
|| FUN.info('Wskazany typ zasobu remontowego jest nieaktywny.'@)
|? REM_ZTP.count()>0
|| FUN.info('Dezaktywacja nie jest możliwa — wskazany typ zasobu remontowego jest już użyty w systemie.'@)
|? FUN.ask('Dezaktywować wskazany typ zasobu remontowego?'@)
|| REM_ZTP.ACTIVE:='N';
   REM_ZTP.put()
?};
~~

:Sign Version 2.0 jowisz:1028 2019/06/07 15:56:07 0478ee7956334db2e3b2dffef7b7525d7d8c90c8b9b229bf9dd3897b490862d2c91211bd3a44ff9e9f8ca107f39926a38c748a1952801342f42399ac2820e26b882701421b46d87890600ddbe34b394b17b01a71a3524bb3ffca3add5f34f2daf4714997b9062bdc31517a4261cb484a5f8b8fe6a970c6845b6c9a231fe43757
