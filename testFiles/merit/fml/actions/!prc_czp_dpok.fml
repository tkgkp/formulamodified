:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !prc_czp_dpok.fml
:: Utworzony: 04.08.2017
:: Autor: areKc
::======================================================================================================================
:: Zawartość: Formuły czynności: PRC_CZP_DPOK - Pracownk w okresach rozl.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Przeglądanie okresów rozliczeniowych współpracownika.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
::# permissions=F_ZATR,UD_SKL
~~


\a_okrp_werp_br
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed akcją rekord w oknie WERP tabeli A_OKRP
::   WE: _a [NUMBER] - Rekord bieżący? [0 - nie / 1 - tak]
::   WY:
::----------------------------------------------------------------------------------------------------------------------
POLA_GRP.TXT_1:=
   {? A_OKRP.OKR().S_PLAN='O'
   || 'Odblokowany'
   || 'Zablokowany'
   ?};
POLA_GRP.TXT_2:=
   {? A_OKRP.OKR().S='O'
   || 'Otwarty'
   || 'Zamknięty'
   ?};
POLA_GRP.TXT_3:=
   {? A_OKRP.S_PLAN='O'
   || 'Otwarty'
   |? A_OKRP.S_PLAN='Z'
   || 'Zamknięty'
   |? A_OKRP.S_PLAN='X'
   || 'Rozliczony'
   ?};
{? _a
|| {? A_OKRP.S_PLAN='X'
   || A_OKRP.actions_grayed('WERP','A(R)A(Z)')
   |? A_OKRP.S_PLAN='Z'
   || A_OKRP.actions_grayed('WERP','A(D)A(Z)')
   |? A_OKRP.OKR().S='Z'
   || A_OKRP.actions_grayed('WERP','A(D)A(Z)')
   |? A_OKRP.OKR().S='O' & A_OKRP.OKR().S_PLAN='Z'
   || A_OKRP.actions_grayed('WERP','A(D)A(Z)')
   |? A_OKRP.OKR().S_PLAN='O'
   || A_OKRP.actions_grayed('WERP','A(D)A(R)')
   ?}
?};

VAR_EDIT.NAZWA:=A_OKRP.OKR().NAZ().NAZ


\a_okrp_werp_bo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed akcją okienko w oknie WERP tabeli A_OKRP
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
A_OKR.cntx_psh();
1


\a_okrp_werp_ao
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła po akcji okienko w oknie WERP tabeli A_OKRP
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
A_OKR.cntx_pop();
1

:Sign Version 2.0 jowisz:1028 2019/10/14 09:20:06 456583eeba3a463cb5812ba682890c8e70068cc21a919c3cc5973804fcc9e6125249a6cf746cf311a624dcb65067ce30f83134883d2256ea468d43f93efd8bfca7d7caeda721bcf2e603bd23f6170875d85e924ffa8ad623a27b5267164039f9fe2aed1b6f8e592bfeb39019dba0093d26b809bae50ee581ff69f84a519fca2b
