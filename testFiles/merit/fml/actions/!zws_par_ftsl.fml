:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzezone
::======================================================================================================================
:: Nazwa pliku: !zws_par_ftsl.fml [17.00]
:: Utworzony: 2015/02/27
:: Autor: PJ
::======================================================================================================================
:: Zawartosc: Formuły czynności definiowania słowników pomocnicznych dla środków trwałych
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Slowniki pomocniczne dla środków trwałych
::   WE: _a - [obj_new] - parametry wejsciowe czynnosci
::       _b - [obj_new] - parametry wewnetrzne czynnosci
::       _c - [obj_new] - parametry wyjsciowe czynnosci
::       _d - obiekt odpowiedzialny za obsluge procesu
::----------------------------------------------------------------------------------------------------------------------
exec('slowniki','!zws_par_ftsl');
~~


\slowniki
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Wyświetlanie okna słówników dla środków trwałych
::----------------------------------------------------------------------------------------------------------------------
PRZYCHOD.prefix();
ROZ.prefix();
PRZYCHOD.win_sel('SRSLOGR');
PRZYCHOD.select();
1


\be_r
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [2008]
:: OPIS: Formula przed redakcja pola R (kod rodzaju) w tabelach PRZYCHOD i ROZ
::  OLD: \be_r/slowniki
::----------------------------------------------------------------------------------------------------------------------
{? menu_txt<>'Dołącz'
|| {? cur_tab().STANDARD=1 || 0 || 1 ?}
|| 1
?}


\chk_przychod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Formula sprawdzająca wypełnienie pól tabeli PRZYCHOD
::----------------------------------------------------------------------------------------------------------------------
_wy:=__CHK.record(PRZYCHOD,,'R','OPIS');
{? _wy=''
|| _wy:=__CHK.index(PRZYCHOD,-menu_txt()='popraw')='';
   {? _wy=0 || _wy:='R' ?}
?};
_wy


\chk_rozchod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Formula sprawdzająca wypełnienie pól tabeli ROZ
::----------------------------------------------------------------------------------------------------------------------
_wy:=__CHK.record(ROZ,,'R','OPIS');
{? _wy=''
|| _wy:=__CHK.index(ROZ,-menu_txt()='popraw')='';
   {? _wy=0 || _wy:='R' ?}
?};
_wy


\popraw_przychod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [2008]
:: OPIS: Formula przed akcja Popraw w tabeli Przychod
::  OLD: \popraw_przychod/slowniki
::----------------------------------------------------------------------------------------------------------------------
{? PRZYCHOD.STANDARD=1
|| FUN.emsg('Nie można poprawiać kodów standardowych rodzajów przychodu,\n'
           'Do edycji dostępne będzie jedynie pole OPIS.'@)
?};
1


\popraw_rozchod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [2008]
:: OPIS: Formula przed akcja Popraw w tabeli Rozchod
::  OLD: \popraw_rozchod/slowniki
::----------------------------------------------------------------------------------------------------------------------
{? ROZ.STANDARD=1
|| FUN.emsg('Nie można poprawiać kodów standardowych rodzajów rozchodu,\n'
           'Do edycji dostępne będzie jedynie pole OPIS.'@)
?};
1


\usun_przychod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [2008]
:: OPIS: Formula przed akcja Usun w tabeli Przychod
::  OLD: \usun_przychod/slowniki
::----------------------------------------------------------------------------------------------------------------------
_wy:=0;
{? PRZYCHOD.STANDARD=1
|| FUN.emsg('Nie można usuwać standardowych rodzajów przychodu.'@);
   _wy:=0
|| {? PRZYCHOD.count()<>0
   || FUN.emsg('Ten rodzaj przychodu jest używany i nie można go usunąć.'@);
      _wy:=0
   || _wy:=1
   ?}
?};
_wy


\usun_rozchod
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [2008]
:: OPIS: Formula przed akcja Usun w tabeli Rozchod
::  OLD: \usun_rozchod/slowniki
::----------------------------------------------------------------------------------------------------------------------
_wy:=0;
{? ROZ.STANDARD=1
|| FUN.emsg('Nie można usuwać standardowych rodzajów rozchodu.'@);
   _wy:=0
|| {? ROZ.count()<>0
   || FUN.emsg('Ten rodzaj rozchodu jest używany i nie można go usunąć.'@);
      _wy:=0
   || _wy:=1
   ?}
?};
_wy

:Sign Version 2.0 jowisz:1028 2019/06/07 15:56:04 7bfafbd944171aee1bc645ed7507ebaf0332952f54537b0cc1aecf231b371010c9c76b7705cbcd87c9c9b5b34c5ac0954418489edb4e38fdc0269285060ec56525aa0d43595444dd09f467569469b2bc59a648dfdfe4e41c3ee7ea8f18457951b62ae8e12d3f56702de57cd091f5b20beaa6ee95abe280c489a0f520808ad626
