:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_pzme.fml
:: Utworzony: 25.04.2017
:: Autor: jaws
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_PZME - Zmiana metodyki.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [17.28]
:: OPIS: Zmiana metodyki - główna formuła czynności.
::----------------------------------------------------------------------------------------------------------------------
exec('otworz_dok','phr_tab');

ZZ_HIST.cntx_psh();
ZZ_HIST.index('DATA');
ZZ_HIST.prefix(exec('ref_firma','ustawienia'));
ZZ_HIST.win_sel('WER');
ZZ_HIST.select();
ZZ_HIST.cntx_pop();
~~


\zz_hist_xxx_bo
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [17.42]
:: OPIS: Okienko przed okna WER tabeli ZZ_HIST.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
ZZ_HIST.cntx_psh();
ZZ_HIST.clear();
ZZ_HIST.for_each("
   {? ZZ_HIST.FIRMA=null
   || ZZ_HIST.FIRMA:=exec('ref_firma','ustawienia');
      ZZ_HIST.put()
   ?}
");
ZZ_HIST.cntx_pop();

exec('zz_pom_psh','phr_widok','ZWS_PAR_PZME');
exec('setup_icon','phr_widok','OPIS');

ZZ_HIST.win_edit('RED');

exec('init_hist','phr_dane')


\zz_hist_xxx_ao
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [17.42]
:: OPIS: Okienko po okna WER tabeli ZZ_HIST.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_hist:=ZZ_POM.ZZ_HIST;
exec('zz_pom_pop','phr_widok');
ZZ_POM.ZZ_HIST==_hist;

{? ZZ_HIST.size=0
|| exec('init_hist','phr_dane');
   FUN.info('Brak informacji o bieżącej metodyce.\nPrzyjęto ustawienia początkowe.'@)
|? ZZ_POM.ZZ_HIST & ~ZZ_HIST.seek(ZZ_POM.ZZ_HIST)
|| exec('init_hist','phr_dane');
   FUN.info('Przyjęto metodykę "%1".'@[ZZ_POM.ZZ_HIST().OPIS])
?};
1


\zz_hist_ae
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [17.42]
:: OPIS: Po redakcji okienek tabeli ZZ_HIST.
::   WE:
::   WY: zgodna ze specyfikacją dla akcji "rekord po"
::----------------------------------------------------------------------------------------------------------------------
exec('zz_hist_chk','phr_zz_tab',-menu_txt()='popraw')

:Sign Version 2.0 jowisz:1028 2019/06/07 15:56:06 32f799e55d18cbcc5de77c82b3635c9eb5f8e596fd79871f1cb8e774c908ad9da81bf35bd365dfcce7c42676d4de20445be764e2cdf577c4f30a0f3af4c021f6e4d5379114a894420c1fc6af0ae7feb50722d9982271bcc63b05ab2d4d869913f366a56cd8ab76f30a2682421da6ad21e88666bd283c02fd150c2fb431fee985
