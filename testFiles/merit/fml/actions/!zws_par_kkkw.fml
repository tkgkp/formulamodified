:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_kkkw.fml [17.00]
:: Utworzony: 2015.12.10
:: Autor: AMK
::======================================================================================================================
:: Zawartosc: Formuły czynności ZWS_PAR_KKKW - Przegląd kontaktów kontrahenta
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AMK [17.00]
:: OPIS: Formuła główna czynności ZWS_PAR_KKKW - Przegląd kontaktów kontrahenta
::   WE: _a - [obj_new] - parametry wejsciowe czynnosci
::       _b - [obj_new] - parametry wewnetrzne czynnosci
::       _c - [obj_new] - parametry wyjsciowe czynnosci
::       _d - obiekt odpowiedzialny za obsluge procesu
::----------------------------------------------------------------------------------------------------------------------
::# properties=GRP_FIRM
VAR_DEL.delete('__CTR');
__CTR:=obj_new('BTAB', 'BBLOB','TAB','WIN_ID','WIN_ACR','DIR_SEP','DND');
__CTR.BTAB:='DOKUMZ';
__CTR.TAB:='DOKUM';
__CTR.BBLOB:='DOKUM';
__CTR.WIN_ACR:=exec('mk_ctr','bloby','kont_dokz_ctr',':');
__CTR.WIN_ID:=-(1-__CTR.WIN_ACR);
__CTR.DIR_SEP:=exec('sep','#file',1);
__CTR.DND:=1;
__PAR188:=PAR_SKID.get(188)='T';
ZDARZT.win_fml('ZDARZT2',,'ICON',,'ICON_BEFORE',"ZDARZT.ICON");
_grp_sel:=DOKUM.grp_make('Kontakty kontrahenta'@,,'dokum_gr');
_far:="exec('kont_sz_akt','kontrahent')";
_far1:=$('exec(\'dokum_rfr\',\'bloby\',\':'+__CTR.WIN_ID+'\',\''+__CTR.WIN_ACR+'\')');
_befor:="exec('bobs_dokumz','bloby')";
_fb:="KHVZ.KONTAKTY:='T'; DOKUM.index('KH'); DOKUM.prefix(KH.ref()); DOKUM.win_edit('REDK')";
__KONTIN:=exec('hasAction','users','ZWS_PAR_KKKD')=0;
DOKUM.grp_sel(_grp_sel,,'WERK1',,_far; _far1,,,,_fb,"KHVZ.KONTAKTY:='N'",,,'maximized');
DOKUM.grp_splt(_grp_sel,,'horizontal','tab2',18);
DOKUM.grp_ctr(_grp_sel,DOKUMZ,__CTR.WIN_ACR,__CTR.WIN_ID,,,,,,,_befor,,,'maximized');
DOKUM.win_sel(_grp_sel);
DOKUM.select();
VAR_DEL.delete('__KONTIN');
~~

:Sign Version 2.0 jowisz:1048 2023/06/23 14:09:41 3a0e6dc79c0a81f48b38de77773d7601fe10d84944f11beaaed2ffc965dede00625f56ce63353be2e9bff6fa84b8616d2762333e30d54212ceaaeb17d636f250a45f583e6a92e567520ff1718f86f1b69a128c666dc53c7b64b42bcf7e46b74e582fa0cd700e58b14d48e45384e90179d10db1a8165b6f55e57a7e8d799aac64
