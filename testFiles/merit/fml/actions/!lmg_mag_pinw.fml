:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !lmg_mag_dinw.fml
:: Utworzony: 30.11.2015
:: Autor: AWI
::======================================================================================================================
:: Zawartość: Przegląd inwentaryzacji
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AWI [17.00]
:: OPIS: Formuła główna czynności
::       UWAGA. Do pobrania parametrów stosować params_get() = tablica nazwana:
::       in  - [obj_new] - parametry wejściowe czynności
::       int - [obj_new] - parametry wewnętrzne czynności
::       out - [obj_new] - parametry wyjściowe czynności
::       mp  - obiekt odpowiedzialny za obsługę procesu
::----------------------------------------------------------------------------------------------------------------------
::# permissions=ODDZ,LMG
~~


\inwent
::----------------------------------------------------------------------------------------------------------------------
::  UTW: Mario [2008]
:: OPIS: wyswietlanie inwentaryzacji
::  OLD: \inwent/magazyn.fml
::----------------------------------------------------------------------------------------------------------------------
{? ST.MAG<>null & ST.MAG().SKL='T'
|| FUN.info('Funkcja niedostępna dla magazynu typu skład celny.'@);
   ''
|? ST.MAG<>null
|| _refnd:=ND.ref();
   _typydok:=TYPYDOK.ref();
   ND.cntx_psh();
   TYPYDOK.cntx_psh();
   BEER.MSK:='';

   INN.win_sel('WER');
   INN.hdr_sel();
   INN.hdr_sel(' w magazynie: '+ST.MAG().SYM);
   INN.index('INN');
   INN.prefix(ST.MAG);
   INN.select();

   TYPYDOK.cntx_pop();
   ND.cntx_pop();
   BEER.TYPYDOK:=null();
   exec('typydok_'+{? ZAKR.PLMINALL='P' || 'plus' |? ZAKR.PLMINALL='M' || 'minus' || 'all' ?},'lmg');
   TYPYDOK.f_seek(_typydok);
   exec('pd_grp_typydok','lmg');
   ND.seek(_refnd);
   ''
|| FUN.info('Nie wybrano magazynu w parametrach pracy programu.'@);
   ''
?}

:Sign Version 2.0 jowisz:1028 2019/06/07 15:55:46 a48ec62d6e4b39160349f67c4d7b7aa705e4b3bf0eddff91b5dfa9dbf4ba503b0747fcea076c92e3a42d868b5e1701158b8d8421b1cfebbc8f4f752d64697317770f02d27789c68d84bb8354dd121cce6a5ce90a32bdb4271af13335699174106801c7f6c036cb72f4630698a6eebe5bf62a589bcbbb11aa3be8c63df35b6a9d
