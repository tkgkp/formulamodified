:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_asdz.fml
:: Utworzony: 20.02.2020
:: Autor: jaws
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_ASDZ - Zestawy danych dla dokumentów.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: jaws [20.14]
:: OPIS: Zestawy danych dla dokumentów - główna formuła czynności.
::----------------------------------------------------------------------------------------------------------------------
_mode:='maximized_with_title';
:: przygotuj główny panel konfiguracji
_wnd:=SD_WREK.grp_make('Zestawy danych dla dokumentów'@,
:: przed otwarciem
   "  SD_WREK.index('NAZWA');
      SD_WREK.prefix();
      SD_WKOL.cntx_psh();
      SD_WKOL.index('NUMER');
      SD_WPAR.cntx_psh();
      SD_WPAR.index('NUMER');
      1
   ",
:: identyfikator
   '#sd_def_konf',,,
:: podczas zamykania
   "  SD_WKOL.cntx_pop();
      SD_WPAR.cntx_pop();
      1
   ",,
:: tryb
   'maximized'
);
:: lista zestawów danych
SD_WREK.grp_sel(_wnd,SD_WREK,'CFG',,
:: po odświeżeniu
   "  grp_disp(SD_WKOL,'CFG',1,1);
      grp_disp(SD_WPAR,'CFG',1,1)
   ",,,
:: wysokość
   20,,,,,
:: tryb
   _mode
);
SD_WREK.grp_splt(_wnd,,'horizontal','bottom');
:: dane zestawu
SD_WREK.grp_sel(_wnd,SD_WKOL,'CFG','Struktura danych'@,,,,,
:: przed obsługą
   "  {? grp_empty(SD_WREK,'CFG')
      || return('#disable')
      ?};
      SD_WKOL.prefix(exec('wrek_ref','szablon'))
   ",,,,
:: tryb
   _mode
);
:: parametry zestawu
SD_WREK.grp_sel(_wnd,SD_WPAR,'CFG','Definicja parametrów'@,,,,,
:: przed obsługą
   "  {? grp_empty(SD_WREK,'CFG')
      || return('#disable')
      ?};
      SD_WPAR.prefix(exec('wrek_ref','szablon'))
   ",,,,
:: tryb
   _mode
);

:: wyświetl panel
SD_WREK.cntx_psh();
SD_WREK.win_sel(_wnd);
:: obsługa danych chronionych
:: definicja używanych obiektów (tabela, indeksy, okienka)
_obj:=obj_new('TAB','NDX','WIN');
params_set('obj',_obj);
SD_WREK.select();
:: porządki
SD_WREK.cntx_pop();
SD_WREK.win_del(_wnd);
~~

:Sign Version 2.0 jowisz:1045 2022/06/30 14:22:55 995cb48f3bce41d29c737e219106d13cb98470d9f5028f5bcc518acddf5bb6ea75373be9d6ab3b2026418d3981e2aedfaddc999396fff71829bee73d950c31b02c55ac9f5d34512056db359457243b23911cdfb70c399e3f6abcf9fe3319a458f746a6a4e0818d7621945977f1fcf07a5ff1f80bc09a65aba6f003c05fae3221
