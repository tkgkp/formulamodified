:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !pkd_zat_pzat.fml
:: Utworzony: 18.03.2015
:: Autor: RWR
::======================================================================================================================
:: Zawartość: Obsługa czynności PKD_ZAT_PZAT - Przygotowanie zatrudnienia.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Przygotowanie zatrudnienia - główna formuła czynności.
::   WE:
::   WY:
::  OLD: \UMPRAC/ext_slo.fml
::----------------------------------------------------------------------------------------------------------------------
::# permissions=F_ZATR,UD_SKL
::# kind=WE, symbol=OSOBA, type=_OSOBA, name=Wskazanie osoby, required=N, keyref=N
::# kind=WE, symbol=EDOKUM, type=_EDOKUM, name=Wskazanie na dokument w obiegu, required=N, keyref=N
::
::# kind=WEW, symbol=H, type=_H, name=Wskazanie angażu, required=N, keyref=N
::
::# kind=WY, symbol=OSOBA, type=_OSOBA, name=Wskazanie osoby, required=N, keyref=N
::# kind=WY, symbol=P, type=_P, name=Wskazanie pracownika, required=N, keyref=N
::# kind=WY, symbol=H_UM, type=_H_UM, name=Wskazanie umowy, required=N, keyref=N
::# kind=WY, symbol=H, type=_H, name=Wskazanie angażu, required=N, keyref=N
::
:: UWAGA: do poprawnego działania poza procesami wykorzystywany jest kontekst, w którym musi być określone
:: H wskazujące na rekord w przebiegu zatrudnienia
::
params_set(params_get());
exec('main','wspolpraca','P')


\desc
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Przygotowanie zatrudnienia - formuła opisu zadania.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
params_set(params_get());
_tab:=exec('desc','wspolpraca');

{? _tab.ZAW_DANE='T'
|| {? +_tab.STN & +_tab.UD_SKL
   || {? _tab.OBCY='T'
      || 'Przygotuj umowę o pracę: %1 %2: Paszport - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PASZPORT,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      |? +_tab.PESEL
      || 'Przygotuj umowę o pracę: %1 %2: PESEL - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PESEL,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      || 'Przygotuj umowę o pracę: %1 %2: Data urodzenia - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.UR_DATA,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      ?}
   || {? _tab.OBCY='T'
      || 'Przygotuj umowę o pracę: %1 %2: Paszport - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PASZPORT,_tab.T,_tab.IP]
      |? +_tab.PESEL
      || 'Przygotuj umowę o pracę: %1 %2: PESEL - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PESEL,_tab.T,_tab.IP]
      || 'Przygotuj umowę o pracę: %1 %2: Data urodzenia - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.UR_DATA,_tab.T,_tab.IP]
      ?}
   ?}
|| 'Przygotuj umowę o pracę'@@
?}

:Sign Version 2.0 jowisz:1048 2020/10/16 15:19:17 c74f93dce6bbbf4d6fb445c5fcaaeb8885b024915e823368a4305580b7ca767b201cae254b7ce7cb2da15430307fef7eec06c6bede866d85e9d98a87c2a9a73813ffbe7b081e559e0ed30f028a282af3b2add2dd5204729d3c5b492d518a0019cbeebf16cc8a20c19a54b2f5497de2af8a925d1afd630be7533ac7624e372017
