:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !fks_ksr_zboc.fml
:: Utworzony: 21.05.2015
:: Autor: PJ
::======================================================================================================================
:: Zawartość: Formuły czynności FKS_KSR_ZBOC - Obroty kont walutowych
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Obroty kont walutowych - główna formuła czynności FKS_KSR_ZBOC.
::----------------------------------------------------------------------------------------------------------------------
::# permissions=FJKS
~~


\add_tab
::----------------------------------------------------------------------------------------------------------------------
::  UTW: AMK [17.00]
:: OPIS: Dodaje okno do okna grupowego
::   WE: _a - nazwa zakładki
::       _b - tabela
::       _c - okno grupowe
::----------------------------------------------------------------------------------------------------------------------
exec('set_var','!fks_ksr_zbob');
dwiewalo:=1;
__PSLOW:=null;
exec('obr_create','!fks_ksr_zboc');
{? var_press('TAB_OBRW')<=0
|| exec('tab_create_w','fks_ksr')
?};
_b.grp_sel(_c,TAB_OBRW,TAB_OBRW.win_sel('?'),_a,"",,,,"zakladka:=4;exec('get_global','!fks_ksr_zboc');dwiewalo:=1;zm_wal:=0",
           "exec('set_global','!fks_ksr_zboc')",,,'maximized_with_title');
task_attach('FKS_KSR_ZBOC')


\set_global
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Ustawienie zmiennych globalnych do obrotów
::----------------------------------------------------------------------------------------------------------------------
__OBRW.UT_OKROD:=ROZNE.UT_OKROD;
__OBRW.UT_OKRDO:=ROZNE.UT_OKRDO;
__OBRW.UT_ROKOD:=ROZNE.UT_ROKOD;
__OBRW.UT_ROKDO:=ROZNE.UT_ROKDO;
__OBRW.PAR4:=ROZNE.PAR4;
__OBRW.PREFIX:=ROZNE.PREFIX;
__OBRW.MASKA:=ROZNE.MASKA;
__OBRW.PSLO:=UNPAR.PSLO


\get_global
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Użycie zmiennych globalnych do obrotów
::----------------------------------------------------------------------------------------------------------------------
ROZNE.UT_OKROD:=__OBRW.UT_OKROD;
ROZNE.UT_OKRDO:=__OBRW.UT_OKRDO;
ROZNE.UT_ROKOD:=__OBRW.UT_ROKOD;
ROZNE.UT_ROKDO:=__OBRW.UT_ROKDO;
ROZNE.PAR4:=__OBRW.PAR4;
ROZNE.PREFIX:=__OBRW.PREFIX;
ROZNE.MASKA:=__OBRW.MASKA;
UNPAR.PSLO:=__OBRW.PSLO


\obr_create
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Inicjowanie zmiennych globalnych do obrotów
::----------------------------------------------------------------------------------------------------------------------
{? var_pres('__OBRW')<0
|| __OBRW:=obj_new('UT_OKROD','UT_OKRDO','UT_ROKOD','UT_ROKDO','PAR4','PREFIX','MASKA','PSLO')
?};
__OBRW.UT_OKROD:=__OBRW.UT_OKRDO:=SSTALE.AO;
__OBRW.UT_ROKOD:=__OBRW.UT_ROKDO:=SSTALE.AR;
__OBRW.PAR4:=0;
__OBRW.PREFIX:=__OBRW.MASKA:='';
__OBRW.PSLO:=null()


\set_var
::----------------------------------------------------------------------------------------------------------------------
::  UTW: PJ [17.00]
:: OPIS: Ustawia zmienne po zmianie stałych
::----------------------------------------------------------------------------------------------------------------------
dwiewalo:=1;
ROZNE.UT_OKROD:=ROZNE.UT_OKRDO:=SSTALE.AO;
ROZNE.UT_ROKOD:=ROZNE.UT_ROKDO:=SSTALE.AR;
BILANSP.ASYNT:=SSTALE.AR().SYNT;
BILANSP.ASEP:=SSTALE.AR().SEP


:Sign Version 2.0 jowisz:1028 2019/06/07 15:55:42 bd632bb5beedffda7358ea2ad7570f87942ee320dfc04c4a91c77b76c1b72aa5bbf3b293a321446230e42e9d94c298b4e5123082a733453db143474d6f2c5994423ff09c7edde975ceb3eefd63900bc4107d9a2a1c8211ab6640a5b12131b3d11b040ec15d4076ab5f0351a7f192e48590e6666463b350b20222a2b92a61a872
