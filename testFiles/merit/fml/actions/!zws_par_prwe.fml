:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_prwe.fml
:: Utworzony: 08.05.2017
:: Autor: areKc
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_PRWE - Rodzaje wejść/wyjść.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.28]
:: OPIS: Definicja rodzajów wejść i wyjść.
::   WE:
::   WY:
::  OLD: \rwewy_s/stale.fml
::----------------------------------------------------------------------------------------------------------------------
R_WEWY.cntx_psh();
R_WEWY.win_sel('WER');
R_WEWY.win_edit('RED');
R_WEWY.index('R_STATUS');
R_WEWY.prefix();
R_WEWY.select();
R_WEWY.cntx_pop();
~~


\r_wewy_wer_br
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.42]
:: OPIS: Funkcja rekord przed w tabeli rodzajów wejść i wyjść (R_WEWY).
::   WE: _a [NUMBER] - Rekord bieżący? [0 - nie / 1 - tak]
::   WY:
::  OLD: \RWWrekpo/okienka.fml
::----------------------------------------------------------------------------------------------------------------------
{? _a
|| _gray:='';
   {? R_WEWY.SYSTEM='T'
   || _gray:='pu'
   ?};
   R_WEWY.actions_grayed('WER',_gray)
?};
~~


\r_wewy_wer_ar
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.28]
:: OPIS: Funkcja rekord po w tabeli rodzajów wejść i wyjść.
::   WE:
::   WY:
::  OLD: \RWWrekpo/okienka.fml
::----------------------------------------------------------------------------------------------------------------------
_war:=1;
R_WEWY.TR:=(R_WEWY.TP='WYJŚCIE');
R_WEWY.MD:=(R_WEWY.RD='służbowe');
{? R_WEWY.ST=0
|| FUN.emsg('Należy podać status wejścia/wyjścia.'@);
   _war:='ST'
|| _ref:=R_WEWY.ref();
   R_WEWY.cntx_psh();
   R_WEWY.index('R_STATUS');
   {? R_WEWY.find_key(R_WEWY.ST) & (-menu_txt()='dołącz' | (-menu_txt()='popraw' & R_WEWY.ref()<>_ref))
   || FUN.emsg('%1\n%2'
         ['Rodzaj wejścia/wyjścia o symbolu "%1" występuje w tabeli.'@[$R_WEWY.ST],
          'Należy podać inny symbol lub poprawić istniejące zapisy.'@],
      );
      _war:='ST'
   ?};
   R_WEWY.cntx_pop()
?};
_war


\typ_WEJSCIE
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Wartość pola TP z tabeli R_WEWY.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
'WEJŚCIE'


\typ_WYJSCIE
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Wartość pola TP z tabeli R_WEWY.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
'WYJŚCIE'


\rodzaj_normalne
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Wartość pola RD z tabeli R_WEWY.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
'normalne'


\rodzaj_sluzbowe
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Wartość pola RD z tabeli R_WEWY.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
'służbowe'

:Sign Version 2.0 jowisz:1028 2019/10/14 09:20:09 336280bc4282f58c3306a7640bf76e1ddb6e441237604f586c0fa12fdb9c79e9fded7da331416e46d9d130c1f7b9ac644aeb2da8b1fa25395b69fefdcaf7f7b542e7f1ec34464d169020b76ec8cedbf3e1cde145e59dda16768fe9381f73b53b39467fd05142cb4ee0f9821381f944d0b862cd3f87a5f3542bf104c9359b06db
