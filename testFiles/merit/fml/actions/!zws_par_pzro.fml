:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_pzro.fml
:: Utworzony: 09.05.2017
:: Autor: areKc
::======================================================================================================================
:: Zawartość: Formuły czynności ZWS_PAR_PZRO - Definicja źródeł danych.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Definicja źródeł danych.
::   WE:
::   WY:
::  OLD: \_rkart03/war_tech.fml
::----------------------------------------------------------------------------------------------------------------------
R_OPCZYT.cntx_psh();
R_OPCZYT.win_sel('WER');
R_OPCZYT.win_edit('RED');
R_OPCZYT.index('R_OPCZYT');
R_OPCZYT.prefix();
R_OPCZYT.select(,,,'W');
R_OPCZYT.cntx_pop();
~~


\r_opczyt_bl_symbol
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.28]
:: OPIS: Wartość początkowa pola SYMBOL w tabeli R_OPCZYT.
::   WE:
::   WY:
::  OLD: \_RKART02/war_tech.fml
::----------------------------------------------------------------------------------------------------------------------
'<WEJWYJ>'


\r_opczyt_aa_a
::----------------------------------------------------------------------------------------------------------------------
::  UTW: DRO [17.28]
:: OPIS: Formła wykonywana po akcji Kartoteki w oknie tabeli R_OPCZYT.
::   WE:
::   WY:
::  OLD: \wybierz/r_kart.fml
::----------------------------------------------------------------------------------------------------------------------
__wynik:=R_OPCZYT.SYMBOL;
R_KDEF.clear();
R_KDEF.index('SYMBOL');
{? R_KDEF.first()
|| _menu:='popup(0,\'Kartoteki dodatkowe\'';
   _menu+=',\'Wejścia / Wyjścia - Standardowe działanie systemu\',';
   _menu+=',"__wynik:=\'<WEJWYJ>\'"';
   _menu+=',\'--X\',,""';
   {!
   |? _menu+=',\''+R_KDEF.OPIS+'\',,"__wynik:=\''+R_KDEF.SYMBOL+'\'"';
      R_KDEF.next()
   !};
   _menu+=')';
   ($_menu)()
?};
R_OPCZYT.SYMBOL:=&__wynik;
{? R_OPCZYT.SYMBOL<>'WEJWYJ' || R_OPCZYT.PORTAL:=R_OPCZYT.SL:='N' ?};
R_OPCZYT.put()


\r_opczyt_wer_br
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Funkcja rekord przed w tabeli z definicją źródeł danych, ukrywanie akcji Kartoteka
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_gray:='';
{? R_OPCZYT.SYMBOL='<SYSTEM>'
|| _gray:='UA'
?};
R_OPCZYT.actions_grayed('WER',_gray);
~~


\r_opczyt_wer_ar
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.28]
:: OPIS: Funkcja rekord po w tabeli z definicją źródeł danych.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
__CHK.record(R_OPCZYT,,'K','O')


\r_opczyt_k_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed redakcją pola K w tabeli R_OPCZYT.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
_result:=R_OPCZYT.SYMBOL<>'<SYSTEM>';
R_OPCZYT.efld_opt('RED','mark='+($_result),,'K');
R_OPCZYT.efld_opt('RED','mark='+($_result),,'O');
_result


\r_opczyt_o_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed redakcją pola O w tabeli R_OPCZYT.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
R_OPCZYT.SYMBOL<>'<SYSTEM>'


\r_opczyt_portal_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed redakcją pola PORTAL w tabeli R_OPCZYT.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
R_OPCZYT.SYMBOL='<SYSTEM>' | R_OPCZYT.SYMBOL='<WEJWYJ>'


\r_opczyt_sl_be
::----------------------------------------------------------------------------------------------------------------------
::  UTW: areKc [17.42]
:: OPIS: Formuła przed redakcją pola SL w tabeli R_OPCZYT.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
R_OPCZYT.SYMBOL='<SYSTEM>' | R_OPCZYT.SYMBOL='<WEJWYJ>'

:Sign Version 2.0 jowisz:1028 2019/06/07 15:56:07 9779ac4e85ae1151eaa98804cece28cbb88b6388ff11f9583559aae5a758940b08a02a389832b4901159c8e49c14c8e423e91a170f273727071e014dc5f0ed597d897fc356ca74fae5071d0b6c30f6ab7868e9ec628f65a89c8bff67fd74b9d9ba755f5fdb12707edd0c4cbee18bb97e13660eff98631eb962d4d7043e1b5792
