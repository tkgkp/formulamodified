:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !zws_par_kdjm.fml
:: Utworzony: 02.12.2014
:: Autor: [rr]
::======================================================================================================================
:: Zawartosc: Formuły czynności ZWS_PAR_KDJM
::            Jednostki miary
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: Czynność ZWS_PAR_KDJM - jednostki miary
::       UWAGA. Do pobrania parametrów stosować params_get() = tablica nazwana:
::       _in  - [obj_new] - parametry wejsciowe czynnosci
::       _int - [obj_new] - parametry wewnetrzne czynnosci
::       _out - [obj_new] - parametry wyjsciowe czynnosci
::       _mp  - obiekt odpowiedzialny za obsluge procesu
::----------------------------------------------------------------------------------------------------------------------
exec('select','!zws_par_kdjm');
''


\select
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: słownik JM - wprowadzanie jednostek miary
::  OLD: \slo_jm/skid
::  TAG: <LISTA><JM>
::----------------------------------------------------------------------------------------------------------------------
BEER.TAB:='JM';
JM.fld_fml('DOKL','DISPLAY_FORMAT',"{? JM.DOKL=-1 || 'empty=1' || 'empty=0' ?}");
JM.index('KOD');
JM.prefix();
JM.win_sel('WER');
JM.select()


\chk_jm
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MZ [2008]
:: OPIS: akcja rekord po dla tabeli JM - jednostki miary
::  OLD: \chk_jm/skid.fml
::  TAG: <JM><CHK><MBUILDER>
::----------------------------------------------------------------------------------------------------------------------
{? -(1+menu_txt)='d'
||
   _result:=exec('chk_jm','jm','add')
||
   _result:=exec('chk_jm','jm','put')
?};
_result


\del_jm
::----------------------------------------------------------------------------------------------------------------------
::  UTW: MZ [2008]
:: OPIS: przed usuń dla słownika JM - sprawdza czy nie ma powiazań
::  OLD: \del_jm/skid.fml
::  TAG: <JM><DEL><MBUILDER>
::----------------------------------------------------------------------------------------------------------------------
{? JM.count()>0
|| FUN.info('Pozycja jest powiązana.\nUsunięcie niemożliwe.'@);0
|| 1
?}


\sel_przel
::----------------------------------------------------------------------------------------------------------------------
::  UTW: [rr] [17.00]
:: OPIS: obsługa standardowych przeliczników
::  OLD: \przel_jm/przelicz.dml
::  TAG: <JM><AKCJA><MBUILDER>
::----------------------------------------------------------------------------------------------------------------------
JM.cntx_psh();
JM.f_clear();
JM.win_dict('SLO');
BEER.MJM:=null();
_old_tab:=BEER.TAB;
BEER.TAB:='';
MJM.index('JM');
MJM.prefix(BEER.MJM);
MJM.win_sel('STD');
MJM.hdr_sel();
MJM.select();
BEER.TAB:=_old_tab;
JM.cntx_pop();
~~

:Sign Version 2.0 jowisz:1045 2021/09/17 15:17:02 528aad55ce5f9c5049b63c161d05ff3cd017a16f429be97c408ccbc2c6062502a1415bc685928c716d0ef7cac45fdabc37834fe083e072bd9aa1f684afc9382d92bf5d1649ae4d7c2dd02161c4ed3b7bd8b630d6ebc6abeacc710f20bcf8cba07167905f633931dfac2c6fdfe64446cde8fc244cdf0771976d381dcfb810e9e6
