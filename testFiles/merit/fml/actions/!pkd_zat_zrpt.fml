:!UTF-8
:: (c) Macrologic S.A. Wszelkie prawa zastrzeżone
::======================================================================================================================
:: Nazwa pliku: !pkd_zat_zrpt.fml
:: Utworzony: 18.11.2016
:: Autor: RWR
::======================================================================================================================
:: Zawartość: Obsługa czynności PKD_ZAT_ZRPT - Rej. prac. tymczasowego.
::======================================================================================================================


\main
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Rej. prac. tymczasowego - główna formuła czynności.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
::# permissions=F_ZATR,UD_SKL
::# kind=WE, symbol=OSOBA, type=_OSOBA, name=Wskazanie osoby, required=N, keyref=N
::
::# kind=WEW, symbol=H, type=_H, name=Wskazanie angażu, required=N, keyref=N
::
::# kind=WY, symbol=OSOBA, type=_OSOBA, name=Wskazanie osoby, required=N, keyref=N
::# kind=WY, symbol=P, type=_P, name=Wskazanie pracownika, required=N, keyref=N
::# kind=WY, symbol=H_UM, type=_H_UM, name=Wskazanie umowy, required=N, keyref=N
::# kind=WY, symbol=H, type=_H, name=Wskazanie angażu, required=N, keyref=N
::
:: UWAGA: do poprawnego działania poza procesami wykorzystywany jest kontekst, w którym musi być określone
:: H wskazujące na rekord w przebiegu zatrudnienia
::
params_set(params_get());
exec('main','wspolpraca','T')


\desc
::----------------------------------------------------------------------------------------------------------------------
::  UTW: RWR [17.00]
:: OPIS: Rej. prac. tymczasowego - formuła opisu zadania.
::   WE:
::   WY:
::----------------------------------------------------------------------------------------------------------------------
params_set(params_get());
_tab:=exec('desc','wspolpraca');

{? _tab.ZAW_DANE='T'
|| {? +_tab.STN & +_tab.UD_SKL
   || {? _tab.OBCY='T'
      || 'Zarejestruj pracownika tymczasowego: %1 %2: Paszport - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PASZPORT,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      |? +_tab.PESEL
      || 'Zarejestruj pracownika tymczasowego: %1 %2: PESEL - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PESEL,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      || 'Zarejestruj pracownika tymczasowego: %1 %2: Data urodzenia - %3, Numer teczki - %4, Identyfikator - %5 (%6/%7)'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.UR_DATA,_tab.T,_tab.IP,_tab.STN,_tab.UD_SKL]
      ?}
   || {? _tab.OBCY='T'
      || 'Zarejestruj pracownika tymczasowego: %1 %2: Paszport - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PASZPORT,_tab.T,_tab.IP]
      |? +_tab.PESEL
      || 'Zarejestruj pracownika tymczasowego: %1 %2: PESEL - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.PESEL,_tab.T,_tab.IP]
      || 'Zarejestruj pracownika tymczasowego: %1 %2: Data urodzenia - %3, Numer teczki - %4, Identyfikator - %5'@@
            [_tab.NAZWISKO,_tab.PIERWSZE,_tab.UR_DATA,_tab.T,_tab.IP]
      ?}
   ?}
|| 'Zarejestruj pracownika tymczasowego'@@
?}

:Sign Version 2.0 jowisz:1048 2020/10/16 15:19:17 d413c2ac991ce90efbc6832ce97a8443087ebbaad7e09ce8c2609ebd07758a9e52aca987f884b56b30abd5a888894e38a60084c0c2554461b4b9a65c94fee58296e032003c8e8488bffd0897bcb627a7f3e57329f2e821b07b17a68e4f0b7128fc098fad20d36f55cbf5bd1a1fdafd4603f0bccbdc4fd8223f022ecfcf55f4a2
